diff -N -U2 -r uClinux-dist-20091129/Documentation/HP-DJ-HOWTO uClinux-dist-20091129-dj/Documentation/HP-DJ-HOWTO
--- uClinux-dist-20091129/Documentation/HP-DJ-HOWTO	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/Documentation/HP-DJ-HOWTO	2010-02-16 23:59:46.000000000 -0500
@@ -0,0 +1,73 @@
+
+This is a "sneak preview" release of a bootable uClinux for
+older Coldfire-based HP Deskjet printers.
+
+Currently none of the motors or sensors are supported.  This
+is just a proof-of-concept release.
+
+Currently the only platform tested is the Deskjet 895cxi.
+
+Note that this code is being developed without any documentation
+on the hardware.  The current code does not attempt to drive any 
+motors or devices, but even so there is a small chance it may 
+damage the hardware, and one should be prepared to deal with 
+unexpected movement or possibly even electrical burnouts, even
+when running on the same series the kernel is compiled for,
+since there is no assurance even identically numbered models
+have the exact same components.
+
+That said, there is a chance the binary image may work on a few
+models close to the 895cxi in lineage.  Note that a USB port
+is currently needed for shell access.
+
+
+==================================
+Test-driving the binary image:
+==================================
+
+Required: minicom, srecord, parallel port, usb 1.0 port + gserial.
+
+To boot the binary image, simply attach both the parallel port and
+the USB port, cycle the power on the dj895c with both buttons held down
+until all 3 LEDs come on, and do the following:
+
+modprobe usbserial vendor=0x0525 product=0xA4A6
+sleep 1
+cat image.srec > /dev/lp0
+
+...assuming your parallel port is lp0.  Then run minicom on 
+/dev/ttyUSB0 (assuming you have no other USB serial ports) and wait 
+for a login prompt.
+
+==================================
+Building from source
+==================================
+
+o Apply the patch to dist-20091129
+o make menuconfig; defaults should suffice
+o mkdir romfs
+o make
+o make again to get the romfs into the kernel's ramfs
+o Remember to cycle the printer power and hold the buttons
+o Use the runkernel script from vendors/HP/DJ895c.
+
+==================================
+Parallel console messages
+==================================
+
+There's a read-only hack to see console messages.
+Search for "p1284" in kernel/printk.c, and uncomment
+that line before building.
+
+Build the pphack.c file from inside vendors/HP/DJ895c.
+But first, adjust it to use the IO ports for your parallel 
+port.
+
+Uncomment the line that calls pphack in the runkernel 
+script from vendors/HP/DJ895c.
+
+You must leave the parallel port plugged in or the 
+kernel will halt.
+
+A parallel console usable with ptal-mlcd will hopefully
+be ready by the next preview release.
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/atomic_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/atomic_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/atomic_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/atomic_no.h	2010-01-27 19:42:19.000000000 -0500
@@ -21,5 +21,5 @@
 static __inline__ void atomic_add(int i, atomic_t *v)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__("addl %1,%0" : "+m" (*v) : "d" (i));
 #else
@@ -30,5 +30,5 @@
 static __inline__ void atomic_sub(int i, atomic_t *v)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__("subl %1,%0" : "+m" (*v) : "d" (i));
 #else
@@ -40,5 +40,5 @@
 {
 	char c;
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__("subl %2,%1; seq %0"
 			     : "=d" (c), "+m" (*v)
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/bitops_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/bitops_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/bitops_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/bitops_no.h	2010-01-27 19:43:21.000000000 -0500
@@ -52,5 +52,5 @@
 static __inline__ void set_bit(int nr, volatile unsigned long * addr)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %0,%%a0; bset %1,(%%a0)"
 	     : "+m" (((volatile char *)addr)[(nr^31) >> 3])
@@ -75,5 +75,5 @@
 static __inline__ void clear_bit(int nr, volatile unsigned long * addr)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %0,%%a0; bclr %1,(%%a0)"
 	     : "+m" (((volatile char *)addr)[(nr^31) >> 3])
@@ -92,5 +92,5 @@
 static __inline__ void change_bit(int nr, volatile unsigned long * addr)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %0,%%a0; bchg %1,(%%a0)"
 	     : "+m" (((volatile char *)addr)[(nr^31) >> 3])
@@ -111,5 +111,5 @@
 	char retval;
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %1,%%a0; bset %2,(%%a0); sne %0"
 	     : "=d" (retval), "+m" (((volatile char *)addr)[(nr^31) >> 3])
@@ -132,5 +132,5 @@
 	char retval;
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %1,%%a0; bclr %2,(%%a0); sne %0"
 	     : "=d" (retval), "+m" (((volatile char *)addr)[(nr^31) >> 3])
@@ -153,5 +153,5 @@
 	char retval;
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %1,%%a0\n\tbchg %2,(%%a0)\n\tsne %0"
 	     : "=d" (retval), "+m" (((volatile char *)addr)[(nr^31) >> 3])
@@ -201,5 +201,5 @@
 	char retval;
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %1,%%a0; bset %2,(%%a0); sne %0"
 	     : "=d" (retval), "+m" (((volatile char *)addr)[nr >> 3])
@@ -220,5 +220,5 @@
 	char retval;
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %1,%%a0; bclr %2,(%%a0); sne %0"
 	     : "=d" (retval), "+m" (((volatile char *)addr)[nr >> 3])
@@ -257,5 +257,5 @@
 	char retval;
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__asm__ __volatile__ ("lea %1,%%a0; btst %2,(%%a0); sne %0"
 	     : "=d" (retval)
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/checksum_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/checksum_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/checksum_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/checksum_no.h	2010-01-27 19:44:25.000000000 -0500
@@ -49,5 +49,5 @@
 {
 	unsigned int tmp = (__force u32)sum;
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	tmp = (tmp & 0xffff) + (tmp >> 16);
 	tmp = (tmp & 0xffff) + (tmp >> 16);
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dbg.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dbg.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dbg.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dbg.h	2010-01-27 19:44:46.000000000 -0500
@@ -1,4 +1,4 @@
 #define DEBUG 1
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 #define	BREAK asm volatile ("halt")
 #else
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/delay_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/delay_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/delay_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/delay_no.h	2010-01-27 19:46:08.000000000 -0500
@@ -11,5 +11,5 @@
 static inline void __delay(unsigned long loops)
 {
-#if defined(CONFIG_COLDFIRE)
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	/* The coldfire runs this loop at significantly different speeds
 	 * depending upon long word alignment or not.  We'll pad it to
@@ -53,5 +53,5 @@
 #if defined(CONFIG_M68328) || defined(CONFIG_M68EZ328) || \
     defined(CONFIG_M68VZ328) || defined(CONFIG_M68360) || \
-    defined(CONFIG_COLDFIRE)
+    defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	__delay((((usecs * HZSCALE) >> 11) * (loops_per_jiffy >> 11)) >> 6);
 #else
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj895c_asic.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj895c_asic.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj895c_asic.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj895c_asic.h	2010-02-16 20:21:03.000000000 -0500
@@ -0,0 +1,141 @@
+/****************************************************************************/
+
+/*
+ *	dj895c_asic.h -- ColdFire 5206 System Integration Module support.
+ *
+ *	(C) Copyright 1999, Greg Ungerer (gerg@snapgear.com)
+ * 	(C) Copyright 2000, Lineo Inc. (www.lineo.com) 
+ */
+
+/****************************************************************************/
+#ifndef	dj895c_asic_h
+#define	dj895c_asic_h
+/****************************************************************************/
+
+#include <asm/djio.h>
+
+#ifdef __ASSEMBLER__
+
+/*
+ *	Get hardware into a sane state regardless of whether or not
+ *      the HP-PPA sofware has been booted before us.
+ */
+.macro dj895c_asic_setup
+
+	movel #0x1fff700, %a0
+	moveq #0, %d0
+
+#if defined(CONFIG_DJ_INTERACTIVE_BOOT)
+	moveq #1, %d1
+        movew %d0, DJIO_A_UIFP_BTN0_ENAB(%a0)
+        movew %d0, DJIO_A_UIFP_LED3_LO(%a0)
+        movew %d0, DJIO_A_UIFP_LED0_LO(%a0)
+	movew %d0, DJIO_A_UIFP_LED1_LO(%a0)
+	movew %d0, DJIO_A_UIFP_LED2_LO(%a0)
+        movew %d1, DJIO_A_UIFP_LED3_HI(%a0)
+        movew %d0, DJIO_A_UIFP_LED0_HI(%a0)
+        movew %d0, DJIO_A_UIFP_LED1_HI(%a0)
+        movew %d0, DJIO_A_UIFP_LED2_HI(%a0)
+
+        moveq #0, %d7
+
+_button_wait:
+	movew DJIO_A_UIFP_BTN0_LO(%a0), %d6
+	andl  %d1, %d6
+        beq _button_pushed
+        addl #1, %d7
+        movel #255, %d5
+	andl %d7, %d5
+        movel %d7, %d4
+	lsrl #8, %d4
+        andl #255, %d4
+        cmpl %d4, %d5
+        ble _throb_leds
+        movew %d0, DJIO_A_UIFP_LED3_HI(%a0)
+        movew %d1, DJIO_A_UIFP_LED0_HI(%a0)
+        movew %d0, DJIO_A_UIFP_LED1_HI(%a0)
+        movew %d1, DJIO_A_UIFP_LED2_HI(%a0)
+        bra _button_wait
+_throb_leds:
+        movew %d1, DJIO_A_UIFP_LED3_HI(%a0)
+        movew %d0, DJIO_A_UIFP_LED0_HI(%a0)
+        movew %d1, DJIO_A_UIFP_LED1_HI(%a0)
+        movew %d0, DJIO_A_UIFP_LED2_HI(%a0)
+        bra _button_wait
+
+_button_pushed:
+
+#endif /* CONFIG_DJ_INTERACTIVE_BOOT */
+
+        movew %d0,0x1fff70e
+        movew %d0,0x1fff712
+        movew %d0,0x1fff716
+        movew %d0,0x1fff71a
+	jsr sysinit
+	movel #0x1fffe00, %a1
+	movew %d0, 0x00(%a1)
+	moveq #0x04, %d1
+	movew %d1, 0x02(%a1)
+	moveq #0x05, %d1
+	movew %d1, 0x04(%a1)
+	movew %d0, 0x08(%a1)
+	movew %d0, 0x06(%a1)
+	movel #0x1fffc00, %a1
+	movew 0x14(%a0), %d5
+	lsrl #8, %d5
+	andl #255, %d5
+	cmpl  %d5, %d1
+	bne _rev6plus_asic
+	moveb %d1, 0x01(%a1)
+	moveq #0x08, %d1
+	moveb %d1, 0x07(%a1)
+	moveq #0x10, %d1
+        moveb %d1, 0x09(%a1)
+        bra _end_nuances
+
+   _rev6plus_asic:
+	moveq #0x25, %d1
+	moveb %d1, 0x01(%a1)
+	moveq #0x08, %d1
+	moveb %d1, 0x07(%a1)
+	moveq #0x10, %d1
+	moveb %d1, 0x09(%a1)
+	moveq #0x0c, %d1
+        moveb %d1, 0x0b(%a1)
+
+  _end_nuances:
+	moveq #1, %d1
+        movew %d0, 0x0e(%a0)
+        movew %d0, 0x12(%a0)
+        movew %d0, 0x16(%a0)
+        movew %d0, 0x1a(%a0)
+        movew %d0, 0x0e(%a0)
+        movew %d0, 0x12(%a0)
+        movew %d1, 0x16(%a0)
+        movew %d1, 0x1a(%a0)
+        movew %d0, 0x0e(%a0)
+        movew %d0, 0x12(%a0)
+        movew %d1, 0x16(%a0)
+        movew %d0, 0x1a(%a0)
+#if 0
+	/*
+	 *	Set MBAR1 and MBAR2, just incase they are not set.
+	 */
+	movel	#0x10000001,%a0
+	movec	%a0,%MBAR			/* map MBAR region */
+	subql	#1,%a0				/* get MBAR address in a0 */
+
+	movel	#0x80000001,%a1
+	movec	%a1,#3086			/* map MBAR2 region */
+	subql	#1,%a1				/* get MBAR2 address in a1 */
+#endif
+
+.endm
+
+#define	PLATFORM_SETUP	dj895c_asic_setup
+
+#endif /* __ASSEMBLER__ */
+
+
+/****************************************************************************/
+#endif	/* dj895c_asic_h */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/djio.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/djio.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/djio.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/djio.h	2010-02-16 20:36:38.000000000 -0500
@@ -0,0 +1,142 @@
+/****************************************************************************/
+
+/*
+ *	djio.h -- Model dependent base IO registers for Deskjet ASICs
+ *
+ *	(C) Copyright 2009, Brian S. Julin (bri@abrij.org)
+ */
+
+/****************************************************************************/
+#ifndef	djio_h
+#define	djio_h
+/****************************************************************************/
+
+#if defined(CONFIG_DJ895C)
+#define DJIO_A 0x001fff000
+#define DJIO_B 0x001ffe000
+#define DJIO_C 0x001fe0000
+#define DJIO_TYPE_1
+#else /* CONFIG_DJ895C */
+#error  MMIO base addresses for this model not defined
+#endif /* MMIO base registers */
+
+#if defined(DJIO_TYPE_1)
+
+/*
+ * Common layout for the DeskJet 7xx/8xx series
+ *
+ * DJIO_A register area:
+ */
+
+#define DJIO_A_DEBUG  (DJIO_A | 0x000)  /* debugger ports                */
+#define DJIO_A_USB    (DJIO_A | 0x100)  /* USB chipset                   */
+   /* Nothing seen at 0x200 to 0x6FF yet                                 */
+#define DJIO_A_UIFP   (DJIO_A | 0x700)  /* Buttons, LEDs and sensors     */
+   /* don't know what it is at 0x8xx yet                                 */
+   /* don't know what it is at 0x9xx yet                                 */
+#define DJIO_A_KINE   (DJIO_A | 0xA00)  /* Steppers and DC motor drivers */
+#define DJIO_A_P1284  (DJIO_A | 0xB00)  /* IEEE 1284 parallel port       */
+#define DJIO_A_INITC  (DJIO_A | 0xC00)  /* ?? Set at boot, never touched */
+#define DJIO_A_TIMER  (DJIO_A | 0xD00)  /* Clock and timers              */
+#define DJIO_A_INITE  (DJIO_A | 0xE00)  /* ?? Set at boot, never touched */
+#define DJIO_A_IRQ    (DJIO_A | 0xF00)  /* IRQ controller                */
+
+/*
+ *  DJIO_B register area:
+ */
+
+   /* Nothing seen at 0x000 to 0x5FF yet                                 */
+#define DJIO_B_RESET  (DJIO_B | 0x600)  /* Base chipset functions        */
+#define DJIO_B_DMA    (DJIO_B | 0x700)  /* "CH0" io whatever that is     */
+#define DJIO_B_UNK1   (DJIO_B | 0x800)  /* don't know what 0x8xx is  yet */
+#define DJIO_B_UNK2   (DJIO_B | 0x900)  /* don't know what 0x9xx is  yet */
+   /* Nothing seen at 0xB00 to 0xFFF yet                                 */
+
+/*
+ *  DJIO_C register area
+ */
+#define DJIO_C_USB    (DJIO_C | 0x000)  /* USB FIFOs */
+
+#endif /* DJIO_TYPE_1 */
+
+/****************************************************************************/
+
+/* Registers in DJIO_A_UIFP
+ *
+ * This is more or less a miscellaneous bunch of registers touching lots of 
+ * systems, so the defines are kept here rather than in a subsystem header
+ * like most of the other blocks.  The whole block must be accessed as word
+ * values.  Since the simple sensors and buttons are here it is named "UIFP"
+ * which seems to be the HP name standing for something like "user interface
+ * front panel."  Just a guess.
+ */
+
+/*            ***   Word-wide access only ***                       */
+
+#define DJIO_A_UIFP_USB_CARRIER (DJIO_A_UIFP | 0x00) /* 1 if usb plugged */
+#define DJIO_A_UIFP_USBNEW_CTL2 (DJIO_A_UIFP | 0x02) /* word access */
+#define DJIO_A_UIFP_USBOLD_CTL2 (DJIO_A_UIFP | 0x04) /* word access */
+#define DJIO_A_UIFP_USBOLD_CTL1 (DJIO_A_UIFP | 0x06) /* word access */
+#define DJIO_A_UIFP_USBNEW_CTL1 (DJIO_A_UIFP | 0x76) /* 1 to enable USB */
+
+/*
+ * In a probably vain attempt at consistency across models, buttons
+ * LEDS and sensors will be ordered as follows:
+ *
+ * Buttons:   power, resume, ...
+ * LEDs:      power, paper/resume, error, tray, ...
+ * Sensors:   paper, lid, tray, ...
+ */
+#define DJIO_A_UIFP_SENS2_LO       0x08  /* active low tray switch pressure */
+#define DJIO_A_UIFP_LED3_LO        0x0C  /* tray LED and gate LO */
+#define DJIO_A_UIFP_LED3_HI        0x0E  /* tray LED and gate HI */
+#define DJIO_A_UIFP_LED0_LO        0x10  /* power LED and gate LO */
+#define DJIO_A_UIFP_LED0_HI        0x12  /* power LED and gate HI */
+#define DJIO_A_UIFP_LED1_LO        0x14  /* paper/resume LED and gate LO */
+#define DJIO_A_UIFP_LED1_HI        0x16  /* paper/resume LED and gate HI */
+#define DJIO_A_UIFP_LED2_LO        0x18  /* error LED and gate LO */
+#define DJIO_A_UIFP_LED2_HI        0x1A  /* error LED and gate HI */
+#define DJIO_A_UIFP_BTN1_LO        0x1C  /* active-low paper button pressure */
+#define DJIO_A_UIFP_BTN0_LO        0x20  /* active-low power button pressure */
+#define DJIO_A_UIFP_SENS1_LO       0x24  /* active-low lid open photosensor */
+#define DJIO_A_UIFP_SENS0_LO       0x28  /* active-low paper-out photosensor */
+#define DJIO_A_UIFP_SENS1_ENAB     0x44  /* active-low lid open enable */
+#define DJIO_A_UIFP_BTN0_ENAB      0x4C  /* active-low power button enable */
+#define DJIO_A_UIFP_BTN1_ENAB      0x54  /* active-low paper button enable */
+#define DJIO_A_UIFP_SENS2_ENAB     0x74  /* active-low tray switch enable */
+
+
+/*
+ * As far as I can tell only bit #0 in each word does anything.
+ * As such the bitfield definitions below will probably go away
+ * and we'll just keep track of the sense in comments here.
+ */
+
+/* Bitfields for register DJIO_A_UIFP_USB_CARRIER */
+#define DJIO_A_UIFP_USB_CARRIER_PRESENT 0x0001       /* present if set */
+
+/* Values for register DJIO_A_USBNEW_CTL2
+ *
+ * This register is used on newer chips
+ *
+ */
+#define DJIO_A_UIFP_USBNEW_CTL2_INIT 0x0000 /* ??? set when initialized */
+
+/* Values for register DJIO_A_USBOLD_CTL2c*/
+#define DJIO_A_UIFP_USBOLD_CTL2_INIT 0x0001 /* ??? set when initialized */
+
+/* Values for register DJIO_A_USBOLD_CTL1c*/
+#define DJIO_A_UIFP_USBOLD_CTL1_INIT 0x0001 /* ??? set when initialized */
+
+/* Bitfields for register DJIO_A_USBNEW_CTL1
+ *
+ * This register is used on newer chips
+ *
+ */
+#define DJIO_A_UIFP_USBNEW_CTL1_ENAB 0x0001 /* enable (power on?) subsys */
+
+
+
+/****************************************************************************/
+#endif	/* djio_h */
+
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_irq.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_irq.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_irq.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_irq.h	2010-02-16 20:41:13.000000000 -0500
@@ -0,0 +1,44 @@
+/****************************************************************************/
+
+/*
+ *	dj_irq.h -- Deskjet ASIC IRQ controller
+ *
+ *	(C) Copyright 2009, Brian S. Julin (bri@abrij.org)
+ */
+
+/****************************************************************************/
+#ifndef	dj_irq_h
+#define	dj_irq_h
+/****************************************************************************/
+
+/* 
+ * Registers in DJIO_A_IRQ interrupt control register block
+ */
+#define DJIO_A_IRQ_GLOBAL         (DJIO_A_IRQ + 0x00) /* Global control */
+#define DJIO_A_IRQ_IRQN           (DJIO_A_IRQ + 0x02) /* First per-irq reg */
+
+/*
+ * Values for register DJIO_A_IRQ_GLOBAL
+ */
+#define DJIO_A_IRQ_GLOBAL_DISABLE   0x01
+#define DJIO_A_IRQ_GLOBAL_ENABLE    0x00
+#define DJIO_A_IRQ_GLOBAL_UNKNOWN   0x78  /* ??? values change spontaneously */
+
+/*
+ * Bitfields in register DJIO_A_IRQ_IRQN and subsequent per-irq registers
+ */
+
+#define DJIO_A_IRQ_IRQN_PRIO_MASK   0x07  /* IRQ priority + enable */
+#define DJIO_A_IRQ_IRQN_DISABLE     0x00  /* Priority 0 turns IRQ off */
+#define DJIO_A_IRQ_IRQN_ACK         0x80  /* set by hw, clear to ack */
+
+/* Other defines */
+
+#define DJIO_A_IRQ_NIRQ             0x13  /* there may be more ??? */
+#define DJIO_A_IRQ_N(N)             (DJIO_A_IRQ_IRQN + (N))
+
+/* Offset of IRQs to vector numbers */
+#define DJIO_IRQ_BASE		    0x40
+
+/****************************************************************************/
+#endif	/* dj_irq_h */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_p1284.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_p1284.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_p1284.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_p1284.h	2010-01-27 19:50:43.000000000 -0500
@@ -0,0 +1,60 @@
+/****************************************************************************/
+
+/*
+ *	dj_p1284.h -- Definitions for HP Deskjet peripheral-side p1284 support.
+ *
+ * 	(C) Copyright 2009 Brian S. Julin (bri@abrij.org)
+ */
+
+/****************************************************************************/
+#ifndef	dj_p1284_h
+#define	dj_p1284_h
+/****************************************************************************/
+
+/* 
+ * REGISTERS 
+ *
+ * The base address DJIO_A_P1284 should be defined before including this
+ * file.  All register identifiers are relative to that base address.
+ */
+#define DJIO_A_P1284_DATA          0x00  /* read/write levels of 8 data pins */
+#define DJIO_A_P1284_CNTL          0x02  /* control of host status signals */
+#define DJIO_A_P1284_CFG1          0x03  /* data reverse mode, other config */
+#define DJIO_A_P1284_STAT          0x07  /* status of host control signals */
+
+/*
+ * Note we are on the peripheral end of the cable, so the names normally
+ * used for outputs are stat register inputs, and visa versa.
+ */
+
+/* 
+ * Bitfields within DJIO_A_P1284_STAT.  The number is the 1284-A pin.
+ */
+#define DJIO_A_P1284_STAT_16       0x01  /* INIT/ReverseRequest            */
+#define DJIO_A_P1284_STAT_01       0x02  /* STROBE/WRITE/HostClk           */
+#define DJIO_A_P1284_STAT_14       0x04  /* AUTOFD/DSTROBE/HostAck         */
+#define DJIO_A_P1284_STAT_17       0x08  /* SelectIn/ASTROBE/1284 Active   */
+#define DJIO_A_P1284_STAT_MASK     0x0f  /* For discarding other bits      */
+
+/* 
+ * Bitfields within DJIO_A_P1284_CNTL.  The number is the 1284-A pin.
+ */
+#define DJIO_A_P1284_CNTL_15       0x01  /* FAULT/PeriphRequest            */
+#define DJIO_A_P1284_CNTL_13       0x02  /* Select/XFlag                   */
+#define DJIO_A_P1284_CNTL_12       0x04  /* PError/AckReverse              */
+#define DJIO_A_P1284_CNTL_11       0x08  /* BUSY/WAIT/PeriphAck            */
+#define DJIO_A_P1284_CNTL_10       0x10  /* ACK/INTR/PeriphClk             */
+
+/* 
+ * Bitfields within DJIO_A_P1284_CTL1.  Reverse tristate and other configs.
+ */
+#define DJIO_A_P1284_CTL1_DDRV     0x80  /* Untristate DATA, "reverse" drive.*/
+
+
+/****************************************************************************/
+
+/* prototype for setup */
+extern int setup_dj_p1284_console(void);
+extern void dj_p1284_console_write (struct console *co, const char *s,
+			            unsigned count);
+#endif	/* dj_p1284_h */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_timer.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_timer.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_timer.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_timer.h	2010-02-01 21:36:23.000000000 -0500
@@ -0,0 +1,51 @@
+/****************************************************************************/
+
+/*
+ *	dj_timer.h -- HP Deskjet ASIC hardware timers support
+ *
+ *	(C) Copyright 2009, Brian S. Julin (bri@abrij.org)
+ */
+
+/****************************************************************************/
+#ifndef	dj_timer_h
+#define	dj_timer_h
+/****************************************************************************/
+
+/* 
+ *  Registers in DJIO_A_TIMER block
+ */
+#define DJIO_A_TIMER_A_PERIOD      0x00  /* word. # counter cycles per irq   */
+#define DJIO_A_TIMER_B_PERIOD      0x02  /* word. # counter cycles per irq   */
+#define DJIO_A_TIMER_C_PERIOD      0x04  /* word. # counter cycles per irq   */
+#define DJIO_A_TIMER_D_PERIOD      0x06  /* word. # counter cycles per irq   */
+#define DJIO_A_TIMER_E_PERIOD      0x08  /* word. # counter cycles per irq   */
+#define DJIO_A_TIMER_A_SHOT        0x10  /* word. # counter cycles till irq  */
+#define DJIO_A_TIMER_B_SHOT        0x12  /* word. # counter cycles till irq  */
+#define DJIO_A_TIMER_C_SHOT        0x14  /* word. # counter cycles till irq  */
+#define DJIO_A_TIMER_D_SHOT        0x16  /* word. # counter cycles till irq  */
+#define DJIO_A_TIMER_E_SHOT        0x18  /* word. # counter cycles till irq  */
+#define DJIO_A_TIMER_IRQ_ACK       0x22  /* IRQ line ack (redundant)         */
+#define DJIO_A_TIMER_IRQ_ENAB      0x24  /* IRQ line enable/disable          */
+#define DJIO_A_TIMER_COUNTER_DIV   0x27  /* bits 0-4 divide input to counter */
+#define DJIO_A_TIMER_COUNTER       0x28  /* 4 bytes containing cycle counter */
+
+/*
+ *  Bitfields in register DJIO_A_TIMER_IRQ_ACK and DJIO_A_TIMER_ENAB 
+ */
+#define DJIO_A_TIMER_IRQ_A         0x01
+#define DJIO_A_TIMER_IRQ_B         0x02
+#define DJIO_A_TIMER_IRQ_C         0x04
+#define DJIO_A_TIMER_IRQ_D         0x08
+#define DJIO_A_TIMER_IRQ_E         0x10
+
+/*
+ *  Map of above bits to IRQ LINES
+ */
+#define DJIO_A_TIMER_IRQ_A_LINE    0x07
+#define DJIO_A_TIMER_IRQ_B_LINE    0x13
+#define DJIO_A_TIMER_IRQ_C_LINE    0x06
+#define DJIO_A_TIMER_IRQ_D_LINE    0x05
+#define DJIO_A_TIMER_IRQ_E_LINE    0x04
+
+/****************************************************************************/
+#endif	/* dj_timer_h */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_usb.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_usb.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/dj_usb.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/dj_usb.h	2010-02-16 20:51:00.000000000 -0500
@@ -0,0 +1,73 @@
+/****************************************************************************/
+
+/*
+ *	dj_usb.h -- Definitions for HP Deskjet usb support.
+ *
+ * 	(C) Copyright 2009 Brian S. Julin (bri@abrij.org)
+ */
+
+/****************************************************************************/
+#ifndef	dj_usb_h
+#define	dj_usb_h
+/****************************************************************************/
+
+#define DJIO_A_USB_IRQA_LINE     15
+/* There's a second line maybe on some chips */
+#define DJIO_A_USB_IRQB_LINE     ??
+
+/* 
+ * REGISTERS 
+ *
+ * The base addresses DJIO_A_USB and DJIO_C_USB should be defined before 
+ * including this file.  All register identifiers are relative to those 
+ # base addresses.
+ */
+#define DJIO_A_EP0_R_STAT	 0x00
+#define DJIO_A_EP0_W_STAT	 0x01
+#define DJIO_A_EP2_R_STAT	 0x02
+#define DJIO_A_EP1_W_STAT	 0x03
+
+#define DJIO_A_EP0_R_CNTL	 0x08
+#define DJIO_A_EP0_W_CNTL	 0x09
+#define DJIO_A_EP2_R_CNTL	 0x0a
+#define DJIO_A_EP1_W_CNTL	 0x0b
+
+#define DJIO_A_USB_COUNT	 0x10  /* Frame or queue counter */
+#define DJIO_A_USB_DMACTL	 0x12  /* Suspect this is DMA enable */
+
+#define DJIO_A_EP0_R_FLSH	 0x14
+#define DJIO_A_EP0_W_FLSH	 0x15  /* Queue flush or reset */
+#define DJIO_A_EP2_R_FLSH	 0x16
+#define DJIO_A_EP1_W_FLSH	 0x17
+
+#define DJIO_A_USB_IRQ_CURR      0x1C  /* which originators caused current IRQ */
+#define DJIO_A_USB_STAT          0x1D  /* on older (all?) senses carrier */
+#define DJIO_A_USB_IRQA_ACK      0x1E  /* latches/acks for IRQ originators */
+#define DJIO_A_USB_IRQA_ENAB     0x1F  /* enables for IRQ originators */
+#define DJIO_A_USB_IRQB_ACK      0x20  /* ??? second line newer chips */
+#define DJIO_A_USB_IRQB_ENAB     0x21  /* ??? second line newer chips */
+
+#define DJIO_C_USB_EPO_R         0x00  /* word. Keep LSBs. Err if MSB:7 set */
+#define DJIO_C_USB_EP0_W         0x02  /* byte. */
+#define DJIO_C_USB_EP1_R         0x04  /* word. Keep LSBs. Err if MSB:7 set */
+#define DJIO_C_USB_EP2_W         0x06  /* byte. */
+
+/* 
+ * Bitfields within DJIO_A_USB_STAT.
+ */
+#define DJIO_A_USB_STAT_CARRIER  0x10  /* USB carrier seen */
+#define DJIO_A_USB_STAT_IFUP     0x20  /* L1 hardware is live */
+
+
+/* Bitfields within DJIO_A_USB_IRQ_CURR, DJIO_A_USB_IRQx_ACK/ENAB */
+#define DJIO_A_USB_IRQM_FOO1     0x01  /* packet came in ??? */
+#define DJIO_A_USB_IRQM_FOO2     0x02  /* Free running timer? Any frame? Always fires. */
+#define DJIO_A_USB_IRQM_FOO4     0x04  /* queue emptied??? */
+#define DJIO_A_USB_IRQM_FOO8     0x08  /* never seen it happen */
+#define DJIO_A_USB_IRQM_L1       0x10  /* seems to be L1 link down/negotiating */
+
+/*
+ * 
+ */
+
+#endif	/* dj_usb_h */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/entry_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/entry_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/entry_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/entry_no.h	2010-01-27 22:48:17.000000000 -0500
@@ -52,5 +52,5 @@
  */
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 /*
  * This is made a little more tricky on the ColdFire. There is no
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/irq_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/irq_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/irq_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/irq_no.h	2010-01-27 19:53:04.000000000 -0500
@@ -2,5 +2,5 @@
 #define _M68KNOMMU_IRQ_H_
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 /*
  * On the ColdFire we keep track of all vectors. That way drivers
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/mcfcache.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/mcfcache.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/mcfcache.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/mcfcache.h	2010-01-27 19:55:22.000000000 -0500
@@ -147,4 +147,22 @@
 #endif /* CONFIG_M520x */
 
+#if defined(CONFIG_DJ895C)
+/*
+ *     Deskjet 895C runs with cache disabled.  It might have it, but it has
+ *      not been tested yet.  There are indications it has %ACR0 and %ACR1
+ */
+.macro CACHE_ENABLE
+       move.l  #0x01000000,%d0         /* invalidate whole cache */
+       movec   %d0,%CACR
+       nop
+       movel   #0x00000000,%d0         
+       movec   %d0, %ACR0
+       movel   #0x00000000,%d0         
+       movec   %d0, %ACR1
+       nop
+.endm
+#endif /* CONFIG_DJ895C */
+
+
 /****************************************************************************/
 #endif	/* __M68KNOMMU_MCFCACHE_H */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/mcfsim.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/mcfsim.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/mcfsim.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/mcfsim.h	2010-01-27 19:56:07.000000000 -0500
@@ -38,4 +38,6 @@
 #elif defined(CONFIG_M5407)
 #include <asm/m5407sim.h>
+elif defined(CONFIG_DJ895C_ASIC)
+#include <asm/dj895c_asic.h>
 #endif
 
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/processor_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/processor_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/processor_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/processor_no.h	2010-01-27 22:43:25.000000000 -0500
@@ -24,5 +24,5 @@
 static inline unsigned long rdusp(void)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	extern unsigned int sw_usp;
 	return(sw_usp);
@@ -36,5 +36,5 @@
 static inline void wrusp(unsigned long usp)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	extern unsigned int sw_usp;
 	sw_usp = usp;
@@ -83,5 +83,5 @@
  * 68k can handle this case cleanly.
  */
-#if defined(CONFIG_COLDFIRE)
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 #define	reformat(_regs)		do { (_regs)->format = 0x4; } while(0)
 #else
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/ptrace.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/ptrace.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/ptrace.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/ptrace.h	2010-01-27 19:57:47.000000000 -0500
@@ -39,5 +39,5 @@
   long     orig_d0;
   long     stkadj;
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
   unsigned format :  4; /* frame format specifier */
   unsigned vector : 12; /* vector offset */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/string_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/string_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/string_no.h	2009-03-24 21:15:59.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/string_no.h	2010-01-27 19:59:33.000000000 -0500
@@ -41,5 +41,5 @@
 
 
-#ifndef CONFIG_COLDFIRE
+#if !(defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ))
 
 #define __HAVE_ARCH_STRCMP
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/system_no.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/system_no.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/system_no.h	2009-04-28 00:20:22.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/system_no.h	2010-01-27 20:01:52.000000000 -0500
@@ -47,5 +47,5 @@
 }
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 #define local_irq_enable() __asm__ __volatile__ (		\
 	"move %/sr,%%d0\n\t"					\
@@ -218,5 +218,5 @@
 #endif
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 #if defined(CONFIG_M5272) && defined(CONFIG_NETtel)
 /*
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/unaligned.h uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/unaligned.h
--- uClinux-dist-20091129/linux-2.6.x/arch/m68k/include/asm/unaligned.h	2010-02-16 12:00:58.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68k/include/asm/unaligned.h	2010-01-27 22:50:51.000000000 -0500
@@ -2,6 +2,5 @@
 #define _ASM_M68K_UNALIGNED_H
 
-
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 #include <linux/unaligned/be_struct.h>
 #include <linux/unaligned/le_byteshift.h>
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/Kconfig uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/Kconfig
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/Kconfig	2010-02-16 12:00:58.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/Kconfig	2010-01-28 22:22:23.000000000 -0500
@@ -26,5 +26,5 @@
 config ZONE_DMA
 	bool
-	default y
+	default n
 
 config RWSEM_GENERIC_SPINLOCK
@@ -173,4 +173,9 @@
 	  Motorola ColdFire 5407 processor support.
 
+config DJ895C
+	bool "DJ895C"
+	help
+	  HP Deskjet 895C processor support.
+
 endchoice
 
@@ -570,4 +575,72 @@
 	  Support for the Savant Rosie1 board.
 
+config DJ
+	bool
+	depends on DJ895C
+	default y
+
+config DJ895C_ASIC
+	bool "HP Deskjet 895C Platform support"
+	default y
+	depends on DJ895C
+	help
+	  Support for running linux on the HP Deskjet 895C printer.
+	  Note there is a good chance this might permanantly damage
+	  the printer.  Also note that robotics may injure users.
+	  Using this option may also present a fire hazard as the 
+	  engineering parameters of actuators on this platform 
+	  are not published knowlege and are not guaranteed to be
+	  "software-proof."  Excercise caution and do not
+	  leave hacked robotics unattended.
+
+config DJ_INTERACTIVE_BOOT
+	bool "Wait for button press before boot"
+	depends on (DJ)
+	default n
+	help
+	  Selecting this option will cause the kernel to pause very early
+	  in the boot process, and wait for a button to be pushed (usually 
+	  the soft power button.)  It will throb LEDs and/or print messages 
+	  on LCD displays as appropriate to the particular Deskjet platform.
+	  This can allow the connection that was used to upload the kernel 
+	  into the device to be reconfigured for boot-time logging.  Of
+	  course, this might be very inconvenient if the power button 
+	  input or LED/LCD outputs have been connected to something other
+	  than a button or indicator...  say "No" unless you need to do boot 
+	  logging for debugging purposes.
+
+config DJ_P1284
+	bool "P1284 port support"
+	depends on (DJ895C_ASIC)
+	default n
+	help
+	  Basic support for the peripheral-side P1284 parallel ports
+	  This includes a basic ECP mode behavior that should allow
+	  reverse transfers and avoid trying to drive the data lines
+	  at the same time as an attached host.  It is also sufficient
+	  to allow the port to be used as a console (with a special
+	  user-space ECP protocol program) using the normal "Console
+	  on line printer" mechanism... albeit bidirectionally.
+
+config DJ_P1284_DEV
+	bool "P1284 port /dev/plp device nodes"
+	depends on (DJ_P1284)
+	default n
+	help
+	  Create /dev/plp device nodes for P1284 ports.  These are the
+	  peripheral-side version of /dev/lp and will attempt to mimic
+	  the behavior of two PCs connected by an 8-bit laplink cable
+	  a.k.a. a "mode 1 PLIP cable."   CURRENTLY UNIMPLEMENTED
+
+config DJ_P1284_4_GADGET
+	bool "P1284.4 gadget support"
+	depends on (DJ_P1284)
+	default n
+	help
+	  Full peripheral-side 1284.4 stack, including compatibility and
+	  raw modes, device ID response, and /dev/p1284/ directory 
+	  with channel nodes that behave as UARTS. CURRENTLY UNIMPLEMENTED
+
+
 config ROMFS_FROM_ROM
 	bool "ROMFS image not RAM resident"
@@ -882,5 +955,5 @@
 	bool
 	depends on !M5272
-	default y
+	default n
 
 source "drivers/pcmcia/Kconfig"
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/asm-offsets.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/asm-offsets.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/asm-offsets.c	2010-02-16 12:00:58.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/asm-offsets.c	2010-01-27 20:15:26.000000000 -0500
@@ -59,5 +59,5 @@
 	DEFINE(PT_SR, offsetof(struct pt_regs, sr));
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	/* bitfields are a bit difficult */
 	DEFINE(PT_FORMATVEC, offsetof(struct pt_regs, sr) - 2);
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/m68k_ksyms.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/m68k_ksyms.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/m68k_ksyms.c	2008-07-23 21:58:38.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/m68k_ksyms.c	2010-01-27 20:16:25.000000000 -0500
@@ -65,5 +65,5 @@
 EXPORT_SYMBOL(__umodsi3);
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 extern unsigned int *dma_device_address;
 extern unsigned long dma_base_addr, _ramend;
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/setup.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/setup.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/setup.c	2009-03-25 02:26:58.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/setup.c	2010-01-27 23:19:10.000000000 -0500
@@ -105,4 +105,7 @@
 	#define	CPU "COLDFIRE(m5407)"
 #endif
+#if defined(CONFIG_DJ895C)
+	#define CPU "DJCF(dj895c)"
+#endif
 #ifndef CPU
 	#define	CPU "UNKNOWN"
@@ -139,6 +142,7 @@
 	printk(KERN_INFO "M68VZ328 support by Evan Stawnyczy <e@lineo.ca>\n");
 #endif
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	printk(KERN_INFO "COLDFIRE port done by Greg Ungerer, gerg@snapgear.com\n");
+#endif
 #ifdef CONFIG_M5307
 	printk(KERN_INFO "Modified for M5307 by Dave Miller, dmiller@intellistor.com\n");
@@ -147,5 +151,4 @@
 	printk(KERN_INFO "Modified for M5206eLITE by Rob Scott, rscott@mtrob.fdns.net\n");
 #endif
-#endif
 	printk(KERN_INFO "Flat model support (C) 1998,1999 Kenneth Albanowski, D. Jeff Dionne\n");
 
@@ -166,4 +169,8 @@
 	printk(KERN_INFO "Motorola M5235EVB support (C)2005 Syn-tech Systems, Inc. (Jate Sujjavanich)\n");
 #endif
+#ifdef CONFIG_DJ895C_ASIC
+	printk(KERN_INFO "HP Deskjet 895C support (C)2009 Brian S. Julin\n");
+#endif
+
 
 #ifdef DEBUG
@@ -225,5 +232,5 @@
 	fpu = "none";
 
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	clockfreq = (loops_per_jiffy * HZ) * 3;
 #else
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/traps.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/traps.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/kernel/traps.c	2009-03-25 02:26:58.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/kernel/traps.c	2010-01-27 20:24:56.000000000 -0500
@@ -86,5 +86,5 @@
 }
 
-#if defined(CONFIG_COLDFIRE)
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 static const char *accesserror_type[] = {
 	[0] = "Not an access or address error nor an interrupted debug service routine", 
@@ -127,5 +127,5 @@
 #endif
 
-#if defined(CONFIG_COLDFIRE)
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	if (fp->ptregs.format == 4)
 		access_errorCF(fp);
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/lib/memcpy.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/lib/memcpy.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/lib/memcpy.c	2008-04-22 00:48:44.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/lib/memcpy.c	2010-01-27 22:52:39.000000000 -0500
@@ -4,5 +4,5 @@
 void * memcpy(void * to, const void * from, size_t n)
 {
-#ifdef CONFIG_COLDFIRE
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
   void *xto = to;
   size_t temp;
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/Makefile uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/Makefile
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/Makefile	2009-03-29 20:25:01.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/Makefile	2010-01-27 20:28:50.000000000 -0500
@@ -26,4 +26,5 @@
 platform-$(CONFIG_M532x)	:= 532x
 platform-$(CONFIG_M5407)	:= 5407
+platform-$(CONFIG_DJ895C)	:= dj895c
 PLATFORM := $(platform-y)
 
@@ -56,4 +57,5 @@
 board-$(CONFIG_AVNET)           := AVNET
 board-$(CONFIG_SAVANT)		:= SAVANT
+board-$(CONFIG_DJ895C_ASIC)	:= dj895c_asic
 BOARD := $(board-y)
 
@@ -79,4 +81,5 @@
 cpuclass-$(CONFIG_M532x)	:= coldfire
 cpuclass-$(CONFIG_M5407)	:= coldfire
+cpuclass-$(CONFIG_DJ895C)	:= dj
 cpuclass-$(CONFIG_M68328)	:= 68328
 cpuclass-$(CONFIG_M68EZ328)	:= 68328
@@ -106,4 +109,5 @@
 cflags-$(CONFIG_M532x)		:= $(call cc-option,-mcpu=532x,-m5307)
 cflags-$(CONFIG_M5407)		:= $(call cc-option,-m5407,-m5200)
+cflags-$(CONFIG_DJ895C)		:= $(call cc-option,-m5206,-m5200)
 cflags-$(CONFIG_M68328)		:= -m68000
 cflags-$(CONFIG_M68EZ328)	:= -m68000
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/mm/init.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/mm/init.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/mm/init.c	2010-02-16 12:00:58.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/mm/init.c	2010-01-28 22:40:06.000000000 -0500
@@ -109,10 +109,16 @@
 #endif
 
+
 	{
 		unsigned long zones_size[MAX_NR_ZONES] = {0, };
 
+#ifdef ZONE_DMA
 		zones_size[ZONE_DMA] = (end_mem - PAGE_OFFSET) >> PAGE_SHIFT;
+#else
+		zones_size[ZONE_NORMAL] = (end_mem - PAGE_OFFSET) >> PAGE_SHIFT;
+#endif
 		free_area_init(zones_size);
 	}
+
 }
 
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/dj_p1284.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/dj_p1284.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/dj_p1284.c	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/dj_p1284.c	2010-01-27 20:32:43.000000000 -0500
@@ -0,0 +1,148 @@
+/***************************************************************************/
+
+/*
+ *	dj_p1284.c -- Deskjet peripheral-side p1284 port support
+ *
+ *	Copyright (C) 2009, Brian S. Julin (bri@abrij.org)
+ */
+
+/***************************************************************************/
+
+#include <linux/kernel.h>
+#include <linux/console.h>
+#include <linux/io.h>
+#include <linux/init.h>
+#include <asm/djio.h>
+#include <asm/dj_p1284.h>
+
+/***************************************************************************/
+
+static inline u8 dj_p1284_read_data (void) {
+  return readb(DJIO_A_P1284 + DJIO_A_P1284_DATA);
+}
+
+static inline u8 dj_p1284_read_stat (void) {
+  return readb(DJIO_A_P1284 + DJIO_A_P1284_STAT) & DJIO_A_P1284_STAT_MASK;
+}
+
+static inline u8 dj_p1284_read_cfg1 (void) {
+  return readb(DJIO_A_P1284 + DJIO_A_P1284_CFG1);
+}
+
+static inline void dj_p1284_write_data (u8 v) {
+  return writeb(v, DJIO_A_P1284 + DJIO_A_P1284_DATA);
+}
+
+static inline void dj_p1284_write_cntl (u8 v) {
+  return writeb(v, DJIO_A_P1284 + DJIO_A_P1284_CNTL);
+}
+
+static inline u8 dj_p1284_frob_cntl(u8 v, u8 mask) {
+  v &= mask;
+  mask = ~mask;
+  mask &= readb(DJIO_A_P1284 + DJIO_A_P1284_CNTL);
+  v |= mask;
+  writeb(v, DJIO_A_P1284 + DJIO_A_P1284_CNTL);
+  return v;
+}
+
+static inline u8 dj_p1284_frob_cfg1(u8 v, u8 mask) {
+  v &= mask;
+  mask = ~mask;
+  mask &= readb(DJIO_A_P1284 + DJIO_A_P1284_CFG1);
+  v |= mask;
+  writeb(v, DJIO_A_P1284 + DJIO_A_P1284_CFG1);
+  return v;
+}
+
+#if 1
+/* #ifdef CONFIG_LP_CONSOLE */
+
+
+/* For now we're doing vanilla ECP with busy polling */
+#define REVERSEREQ_I2 (DJIO_A_P1284_STAT_01 | DJIO_A_P1284_STAT_17)
+#define REVERSEREQ_I1 (REVERSEREQ_I2  | DJIO_A_P1284_STAT_16)
+#define REVERSEREQ_I3 (REVERSEREQ_I2  | DJIO_A_P1284_STAT_14)
+
+#define REVERSEREQ_O4 (DJIO_A_P1284_CNTL_13)
+#define REVERSEREQ_O3 (REVERSEREQ_O4 | DJIO_A_P1284_CNTL_10)
+#define REVERSEREQ_O2 (REVERSEREQ_O3 | DJIO_A_P1284_CNTL_12)
+#define REVERSEREQ_O1 (REVERSEREQ_O2 | DJIO_A_P1284_CNTL_15)
+
+static inline int dj_p1284_console_putc(char c) {
+
+  int i;
+  dj_p1284_write_cntl(REVERSEREQ_O1);
+  while (dj_p1284_read_stat() != REVERSEREQ_I1) {}
+  dj_p1284_write_cntl(REVERSEREQ_O2);
+  i = 5000;
+  while (--i) {
+    if (dj_p1284_read_stat() == REVERSEREQ_I2) break;
+  }
+  if (!i) return -1;
+  dj_p1284_write_cntl(REVERSEREQ_O3);
+  dj_p1284_frob_cfg1(DJIO_A_P1284_CTL1_DDRV, DJIO_A_P1284_CTL1_DDRV);
+  dj_p1284_write_data(c);
+  dj_p1284_write_cntl(REVERSEREQ_O4);
+  i = 5000;
+  while (--i) {
+    if (dj_p1284_read_stat() == REVERSEREQ_I3) break;
+  }
+  if (!i) {
+    dj_p1284_frob_cfg1(0, DJIO_A_P1284_CTL1_DDRV);
+    return -1;
+  }
+  dj_p1284_write_cntl(REVERSEREQ_O3);
+  i = 5000;
+  while (--i) {
+    if (dj_p1284_read_stat() == REVERSEREQ_I2
+	|| dj_p1284_read_stat() == REVERSEREQ_I1
+	) break;
+  }
+  dj_p1284_frob_cfg1(0, DJIO_A_P1284_CTL1_DDRV);
+  if (!i) return -1;    
+  i = 5000;
+  while (--i) {
+    if (dj_p1284_read_stat() == REVERSEREQ_I1) break;
+  }
+  if (!i) return -1;
+  dj_p1284_write_cntl(REVERSEREQ_O2);
+  i = 5000;
+  while (--i) {}
+  dj_p1284_write_cntl(REVERSEREQ_O1);
+  return 0;
+}
+
+void dj_p1284_console_write (struct console *co, const char *s,
+				    unsigned count) {
+  while (count) {
+    while (dj_p1284_console_putc(*s)) {}
+    s++;
+    count--;
+  }
+}
+
+static struct console dj_p1284_cons = {
+  .name           = "lp",
+  .write          = dj_p1284_console_write,
+  .flags          = CON_PRINTBUFFER,
+};
+
+static inline void led_nyb(int v) {
+  if (v & 1) { writew(1, 0x1fff712); } else { writew(0, 0x1fff712); }
+  if (v & 2) { writew(1, 0x1fff716); } else { writew(0, 0x1fff716); }
+  if (v & 4) { writew(1, 0x1fff71a); } else { writew(0, 0x1fff71a); }
+  if (v & 8) { writew(1, 0x1fff70e); } else { writew(0, 0x1fff70e); }
+}
+
+int setup_dj_p1284_console(void)
+{
+  dj_p1284_console_write (NULL, "Registering console\n",21);
+  //  register_console(&dj_p1284_cons);
+  return 0;
+}
+
+
+#endif
+
+/***************************************************************************/
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/entry.S uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/entry.S
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/entry.S	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/entry.S	2010-01-27 20:32:43.000000000 -0500
@@ -0,0 +1,241 @@
+/*
+ *  linux/arch/m68knommu/platform/dj/entry.S
+ *
+ *  Copyright (C) 1999-2007, Greg Ungerer (gerg@snapgear.com)
+ *  Copyright (C) 1998  D. Jeff Dionne <jeff@lineo.ca>,
+ *                      Kenneth Albanowski <kjahds@kjahds.com>,
+ *  Copyright (C) 2000  Lineo Inc. (www.lineo.com)
+ *  Copyright (C) 2004-2006  Macq Electronique SA. (www.macqel.com)
+ *
+ * Based on:
+ *
+ *  linux/arch/m68k/kernel/entry.S
+ *
+ *  Copyright (C) 1991, 1992  Linus Torvalds
+ *
+ * This file is subject to the terms and conditions of the GNU General Public
+ * License.  See the file README.legal in the main directory of this archive
+ * for more details.
+ *
+ * Linux/m68k support by Hamish Macdonald
+ *
+ * 68060 fixes by Jesper Skov
+ * ColdFire support by Greg Ungerer (gerg@snapgear.com)
+ * 5307 fixes by David W. Miller
+ * linux 2.4 support David McCullough <davidm@snapgear.com>
+ * Bug, speed and maintainability fixes by Philippe De Muyter <phdm@macqel.be>
+ */
+
+#include <linux/sys.h>
+#include <linux/linkage.h>
+#include <asm/unistd.h>
+#include <asm/thread_info.h>
+#include <asm/errno.h>
+#include <asm/setup.h>
+#include <asm/segment.h>
+#include <asm/asm-offsets.h>
+#include <asm/entry.h>
+
+.bss
+
+sw_ksp:
+.long	0
+
+sw_usp:
+.long	0
+
+.text
+
+.globl system_call
+.globl resume
+.globl ret_from_exception
+.globl ret_from_signal
+.globl sys_call_table
+.globl ret_from_interrupt
+.globl inthandler
+.globl fasthandler
+
+enosys:
+	mov.l	#sys_ni_syscall,%d3
+	bra	1f
+
+ENTRY(system_call)
+	SAVE_ALL
+	move	#0x2000,%sr		/* enable intrs again */
+
+	cmpl	#NR_syscalls,%d0
+	jcc	enosys
+	lea	sys_call_table,%a0
+	lsll	#2,%d0			/* movel %a0@(%d0:l:4),%d3 */
+	movel	%a0@(%d0),%d3
+	jeq	enosys
+
+1:
+	movel	%sp,%d2			/* get thread_info pointer */
+	andl	#-THREAD_SIZE,%d2	/* at start of kernel stack */
+	movel	%d2,%a0
+	movel	%a0@,%a1		/* save top of frame */
+	movel	%sp,%a1@(TASK_THREAD+THREAD_ESP0)
+	btst	#(TIF_SYSCALL_TRACE%8),%a0@(TI_FLAGS+(31-TIF_SYSCALL_TRACE)/8)
+	bnes	1f
+
+	movel	%d3,%a0
+	jbsr	%a0@
+	movel	%d0,%sp@(PT_D0)		/* save the return value */
+	jra	ret_from_exception
+1:
+	movel	#-ENOSYS,%d2		/* strace needs -ENOSYS in PT_D0 */
+	movel	%d2,PT_D0(%sp)		/* on syscall entry */
+	subql	#4,%sp
+	SAVE_SWITCH_STACK
+	jbsr	syscall_trace
+	RESTORE_SWITCH_STACK
+	addql	#4,%sp
+	movel	%d3,%a0
+	jbsr	%a0@
+	movel	%d0,%sp@(PT_D0)		/* save the return value */
+	subql	#4,%sp			/* dummy return address */
+	SAVE_SWITCH_STACK
+	jbsr	syscall_trace
+
+ret_from_signal:
+	RESTORE_SWITCH_STACK
+	addql	#4,%sp
+
+ret_from_exception:
+	move	#0x2700,%sr		/* disable intrs */
+	btst	#5,%sp@(PT_SR)		/* check if returning to kernel */
+	jeq	Luser_return		/* if so, skip resched, signals */
+
+#ifdef CONFIG_PREEMPT
+	movel	%sp,%d1			/* get thread_info pointer */
+	andl	#-THREAD_SIZE,%d1	/* at base of kernel stack */
+	movel	%d1,%a0
+	movel	%a0@(TI_FLAGS),%d1	/* get thread_info->flags */
+	andl	#_TIF_NEED_RESCHED,%d1
+	jeq	Lkernel_return
+
+	movel	%a0@(TI_PREEMPTCOUNT),%d1
+	cmpl	#0,%d1
+	jne	Lkernel_return
+
+	pea	Lkernel_return
+	jmp	preempt_schedule_irq	/* preempt the kernel */
+#endif
+
+Lkernel_return:
+	moveml	%sp@,%d1-%d5/%a0-%a2
+	lea	%sp@(32),%sp		/* space for 8 regs */
+	movel	%sp@+,%d0
+	addql	#4,%sp			/* orig d0 */
+	addl	%sp@+,%sp		/* stk adj */
+	rte
+
+Luser_return:
+	movel	%sp,%d1			/* get thread_info pointer */
+	andl	#-THREAD_SIZE,%d1	/* at base of kernel stack */
+	movel	%d1,%a0
+	movel	%a0@(TI_FLAGS),%d1	/* get thread_info->flags */
+	andl	#_TIF_WORK_MASK,%d1
+	jne	Lwork_to_do		/* still work to do */
+
+Lreturn:
+	move	#0x2700,%sr		/* disable intrs */
+	movel	sw_usp,%a0		/* get usp */
+	movel	%sp@(PT_PC),%a0@-	/* copy exception program counter */
+	movel	%sp@(PT_FORMATVEC),%a0@-/* copy exception format/vector/sr */
+	moveml	%sp@,%d1-%d5/%a0-%a2
+	lea	%sp@(32),%sp		/* space for 8 regs */
+	movel	%sp@+,%d0
+	addql	#4,%sp			/* orig d0 */
+	addl	%sp@+,%sp		/* stk adj */
+	addql	#8,%sp			/* remove exception */
+	movel	%sp,sw_ksp		/* save ksp */
+	subql	#8,sw_usp		/* set exception */
+	movel	sw_usp,%sp		/* restore usp */
+	rte
+
+Lwork_to_do:
+	movel	%a0@(TI_FLAGS),%d1	/* get thread_info->flags */
+	move	#0x2000,%sr		/* enable intrs again */
+	btst	#TIF_NEED_RESCHED,%d1
+	jne	reschedule
+
+	/* GERG: do we need something here for TRACEing?? */
+
+Lsignal_return:
+	subql	#4,%sp			/* dummy return address */
+	SAVE_SWITCH_STACK
+	pea	%sp@(SWITCH_STACK_SIZE)
+	clrl	%sp@-
+	jsr	do_signal
+	addql	#8,%sp
+	RESTORE_SWITCH_STACK
+	addql	#4,%sp
+	jmp	Lreturn
+
+/*
+ * This is the generic interrupt handler (for all hardware interrupt
+ * sources). Calls upto high level code to do all the work.
+ */
+ENTRY(inthandler)
+	SAVE_ALL
+	moveq	#-1,%d0
+	movel	%d0,%sp@(PT_ORIG_D0)
+
+	movew	%sp@(PT_FORMATVEC),%d0	/* put exception # in d0 */
+	andl	#0x03fc,%d0		/* mask out vector only */
+
+	movel	%sp,%sp@-		/* push regs arg */
+	lsrl	#2,%d0			/* calculate real vector # */
+	movel	%d0,%sp@-		/* push vector number */
+	jbsr	do_IRQ			/* call high level irq handler */
+	lea	%sp@(8),%sp		/* pop args off stack */
+
+	bra	ret_from_interrupt	/* this was fallthrough */
+
+/*
+ * This is the fast interrupt handler (for certain hardware interrupt
+ * sources). Unlike the normal interrupt handler it just uses the
+ * current stack (doesn't care if it is user or kernel). It also
+ * doesn't bother doing the bottom half handlers.
+ */
+ENTRY(fasthandler)
+	SAVE_LOCAL
+
+	movew	%sp@(PT_FORMATVEC),%d0
+	andl	#0x03fc,%d0		/* mask out vector only */
+
+	movel	%sp,%sp@-		/* push regs arg */
+	lsrl	#2,%d0			/* calculate real vector # */
+	movel	%d0,%sp@-		/* push vector number */
+	jbsr	do_IRQ			/* call high level irq handler */
+	lea	%sp@(8),%sp		/* pop args off stack */
+
+	RESTORE_LOCAL
+
+ENTRY(ret_from_interrupt)
+	/* the fasthandler is confusing me, haven't seen any user */
+	jmp	ret_from_exception
+
+/*
+ * Beware - when entering resume, prev (the current task) is
+ * in a0, next (the new task) is in a1,so don't change these
+ * registers until their contents are no longer needed.
+ * This is always called in supervisor mode, so don't bother to save
+ * and restore sr; user's process sr is actually in the stack.
+ */
+ENTRY(resume)
+	movel	%a0, %d1			/* get prev thread in d1 */
+
+	movel	sw_usp,%d0			/* save usp */
+	movel	%d0,%a0@(TASK_THREAD+THREAD_USP)
+
+	SAVE_SWITCH_STACK
+	movel	%sp,%a0@(TASK_THREAD+THREAD_KSP) /* save kernel stack pointer */
+	movel	%a1@(TASK_THREAD+THREAD_KSP),%sp /* restore new thread stack */
+	RESTORE_SWITCH_STACK
+
+	movel	%a1@(TASK_THREAD+THREAD_USP),%a0 /* restore thread user stack */
+	movel	%a0, sw_usp
+	rts
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/head.S uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/head.S
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/head.S	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/head.S	2010-01-27 20:32:43.000000000 -0500
@@ -0,0 +1,159 @@
+/*****************************************************************************/
+
+/*
+ *	head.S -- common startup code for Deskjet ColdFire CPUs.
+ *
+ *	(C) Copyright 1999-2006, Greg Ungerer <gerg@snapgear.com>.
+ */
+
+/*****************************************************************************/
+
+#include <linux/sys.h>
+#include <linux/linkage.h>
+#include <linux/init.h>
+#include <asm/asm-offsets.h>
+#include <asm/coldfire.h>
+#include <asm/mcfcache.h>
+#include <asm/mcfsim.h>
+
+/*****************************************************************************/
+
+#if CONFIG_RAMSIZE != 0
+.macro GET_MEM_SIZE
+	movel	#CONFIG_RAMSIZE,%d0	/* hard coded memory size */
+.endm
+#else
+#error "ERROR: I don't know how to probe your boards memory size?"
+#endif
+
+/*****************************************************************************/
+
+/*
+ *	Boards and platforms can do specific early hardware setup if
+ *	they need to. Some don't need this, define away if not required.
+ */
+#ifndef PLATFORM_SETUP
+#define	PLATFORM_SETUP
+#endif
+
+/*****************************************************************************/
+
+.global	_start
+.global _rambase
+.global _ramvec
+.global	_ramstart
+.global	_ramend
+
+/*****************************************************************************/
+
+.data
+
+/*
+ *	During startup we store away the RAM setup. These are not in the
+ *	bss, since their values are determined and written before the bss
+ *	has been cleared.
+ */
+_rambase:
+.long	0
+_ramvec:
+.long	0
+_ramstart:
+.long	0
+_ramend:
+.long	0
+
+/*****************************************************************************/
+
+__HEAD
+
+/*
+ *	This is the codes first entry point. This is where it all
+ *	begins...
+ */
+
+_start:
+	nop					/* filler */
+	movew	#0x2700, %sr			/* no interrupts */
+
+	/*
+	 *	Do any platform or board specific setup now. Most boards
+	 *	don't need anything. Those exceptions are define this in
+	 *	their board specific includes.
+	 */
+	PLATFORM_SETUP
+
+	/*
+	 *	Create basic memory configuration. Set VBR accordingly,
+	 *	and size memory.
+	 */
+	movel	#CONFIG_VECTORBASE,%a7
+	movec   %a7,%VBR			/* set vectors addr */
+	movel	%a7,_ramvec
+
+	movel	#CONFIG_RAMBASE,%a7		/* mark the base of RAM */
+	movel	%a7,_rambase
+
+	GET_MEM_SIZE				/* macro code determines size */
+	addl	%a7,%d0
+	movel	%d0,_ramend			/* set end ram addr */
+
+	/*
+	 *	Now that we know what the memory is, lets enable cache
+	 *	and get things moving. This is Coldfire CPU specific.
+	 */
+	CACHE_ENABLE				/* enable CPU cache */
+
+#ifdef CONFIG_ROMFS_FS
+	/*
+	 *	Move ROM filesystem above bss :-)
+	 */
+	lea	_sbss,%a0			/* get start of bss */
+	lea	_ebss,%a1			/* set up destination  */
+	movel	%a0,%a2				/* copy of bss start */
+
+	movel	8(%a0),%d0			/* get size of ROMFS */
+	addql	#8,%d0				/* allow for rounding */
+	andl	#0xfffffffc, %d0		/* whole words */
+
+	addl	%d0,%a0				/* copy from end */
+	addl	%d0,%a1				/* copy from end */
+	movel	%a1,_ramstart			/* set start of ram */
+
+_copy_romfs:
+	movel	-(%a0),%d0			/* copy dword */
+	movel	%d0,-(%a1)
+	cmpl	%a0,%a2				/* check if at end */
+	bne	_copy_romfs
+
+#else /* CONFIG_ROMFS_FS */
+	lea	_ebss,%a1
+	movel	%a1,_ramstart
+#endif /* CONFIG_ROMFS_FS */
+
+
+	/*
+	 *	Zero out the bss region.
+	 */
+	lea	_sbss,%a0			/* get start of bss */
+	lea	_ebss,%a1			/* get end of bss */
+	clrl	%d0				/* set value */
+_clear_bss:
+	movel	%d0,(%a0)+			/* clear each word */
+	cmpl	%a0,%a1				/* check if at end */
+	bne	_clear_bss
+
+	/*
+	 *	Load the current task pointer and stack.
+	 */
+	lea	init_thread_union,%a0
+	lea	THREAD_SIZE(%a0),%sp
+
+	/*
+	 *	Assember start up done, start code proper.
+	 */
+	jsr	start_kernel			/* start Linux kernel */
+
+_exit:
+	jmp	_exit				/* should never get here */
+
+/*****************************************************************************/
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/Makefile uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/Makefile
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/Makefile	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/Makefile	2010-01-27 20:32:43.000000000 -0500
@@ -0,0 +1,8 @@
+#
+# Makefile for the m68knommu kernel.
+#
+
+obj-$(CONFIG_DJ)	+= entry.o vectors.o timers.o
+obj-$(CONFIG_DJ_P1284)	+= dj_p1284.o
+extra-y := head.o
+
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/timers.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/timers.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/timers.c	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/timers.c	2010-02-01 21:47:30.000000000 -0500
@@ -0,0 +1,189 @@
+/***************************************************************************/
+
+/*
+ *	timers.c -- HP Deskjet ASIC hardware timer support.
+ *
+ *	Copyright (C) 2009, Brian S. Julin <bri@abrij.org>
+ */
+
+/***************************************************************************/
+
+#include <linux/kernel.h>
+#include <linux/init.h>
+#include <linux/sched.h>
+#include <linux/interrupt.h>
+#include <linux/irq.h>
+#include <linux/profile.h>
+#include <linux/clocksource.h>
+#include <asm/io.h>
+#include <asm/traps.h>
+#include <asm/machdep.h>
+#include <asm/djio.h>
+#include <asm/dj_timer.h>
+#include <asm/dj_irq.h>
+
+#include <asm/dj_p1284.h>
+
+/***************************************************************************/
+
+static inline void led_nyb(int v) {
+  if (v & 1) { writew(1, 0x1fff712); } else { writew(0, 0x1fff712); }
+  if (v & 2) { writew(1, 0x1fff716); } else { writew(0, 0x1fff716); }
+  if (v & 4) { writew(1, 0x1fff71a); } else { writew(0, 0x1fff71a); }
+  if (v & 8) { writew(1, 0x1fff70e); } else { writew(0, 0x1fff70e); }
+}
+
+static char tickprint[200];
+
+static irqreturn_t dj_timer_tick(int irq, void *dummy)
+{
+  irqreturn_t ret;
+  unsigned long flags;
+
+  local_irq_save(flags);
+  outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+  outb(0, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE));
+  outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+  local_irq_restore(flags);
+
+#if 0
+  if (1) {
+    int plen;
+    plen = sprintf(tickprint,"IRQ%x@%lx::%x\n", irq - DJIO_IRQ_BASE, inl(0x1fffd28), jiffies);
+    dj_p1284_console_write(NULL, tickprint,plen);
+  }
+#endif
+
+  ret = arch_timer_interrupt(irq, dummy);
+  switch (irq - DJIO_IRQ_BASE) {
+  case DJIO_A_TIMER_IRQ_A_LINE:
+    outw(DJIO_A_TIMER_IRQ_A, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ACK);
+    break;
+  case DJIO_A_TIMER_IRQ_B_LINE:
+    outw(DJIO_A_TIMER_IRQ_B, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ACK);
+    break;
+  case DJIO_A_TIMER_IRQ_C_LINE:
+    outw(DJIO_A_TIMER_IRQ_C, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ACK);
+    break;
+  case DJIO_A_TIMER_IRQ_D_LINE:
+    outw(DJIO_A_TIMER_IRQ_D, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ACK);
+    break;
+  case DJIO_A_TIMER_IRQ_E_LINE:
+    outw(DJIO_A_TIMER_IRQ_E, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ACK);
+    break;
+  }
+
+  local_irq_save(flags);
+  outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+  outb(2, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE));
+  outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+  local_irq_restore(flags);
+
+  return ret;
+}
+
+
+/***************************************************************************/
+
+static struct irqaction dj_timer_irq = {
+	.name	 = "timer",
+	.flags	 = IRQF_DISABLED | IRQF_TIMER,
+	.handler = dj_timer_tick,
+};
+
+/***************************************************************************/
+
+static cycle_t dj_timer_read_clk(void)
+{
+	unsigned long flags;
+	u32 cycles;
+
+	local_irq_save(flags);
+	cycles = inl(DJIO_A_TIMER + DJIO_A_TIMER_COUNTER);
+	local_irq_restore(flags);
+
+	return cycles;
+}
+
+/***************************************************************************/
+
+static struct clocksource dj_timer_clk = {
+	.name	= "djtmr",
+	.rating	= 250,
+	.read	= dj_timer_read_clk,
+	.shift	= 0,
+	.mult   = 1000,
+	.mask	= CLOCKSOURCE_MASK(32),
+	.flags	= CLOCK_SOURCE_IS_CONTINUOUS,
+};
+
+/***************************************************************************/
+
+void hw_timer_init(void)
+{
+  	u16 tmp;
+	u32 t1, t2;
+
+	led_nyb(0xd);
+
+	/*  Uninitialized values 
+clock[00] = 0
+clock[02] = 0
+clock[04] = 0
+clock[06] = 0
+clock[08] = 0
+clock[0a] = 0
+clock[0c] = ffff
+clock[0e] = ffff
+clock[10] = 0
+clock[12] = 0
+clock[14] = 0
+clock[16] = 0
+clock[18] = 0
+clock[1a] = 0
+clock[1c] = ffff
+clock[1e] = ffff
+clock[20] = 0
+clock[21] = 0
+clock[22] = 0
+clock[23] = 0
+clock[24] = 0
+clock[25] = 0
+clock[26] = 0
+clock[27] = 0
+
+	*/
+
+	/* On 895c value 16 here yields a 1MHz counter */
+	outb(16, DJIO_A_TIMER + DJIO_A_TIMER_COUNTER_DIV);
+
+	/* Install the IRQ handler and enable listening for the IRQ */
+	setup_irq(DJIO_IRQ_BASE + DJIO_A_TIMER_IRQ_A_LINE, &dj_timer_irq);
+
+	/* Remove any one-shot duration that may be left in here */
+	outw(0, DJIO_A_TIMER + DJIO_A_TIMER_A_SHOT);
+
+	/* Set the period of the timer (in counter cycles) */
+	outw(10000, DJIO_A_TIMER + DJIO_A_TIMER_A_PERIOD);
+
+	/* Enable this timer's IRQ output line from the clock */
+	tmp = inw(DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ENAB);
+	tmp |= DJIO_A_TIMER_IRQ_A;
+	outw(tmp, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ENAB);	
+
+
+
+	/* Install the IRQ handler and enable listening for the IRQ */
+	setup_irq(DJIO_IRQ_BASE + DJIO_A_TIMER_IRQ_D_LINE, &dj_timer_irq);
+
+	/* Set the period of the timer (in counter cycles) */
+	outw(32000, 0x1fffd16);
+
+	/* Enable this timer's IRQ output line from the clock */
+	tmp = inw(DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ENAB);
+	tmp |= DJIO_A_TIMER_IRQ_D;
+	outw(tmp, DJIO_A_TIMER + DJIO_A_TIMER_IRQ_ENAB);	
+
+	/* Let the kernel know we have a counter resource available */
+	clocksource_register(&dj_timer_clk);
+}
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/vectors.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/vectors.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj/vectors.c	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj/vectors.c	2010-02-01 21:54:41.000000000 -0500
@@ -0,0 +1,123 @@
+/*
+ * linux/arch/m68knommu/platform/dj/vectors.c
+ *
+ * This file is subject to the terms and conditions of the GNU General Public
+ * License.  See the file COPYING in the main directory of this archive
+ * for more details.
+ *
+ * Copyright (c) 2000  Michael Leslie <mleslie@lineo.com>
+ * Copyright (c) 1996 Roman Zippel
+ * Copyright (c) 1999 D. Jeff Dionne <jeff@uclinux.org>
+ * Copyright (C) 1999-2007, Greg Ungerer <gerg@snapgear.com>
+ * Copyright (C) 2009, Brian S. Julin <bri@abrij.org>
+ */
+
+#include <linux/types.h>
+#include <linux/kernel.h>
+#include <linux/init.h>
+#include <linux/interrupt.h>
+#include <linux/irq.h>
+#include <linux/io.h>
+#include <asm/traps.h>
+#include <asm/machdep.h>
+#include <asm/djio.h>
+#include <asm/dj_irq.h>
+#include <asm/dj_p1284.h>
+
+/* assembler routines */
+asmlinkage void system_call(void);
+asmlinkage void buserr(void);
+asmlinkage void trap(void);
+asmlinkage void bad_interrupt(void);
+asmlinkage void inthandler(void);
+
+extern void **_ramvec;
+
+/* The number of spurious interrupts */
+volatile unsigned int num_spurious;
+
+/*
+ * This function should be called during kernel startup to initialize
+ * the vector table.
+ */
+void init_vectors(void)
+{
+	int i;
+
+        /*
+         *      There is a common trap handler and common interrupt
+         *      handler that handle almost every vector. We treat
+         *      the system call and bus error special, they get their
+         *      own first level handlers.
+         */
+        for (i = 3; (i <= 23); i++)
+	  _ramvec[i] = trap;
+        _ramvec[33] = trap;
+#if !defined(CONFIG_UCBOOTSTRAP)
+        _ramvec[34] = trap;
+#endif
+        for (i = 35; (i <= 63); i++)
+	  _ramvec[i] = trap;
+        for (i = 24; (i <= 31); i++)
+	  _ramvec[i] = inthandler;
+        for (i = 64; (i < 255); i++)
+	  _ramvec[i] = inthandler;
+        _ramvec[255] = 0;
+
+        _ramvec[2] = buserr;
+        _ramvec[32] = system_call;
+}
+
+char *foo[200];
+
+void enable_vector(unsigned int irq)
+{
+  unsigned long flags;
+
+  if (irq < DJIO_IRQ_BASE) return;  
+  if (irq > DJIO_IRQ_BASE + 0x1f) return; /* 0x1f is a guess */
+
+  local_irq_save(flags);
+  outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+  outb(2, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE)); /* All are prio 2 for now */
+  outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+  local_irq_restore(flags);
+}
+
+void disable_vector(unsigned int irq)
+{
+  unsigned long flags;
+
+  if (irq < DJIO_IRQ_BASE) return;  
+  if (irq > DJIO_IRQ_BASE + 0x1f) return; /* 0x1f is a guess */
+
+  local_irq_save(flags);
+  outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+  outb(DJIO_A_IRQ_IRQN_DISABLE, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE)); /* Ack stomped. */
+  outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+  local_irq_restore(flags);
+}
+
+
+void ack_vector(unsigned int irq)
+{
+  unsigned long flags;
+
+  /* Right now the handlers are doing this longhand,
+     it wasn't working in the order the generics called things.
+     Will have to revisit.
+     It think the poke here is redundant at best.
+  */
+
+  if (irq < DJIO_IRQ_BASE) return;  
+  if (irq > DJIO_IRQ_BASE + 0x1f) return; /* 0x1f is a guess */
+  local_irq_save(flags);
+  outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+  outb(0, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE)); /* XXX prio is stomped */
+  outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+  local_irq_restore(flags);
+}
+
+void coldfire_reset(void)
+{
+}
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj895c/config.c uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj895c/config.c
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj895c/config.c	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj895c/config.c	2010-02-16 21:10:15.000000000 -0500
@@ -0,0 +1,104 @@
+/***************************************************************************/
+
+/*
+ *	linux/arch/m68knommu/platform/dj895c/config.c
+ *
+ *	Copyright (C) 1999-2002, Greg Ungerer (gerg@snapgear.com)
+ * 	Copyright (C) 2000-2001, Lineo Inc. (www.lineo.com) 
+ */
+
+/***************************************************************************/
+
+#include <linux/kernel.h>
+#include <linux/param.h>
+#include <linux/init.h>
+#include <linux/interrupt.h>
+#include <linux/io.h>
+#include <asm/machdep.h>
+#include <asm/coldfire.h>
+#include <asm/mcfsim.h>
+#include <asm/mcfuart.h>
+//#include <asm/dj_p1284.h>
+
+/***************************************************************************/
+
+void coldfire_reset(void);
+
+/***************************************************************************/
+
+static struct platform_device *dj895c_devices[] __initdata = {
+};
+
+/***************************************************************************/
+void __init config_BSP(char *commandp, int size)
+{
+	mach_reset = coldfire_reset;
+}
+
+/***************************************************************************/
+
+static int __init init_BSP(void)
+{
+	platform_add_devices(dj895c_devices, ARRAY_SIZE(dj895c_devices));
+	return 0;
+}
+
+arch_initcall(init_BSP);
+
+/***************************************************************************/
+
+/***************************************************************************/
+/* Board initialization */
+/***************************************************************************/
+
+#include <linux/console.h>
+#include <linux/io.h>
+#include <asm/djio.h>
+#include <asm/dj_p1284.h>
+
+/***************************************************************************/
+
+static inline u8 dj_p1284_read_data (void) {
+  return readb(DJIO_A_P1284 + DJIO_A_P1284_DATA);
+}
+
+static inline u8 dj_p1284_read_stat (void) {
+  return readb(DJIO_A_P1284 + DJIO_A_P1284_STAT) & DJIO_A_P1284_STAT_MASK;
+}
+
+static inline u8 dj_p1284_read_cfg1 (void) {
+  return readb(DJIO_A_P1284 + DJIO_A_P1284_CFG1);
+}
+
+static inline void dj_p1284_write_data (u8 v) {
+  return writeb(v, DJIO_A_P1284 + DJIO_A_P1284_DATA);
+}
+
+static inline void dj_p1284_write_cntl (u8 v) {
+  return writeb(v, DJIO_A_P1284 + DJIO_A_P1284_CNTL);
+}
+
+static inline u8 dj_p1284_frob_cntl(u8 v, u8 mask) {
+  v &= mask;
+  mask = ~mask;
+  mask &= readb(DJIO_A_P1284 + DJIO_A_P1284_CNTL);
+  v |= mask;
+  writeb(v, DJIO_A_P1284 + DJIO_A_P1284_CNTL);
+  return v;
+}
+
+static inline u8 dj_p1284_frob_cfg1(u8 v, u8 mask) {
+  v &= mask;
+  mask = ~mask;
+  mask &= readb(DJIO_A_P1284 + DJIO_A_P1284_CFG1);
+  v |= mask;
+  writeb(v, DJIO_A_P1284 + DJIO_A_P1284_CFG1);
+  return v;
+}
+
+/***************************************************************************/
+
+asmlinkage void __init sysinit(void)
+{
+  //  setup_dj_p1284_console();
+}
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj895c/Makefile uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj895c/Makefile
--- uClinux-dist-20091129/linux-2.6.x/arch/m68knommu/platform/dj895c/Makefile	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/arch/m68knommu/platform/dj895c/Makefile	2010-01-27 20:33:10.000000000 -0500
@@ -0,0 +1,18 @@
+#
+# Makefile for the m68knommu linux kernel.
+#
+
+#
+# If you want to play with the HW breakpoints then you will
+# need to add define this,  which will give you a stack backtrace
+# on the console port whenever a DBG interrupt occurs.  You have to
+# set up you HW breakpoints to trigger a DBG interrupt:
+#
+# EXTRA_CFLAGS += -DTRAP_DBG_INTERRUPT
+# EXTRA_AFLAGS += -DTRAP_DBG_INTERRUPT
+#
+
+asflags-$(CONFIG_FULLDEBUG) := -m68000 -DDEBUGGER_COMPATIBLE_CACHE=1
+
+obj-y := config.o
+
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/composite.c uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/composite.c
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/composite.c	2010-02-16 12:02:14.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/composite.c	2010-02-16 22:56:52.000000000 -0500
@@ -976,5 +976,6 @@
 
 	cdev->desc = *composite->dev;
-	cdev->desc.bMaxPacketSize0 = gadget->ep0->maxpacket;
+	cdev->desc.bMaxPacketSize0 = 8;
+	/*	cdev->desc.bMaxPacketSize0 = gadget->ep0->maxpacket; */
 
 	/* standardized runtime overrides for device ID data */
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/djcf_udc.c uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/djcf_udc.c
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/djcf_udc.c	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/djcf_udc.c	2010-02-16 19:32:02.000000000 -0500
@@ -0,0 +1,1178 @@
+/*
+ * djcf_udc -- driver for Coldfire Deskjet ASIC USB controller
+ *
+ *   Copyright (C) 2010 by Brian S. Julin
+ *
+ * Gutted from at91_udc.c
+ *   Copyright (C) 2004 by Thomas Rathbone
+ *   Copyright (C) 2005 by HP Labs
+ *   Copyright (C) 2005 by David Brownell
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the
+ * Free Software Foundation, Inc., 59 Temple Place - Suite 330,
+ * Boston, MA  02111-1307, USA.
+ */
+
+#include <linux/kernel.h>
+#include <linux/module.h>
+#include <linux/delay.h>
+#include <linux/ioport.h>
+#include <linux/slab.h>
+#include <linux/errno.h>
+#include <linux/init.h>
+#include <linux/list.h>
+#include <linux/interrupt.h>
+#include <linux/irq.h>
+#include <linux/proc_fs.h>
+#include <linux/platform_device.h>
+#include <linux/clk.h>
+#include <linux/usb/ch9.h>
+#include <linux/usb/gadget.h>
+
+#include <asm/byteorder.h>
+#include <asm/io.h>
+#include <asm/irq.h>
+#include <asm/system.h>
+
+#include <asm/djio.h>
+#include <asm/dj_usb.h>
+#include <asm/dj_irq.h>
+
+#define	NUM_ENDPOINTS	3
+//#define VERBOSE_DEBUG
+//#define DEBUG
+
+struct djcf_ep {
+	struct usb_ep			ep;
+	struct list_head		queue;
+	struct djcf_udc			*udc;
+	u8 __iomem			*creg;
+
+	unsigned			maxpacket:16;
+	u8				int_mask;
+	unsigned			is_pingpong:1;
+
+	unsigned			stopped:1;
+	unsigned			is_in:1;
+	unsigned			is_iso:1;
+	unsigned			fifo_bank:1;
+
+	const struct usb_endpoint_descriptor
+					*desc;
+};
+
+/*
+ * driver is non-SMP, and just blocks IRQs whenever it needs
+ * access protection for chip registers or driver state
+ */
+struct djcf_udc {
+	struct usb_gadget		gadget;
+	struct djcf_ep			ep[NUM_ENDPOINTS];
+	struct usb_gadget_driver	*driver;
+	unsigned			vbus:1;
+	unsigned			enabled:1;
+	unsigned			clocked:1;
+	unsigned			suspended:1;
+	unsigned			req_pending:1;
+	unsigned			wait_for_addr_ack:1;
+	unsigned			wait_for_config_ack:1;
+	unsigned			selfpowered:1;
+	unsigned			active_suspend:1;
+	u8				addr;
+	struct clk			*iclk, *fclk;
+	u8 __iomem			*udp_baseaddr;
+	int				udp_irq;
+};
+
+static inline struct djcf_udc *to_udc(struct usb_gadget *g)
+{
+	return container_of(g, struct djcf_udc, gadget);
+}
+
+struct djcf_request {
+	struct usb_request		req;
+	struct list_head		queue;
+};
+
+/*-------------------------------------------------------------------------*/
+
+#ifdef VERBOSE_DEBUG
+#    define VDBG		DBG
+#else
+#    define VDBG(stuff...)	do{}while(0)
+#endif
+
+#ifdef PACKET_TRACE
+#    define PACKET		VDBG
+#else
+#    define PACKET(stuff...)	do{}while(0)
+#endif
+
+#define ERR(stuff...)		printk("udc: " stuff)
+#define WARNING(stuff...)	printk("udc: " stuff)
+#define INFO(stuff...)		printk("udc: " stuff)
+#define DBG(stuff...)		printk("udc: " stuff)
+
+
+/*
+ * This controller is simple and PIO-only.  It's used in many DJCF-series
+ * full speed USB controllers, including the djcfrm9200 (arm920T, with MMU),
+ * djcfsam926x (arm926ejs, with MMU), and several no-mmu versions.
+ *
+ * This driver expects the board has been wired with two GPIOs suppporting
+ * a VBUS sensing IRQ, and a D+ pullup.  (They may be omitted, but the
+ * testing hasn't covered such cases.)
+ *
+ * The pullup is most important (so it's integrated on sam926x parts).  It
+ * provides software control over whether the host enumerates the device.
+ *
+ * The VBUS sensing helps during enumeration, and allows both USB clocks
+ * (and the transceiver) to stay gated off until they're necessary, saving
+ * power.  During USB suspend, the 48 MHz clock is gated off in hardware;
+ * it may also be gated off by software during some Linux sleep states.
+ */
+
+#define	DRIVER_VERSION	"10 Feb 2010"
+
+static const char driver_name [] = "djcf_udc";
+static const char ep0name[] = "ep0";
+
+/*-------------------------------------------------------------------------*/
+
+static void done(struct djcf_ep *ep, struct djcf_request *req, int status)
+{
+	unsigned	stopped = ep->stopped;
+
+	list_del_init(&req->queue);
+	if (req->req.status == -EINPROGRESS)
+		req->req.status = status;
+	else
+		status = req->req.status;
+	if (status && status != -ESHUTDOWN)
+		VDBG("%s done %p, status %d\n", ep->ep.name, req, status);
+
+	ep->stopped = 1;
+	req->req.complete(&ep->ep, &req->req);
+	ep->stopped = stopped;
+}
+
+/*-------------------------------------------------------------------------*/
+
+/* pull OUT packet data from the endpoint's fifo */
+static int read_fifo (struct djcf_ep *ep, struct djcf_request *req)
+{
+	u8 __iomem	*creg = ep->creg;
+	u16 __iomem	*dreg = (u16*)(0x1fe0000 + (((u32)(ep->creg - 0x1fff100)) << 1));
+	u8		csr;
+	s16		tmp;
+	int		got;
+	u8		*buf;
+	unsigned int	count, bufferspace, is_done;
+
+	buf = req->req.buf + req->req.actual;
+	bufferspace = req->req.length - req->req.actual;
+
+	csr = inb(creg);
+	if (csr & 1) 
+		return 0;
+
+	count = ep->ep.maxpacket;
+	if (count > bufferspace) 
+		count = bufferspace;
+
+	for (got = 0; got < count; got++) {
+		tmp = readw(dreg);
+		if (tmp < 0) break;
+		buf[got] = tmp & 0xff;
+	}
+	if ((got == count) && (count < ep->ep.maxpacket)) {
+		DBG("%s buffer overflow\n", ep->ep.name);
+		req->req.status = -EOVERFLOW;
+		count = bufferspace;
+	}
+
+	req->req.actual += got;
+	is_done = (got < ep->ep.maxpacket);
+	if (got == bufferspace)
+		is_done = 1;
+
+	PACKET("%s %p out/%d%s\n", ep->ep.name, &req->req, got,
+			is_done ? " (done)" : "");
+
+	if (is_done)
+		done(ep, req, 0);
+
+	return is_done;
+}
+
+/* load fifo for an IN packet */
+static int write_fifo(struct djcf_ep *ep, struct djcf_request *req)
+{
+	u8 __iomem	*creg = ep->creg;
+	u8		csr = readb(creg);
+	u16 __iomem	*dreg = (u16*)(0x1fe0000 + (((u32)(ep->creg - 0x1fff100)) << 1));
+	unsigned	total, count, is_last;
+	u8		*buf;
+	int		tmp;
+
+	//	printk("W");
+	if (csr & 2) {
+	  //  printk(" BAD 2.0>%x,3>%x\n",creg - 0x1fff000 + 0x14,creg - 0x1fff000 + 0x08);
+		outb(0, creg + 0x14);
+		outb(3, creg + 0x08);
+		return 0;
+	}
+	if (!(csr & 1)) {
+		return 0;
+	}
+
+	buf = req->req.buf + req->req.actual;
+	prefetch(buf);
+	total = req->req.length - req->req.actual;
+	if (ep->ep.maxpacket < total) {
+		count = ep->ep.maxpacket;
+		is_last = 0;
+	} else {
+		count = total;
+		is_last = (count < ep->ep.maxpacket) || !req->req.zero;
+	}
+
+	outb(1, creg + 0x08);
+	for (tmp = 0; tmp < count; tmp++) {
+		csr = readb(creg);
+		if (csr & 2) {
+			break;
+		}
+		writeb(buf[tmp],dreg);
+	}
+	if (((u32)creg - 0x1fff100) == 1) {
+	  //printk("11>108\n3>108\n");
+		outb(11,0x1fff108);
+		outb(3,0x1fff108);
+	}
+	outb(0, creg + 0x14);  /* flush FIFO */
+	outb(3, creg + 0x08);
+	if (tmp < count) {
+		count = tmp;
+                /* TODO: recondition hw */
+		done(ep, req, -ECONNRESET);
+		return -1;
+	}
+	req->req.actual += count;
+
+	PACKET("%s %p in/%d%s\n", ep->ep.name, &req->req, count,
+			is_last ? " (done)" : "");
+	if (is_last)
+		done(ep, req, 0);
+	return is_last;
+}
+
+static void nuke(struct djcf_ep *ep, int status)
+{
+	struct djcf_request *req;
+
+	//	printk("nuke!\n");
+	// terminer chaque requete dans la queue
+	ep->stopped = 1;
+	if (list_empty(&ep->queue))
+		return;
+
+	VDBG("%s %s\n", __func__, ep->ep.name);
+	while (!list_empty(&ep->queue)) {
+		req = list_entry(ep->queue.next, struct djcf_request, queue);
+		done(ep, req, status);
+	}
+}
+
+/*-------------------------------------------------------------------------*/
+
+static int djcf_ep_enable(struct usb_ep *_ep,
+				const struct usb_endpoint_descriptor *desc)
+{
+	struct djcf_ep	*ep = container_of(_ep, struct djcf_ep, ep);
+	struct djcf_udc	*dev = ep->udc;
+	u16		maxpacket;
+	u32		tmp;
+	unsigned long	flags;
+
+	if (!_ep || !ep
+			|| !desc || ep->desc
+			|| _ep->name == ep0name
+			|| desc->bDescriptorType != USB_DT_ENDPOINT
+			|| (maxpacket = le16_to_cpu(desc->wMaxPacketSize)) == 0
+			|| maxpacket > ep->maxpacket) {
+		DBG("bad ep or descriptor\n");
+		return -EINVAL;
+	}
+
+	if (!dev->driver || dev->gadget.speed == USB_SPEED_UNKNOWN) {
+		DBG("bogus device state\n");
+		return -ESHUTDOWN;
+	}
+
+	tmp = desc->bmAttributes & USB_ENDPOINT_XFERTYPE_MASK;
+	switch (tmp) {
+	case USB_ENDPOINT_XFER_CONTROL:
+		DBG("only one control endpoint\n");
+		return -EINVAL;
+	case USB_ENDPOINT_XFER_INT:
+		if (maxpacket > 64)
+			goto bogus_max;
+		break;
+	case USB_ENDPOINT_XFER_BULK:
+		switch (maxpacket) {
+		case 8:
+		case 16:
+		case 32:
+		case 64:
+			goto ok;
+		}
+bogus_max:
+		DBG("bogus maxpacket %d\n", maxpacket);
+		return -EINVAL;
+	case USB_ENDPOINT_XFER_ISOC:
+		if (!ep->is_pingpong) {
+			DBG("iso requires double buffering\n");
+			return -EINVAL;
+		}
+		break;
+	}
+
+ok:
+	local_irq_save(flags);
+
+	/* initialize endpoint to match this descriptor */
+	ep->is_in = (desc->bEndpointAddress & USB_DIR_IN) != 0;
+	ep->is_iso = (tmp == USB_ENDPOINT_XFER_ISOC);
+	ep->stopped = 0;
+	if (ep->is_in)
+		tmp |= 0x04;
+
+	ep->desc = desc;
+	ep->ep.maxpacket = maxpacket;
+
+	/*
+	 * reset/init endpoint fifo.  NOTE:  leaves fifo_bank alone,
+	 * since endpoint resets don't reset hw pingpong state.
+	 */
+	//printk("11>%x,3>%x\n",ep->creg - 0x1fff000 + 0x08,ep->creg - 0x1fff000 + 0x08);
+	outb(11, ep->creg + 0x08);
+	outb(3, ep->creg + 0x08);
+
+	local_irq_restore(flags);
+	return 0;
+}
+
+static int djcf_ep_disable (struct usb_ep * _ep)
+{
+	struct djcf_ep	*ep = container_of(_ep, struct djcf_ep, ep);
+	//	struct djcf_udc	*udc = ep->udc;
+	unsigned long	flags;
+
+	if (ep == &ep->udc->ep[0])
+		return -EINVAL;
+
+	local_irq_save(flags);
+
+	nuke(ep, -ESHUTDOWN);
+
+	/* restore the endpoint's pristine config */
+	ep->desc = NULL;
+	ep->ep.maxpacket = ep->maxpacket;
+
+	/* reset fifos and endpoint */
+	if (ep->udc->clocked) {
+	  //printk("2.0>%x,11>%x\n",ep->creg - 0x1fff000 + 0x14,ep->creg - 0x1fff000 + 0x08);
+		outb(0, ep->creg + 0x14);
+		outb(11, ep->creg + 0x08);
+	}
+
+	local_irq_restore(flags);
+	return 0;
+}
+
+/*
+ * this is a PIO-only driver, so there's nothing
+ * interesting for request or buffer allocation.
+ */
+
+static struct usb_request *
+djcf_ep_alloc_request(struct usb_ep *_ep, gfp_t gfp_flags)
+{
+	struct djcf_request *req;
+
+	req = kzalloc(sizeof (struct djcf_request), gfp_flags);
+	if (!req)
+		return NULL;
+
+	INIT_LIST_HEAD(&req->queue);
+	return &req->req;
+}
+
+static void djcf_ep_free_request(struct usb_ep *_ep, struct usb_request *_req)
+{
+	struct djcf_request *req;
+
+	req = container_of(_req, struct djcf_request, req);
+	BUG_ON(!list_empty(&req->queue));
+	kfree(req);
+}
+
+static int djcf_ep_queue(struct usb_ep *_ep,
+			struct usb_request *_req, gfp_t gfp_flags)
+{
+	struct djcf_request	*req;
+	struct djcf_ep		*ep;
+	struct djcf_udc		*dev;
+	int			status;
+	unsigned long		flags;
+
+	req = container_of(_req, struct djcf_request, req);
+	ep = container_of(_ep, struct djcf_ep, ep);
+
+	//printk("req ep %p\n",ep->creg);
+
+	if (!_req || !_req->complete
+			|| !_req->buf || !list_empty(&req->queue)) {
+		DBG("invalid request\n");
+		return -EINVAL;
+	}
+
+	if (!_ep || (!ep->desc && ep->ep.name != ep0name)) {
+		DBG("invalid ep\n");
+		return -EINVAL;
+	}
+
+	dev = ep->udc;
+
+	if (!dev || !dev->driver || dev->gadget.speed == USB_SPEED_UNKNOWN) {
+		DBG("invalid device\n");
+		return -EINVAL;
+	}
+
+	_req->status = -EINPROGRESS;
+	_req->actual = 0;
+
+
+	local_irq_save(flags);
+
+	/* try to kickstart any empty and idle queue */
+	if (list_empty(&ep->queue) && !ep->stopped) {
+		int	is_ep0;
+		/*
+		 * If this control request has a non-empty DATA stage, this
+		 * will start that stage.  It works just like a non-control
+		 * request (until the status stage starts, maybe early).
+		 *
+		 * If the data stage is empty, then this starts a successful
+		 * IN/STATUS stage.  (Unsuccessful ones use set_halt.)
+		 */
+		is_ep0 = (ep->ep.name == ep0name);
+		if (is_ep0) {
+
+			if (!dev->req_pending) {
+			  //printk("noreqpending.\n");
+				status = -EINVAL;
+				goto done;
+			}
+
+			if (dev->wait_for_config_ack) {
+			  	VDBG("toggle config\n");
+			}
+			if (req->req.length == 0) {
+ep0_in_status:
+				PACKET("ep0 in/status\n");
+				status = 0;
+				dev->req_pending = 0;
+				goto done;
+			}
+		}
+
+		if (ep->is_in) {
+			status = write_fifo(ep, req);
+		}
+		else {
+			status = read_fifo(ep, req);
+			/* IN/STATUS stage is otherwise triggered by irq */
+			if (status && is_ep0)
+				goto ep0_in_status;
+		}
+	} else
+		status = 0;
+
+	if (req && !status) {
+		list_add_tail (&req->queue, &ep->queue);
+		/* place to reenable irqs */
+	}
+done:
+	local_irq_restore(flags);
+	return (status < 0) ? status : 0;
+}
+
+static int djcf_ep_dequeue(struct usb_ep *_ep, struct usb_request *_req)
+{
+	struct djcf_ep	*ep;
+	struct djcf_request	*req;
+
+	ep = container_of(_ep, struct djcf_ep, ep);
+	if (!_ep || ep->ep.name == ep0name)
+		return -EINVAL;
+
+	/* make sure it's actually queued on this endpoint */
+	list_for_each_entry (req, &ep->queue, queue) {
+		if (&req->req == _req)
+			break;
+	}
+	if (&req->req != _req)
+		return -EINVAL;
+
+	done(ep, req, -ECONNRESET);
+	return 0;
+}
+
+static int djcf_ep_set_halt(struct usb_ep *_ep, int value)
+{
+	struct djcf_ep	*ep = container_of(_ep, struct djcf_ep, ep);
+	u8 __iomem	*creg;
+	u8		csr;
+	unsigned long	flags;
+	int		status = 0;
+
+	if (!_ep || ep->is_iso || !ep->udc->clocked)
+		return -EINVAL;
+
+	creg = ep->creg;
+	local_irq_save(flags);
+
+	csr = readb(creg);
+	if (((u32)creg - 0x1fff100) == 1) {
+		/* ep0 write FIFO has a strange bit inversion. */
+		csr ^= 0x1;
+	}
+
+	/*
+	 * fail with still-busy IN endpoints, ensuring correct sequencing
+	 * of data tx then stall.  note that the fifo rx bytecount isn't
+	 * completely accurate as a tx bytecount.
+	 */
+	if (ep->is_in && (!list_empty(&ep->queue) || (csr & 1)))
+		status = -EAGAIN;
+	else {
+	  //	  printk("2.11>%x\n",creg - 0x1fff000 + 0x08);
+		writeb(11, creg + 0x08);
+	}
+
+	local_irq_restore(flags);
+	return status;
+}
+
+static const struct usb_ep_ops djcf_ep_ops = {
+	.enable		= djcf_ep_enable,
+	.disable	= djcf_ep_disable,
+	.alloc_request	= djcf_ep_alloc_request,
+	.free_request	= djcf_ep_free_request,
+	.queue		= djcf_ep_queue,
+	.dequeue	= djcf_ep_dequeue,
+	.set_halt	= djcf_ep_set_halt,
+	// there's only imprecise fifo status reporting
+};
+
+/*-------------------------------------------------------------------------*/
+
+static int djcf_get_frame(struct usb_gadget *gadget)
+{
+	if (!to_udc(gadget)->clocked)
+		return -EINVAL;
+	return -ENOTSUPP;
+}
+
+static int djcf_wakeup(struct usb_gadget *gadget)
+{
+	struct djcf_udc	*udc = to_udc(gadget);
+	int		status = -EINVAL;
+	unsigned long	flags;
+	u16		tmp;
+
+	DBG("%s\n", __func__ );
+	local_irq_save(flags);
+
+	if (!udc->clocked || !udc->suspended)
+		goto done;
+
+	outb(1,0x1fff10c);
+	outw(1, DJIO_A_UIFP_USBOLD_CTL2);
+	outw(1, DJIO_A_UIFP_USBOLD_CTL1);
+
+	tmp = inw(0x1ffe714) & 0xffc0; /* chipset revision -- needs header defs */
+	/* Need to work on this chipset version stuff */
+	if (1 || ((tmp & 0x0c) && (tmp >= 0x0600) && (tmp <= 0x08c0))) {
+	  outw(0,DJIO_A_UIFP_USBOLD_CTL2);
+	  tmp = inw(DJIO_A_UIFP_USBNEW_CTL1) | 1;
+	  outw(tmp,DJIO_A_UIFP_USBNEW_CTL1);
+	}
+	outb(11,0x1fff10a);
+	outb(11,0x1fff10b);
+	outb(3,0x1fff10a);
+	outb(3,0x1fff10b);
+	outb(11,0x1fff108);
+	outb(3,0x1fff108);
+	outb(8,0x1fff109);
+	outb(1,0x1fff109);
+	outb(0x1f,0x1fff11e);
+done:
+	local_irq_restore(flags);
+	return status;
+}
+
+/* reinit == restore inital software state */
+static void udc_reinit(struct djcf_udc *udc)
+{
+	u32 i;
+
+	INIT_LIST_HEAD(&udc->gadget.ep_list);
+	INIT_LIST_HEAD(&udc->gadget.ep0->ep_list);
+
+	for (i = 0; i < NUM_ENDPOINTS; i++) {
+		struct djcf_ep *ep = &udc->ep[i];
+
+		if (i != 0)
+			list_add_tail(&ep->ep.ep_list, &udc->gadget.ep_list);
+		ep->desc = NULL;
+		ep->stopped = 0;
+		ep->fifo_bank = 0;
+		ep->ep.maxpacket = ep->maxpacket;
+		/* note ep0out has no struct, so FIFO 0 skipped here.  */
+		ep->creg = (u8 __iomem *) DJIO_A_USB + i + 1; 
+		// initialiser une queue par endpoint
+		INIT_LIST_HEAD(&ep->queue);
+	}
+}
+
+static void stop_activity(struct djcf_udc *udc)
+{
+	struct usb_gadget_driver *driver = udc->driver;
+	int i;
+
+	if (udc->gadget.speed == USB_SPEED_UNKNOWN)
+		driver = NULL;
+	udc->gadget.speed = USB_SPEED_UNKNOWN;
+	udc->suspended = 0;
+
+	for (i = 0; i < NUM_ENDPOINTS; i++) {
+		struct djcf_ep *ep = &udc->ep[i];
+		ep->stopped = 1;
+		nuke(ep, -ESHUTDOWN);
+	}
+	if (driver)
+		driver->disconnect(&udc->gadget);
+
+	udc_reinit(udc);
+}
+
+static int djcf_set_selfpowered(struct usb_gadget *gadget, int is_on)
+{
+	return 0;
+}
+
+static const struct usb_gadget_ops djcf_udc_ops = {
+	.get_frame		= djcf_get_frame,
+	.wakeup			= djcf_wakeup,
+	.set_selfpowered	= djcf_set_selfpowered,
+
+	/*
+	 * VBUS-powered devices may also also want to support bigger
+	 * power budgets after an appropriate SET_CONFIGURATION.
+	 */
+	// .vbus_power		= djcf_vbus_power,
+};
+
+/*-------------------------------------------------------------------------*/
+
+union setup {
+	u8			raw[8];
+	struct usb_ctrlrequest	r;
+};
+
+
+static void handle_setup(struct djcf_udc *udc, struct djcf_ep *ep, u8 csr)
+{
+	u8 __iomem	*creg = 0x1fff100;
+	u16 __iomem	*dreg = 0x1fe0000;
+	s16		tmp;
+	union setup	pkt;
+	int		status = 0;
+	int		got;
+
+ again:
+
+	csr = inb(creg);
+	if (csr & 1) 
+		return;
+
+	for (got = 0; got < 8; got++) {
+		tmp = inw(dreg);
+		if (tmp < 0) break;
+		pkt.raw[got] = tmp & 0xff;
+	}
+	if (likely(got == 8)) {
+		if (pkt.r.bRequestType & USB_DIR_IN) {
+		  //			printk("11>108,3>108\n");
+			outb(11,0x1fff108);
+			outb(3,0x1fff108);
+			//	printk("8>109,1>109");
+			outb(8,0x1fff109);
+			outb(1,0x1fff109);
+			ep->is_in = 1;
+		} else {
+		  //    printk("8>109");
+			outb(8,0x1fff109);
+      			ep->is_in = 0;
+		}
+	} else { /* Should not happen */
+	  //	printk("8>109");
+		outb(8,0x1fff109);
+		ERR("SETUP len %d, csr %08x\n", got, csr);
+		status = -EINVAL;
+	}
+	//	printk("\n");
+	udc->wait_for_addr_ack = 0;
+	udc->wait_for_config_ack = 0;
+	ep->stopped = 0;
+	if (unlikely(status != 0))
+		goto stall;
+
+#define w_index		le16_to_cpu(pkt.r.wIndex)
+#define w_value		le16_to_cpu(pkt.r.wValue)
+#define w_length	le16_to_cpu(pkt.r.wLength)
+
+	VDBG("SETUP %02x.%02x v%04x i%04x l%04x\n",
+			pkt.r.bRequestType, pkt.r.bRequest,
+			w_value, w_index, w_length);
+
+	udc->req_pending = 1;
+
+        switch ((pkt.r.bRequestType << 8) | pkt.r.bRequest) {
+
+        case ((USB_TYPE_STANDARD|USB_RECIP_DEVICE) << 8)
+	  | USB_REQ_SET_ADDRESS:
+	  //	  printk("address = %x  8>109\n", w_value);
+	  /* hw handles this, may as well keep for posterity */
+	  udc->addr = w_value;
+	  // udc->wait_for_addr_ack = 1;
+	  udc->req_pending = 0;
+	  //	  printk("Trying for another packet\n");
+	  goto again;
+	  return;
+	}
+
+#undef w_value
+#undef w_index
+#undef w_length
+
+	/* pass request up to the gadget driver */
+	if (udc->driver)
+		status = udc->driver->setup(&udc->gadget, &pkt.r);
+	else
+		status = -ENODEV;
+	if (status < 0) {
+stall:
+		VDBG("req %02x.%02x protocol STALL; stat %d\n",
+				pkt.r.bRequestType, pkt.r.bRequest, status);
+		nuke(&udc->ep[0],-EPROTO);
+		udc->req_pending = 0;
+	}
+	if (!(pkt.r.bRequestType & USB_DIR_IN)) goto again;
+	return;
+}
+
+static int handle_ep(struct djcf_ep *ep)
+{
+  struct djcf_request     *req;
+
+  if (!list_empty(&ep->queue))
+    req = list_entry(ep->queue.next,
+		     struct djcf_request, queue);
+  else
+    req = NULL;
+
+  if (ep->is_in) {
+    if (req)
+      return write_fifo(ep, req);
+  } else {
+    if (req)
+      return read_fifo(ep, req);
+  }
+  return 0;
+}
+
+static void handle_ep0(struct djcf_udc *udc)
+{
+	struct djcf_ep		*ep0in = &udc->ep[0];
+	u8 __iomem		*creg = ep0in->creg;
+	u8			csr = readb(creg);
+	struct djcf_request	*req;
+
+	if (unlikely(csr & 2)) {
+		nuke(ep0in, -EPROTO);
+		udc->req_pending = 0;
+		VDBG("ep0 stalled\n");
+		return;
+	}
+	if (!(inb(0x1fff101) & 1)) {
+		if (!(inb(0x1fff100) & 1)) {
+			/* Got a setup */
+			nuke(ep0in, 0);
+			udc->req_pending = 0;
+			goto tryout;
+		}
+	}
+
+	if (list_empty(&ep0in->queue))
+		req = NULL;
+	else
+		req = list_entry(ep0in->queue.next, struct djcf_request, queue);
+
+	/* write more IN DATA? */
+	if (req && ep0in->is_in) {
+		if (handle_ep(ep0in))
+			udc->req_pending = 0;
+	}
+	if (!(inb(0x1fff100) & 1)) {
+ tryout:
+		handle_setup(udc, ep0in, csr);
+	}
+}
+
+/*-------------------------------------------------------------------------*/
+
+static void nop_release(struct device *dev)
+{
+	/* nothing to free */
+}
+
+static struct djcf_udc controller = {
+	.gadget = {
+		.ops	= &djcf_udc_ops,
+		.ep0	= &controller.ep[0].ep,
+		.name	= driver_name,
+		.speed  = USB_SPEED_FULL,
+		.dev	= {
+			.init_name = "gadget",
+			.release = nop_release,
+			.parent = &platform_bus,
+		}
+	},
+	/* This is epoin.  ep0out not advertised 
+	 * and handled implicitly.  kludge-ass standard.
+	 */
+	.ep[0] = {
+		.ep = {
+			.name	= ep0name,
+			.ops	= &djcf_ep_ops,
+		},
+		.udc		= &controller,
+		.maxpacket	= 64,
+	},
+	.ep[1] = {
+		.ep = {
+			.name	= "ep2out-bulk",
+			.ops	= &djcf_ep_ops,
+		},
+		.udc		= &controller,
+		.maxpacket	= 64,
+	},
+	.ep[2] = {
+		.ep = {
+			.name	= "ep1in-bulk",
+			.ops	= &djcf_ep_ops,
+		},
+		.udc		= &controller,
+		.maxpacket	= 64,
+	}
+};
+
+static int turned_off_src2 = 0;
+
+static irqreturn_t djcf_udc_irq (int irq, void *unused)
+{
+	u32			rescans = 5;
+	u8			irqsrc;
+	unsigned long		flags;
+
+	local_irq_save(flags);
+	outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+	outb(0, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE));
+	outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+	local_irq_restore(flags);
+	
+	irqsrc = inb(0x1fff11e);
+	//printk("src%x\n",irqsrc);
+
+	//	if (irqsrc != 4) printk("{%x:", irqsrc);
+	//	else printk("^");
+
+	//  printk("%i%i",inb(0x1fff102),inb(0x1fff103));
+
+
+	if (irqsrc & 0x12) {
+	  if (irqsrc & 2) {
+	    if (!turned_off_src2) {
+	      outb(0x1d,0x1fff11f);
+	      turned_off_src2 = 1;
+	    }
+	  }
+	  outb(0x1f,0x1fff11e);
+	  if (irqsrc & 0x10) { //printk("|"); 
+	    goto leave; }
+	  if (!(irqsrc & 0x5)) goto leave;
+	}
+
+	/* Ack all originators now so we catch barrages from host. */
+	outb(0x1f,0x1fff11e);
+
+	while (rescans--) {
+		int		i;
+		struct djcf_ep	*ep = &controller.ep[1];
+		
+		handle_ep0(&controller);
+		for (i = 1; i < NUM_ENDPOINTS; i++) {
+		    handle_ep(ep);
+		    ep++;
+		}
+	}
+
+ leave:
+	//	if (irqsrc != 4) printk("}");
+	local_irq_save(flags);
+	outb(DJIO_A_IRQ_GLOBAL_DISABLE, DJIO_A_IRQ_GLOBAL);
+	outb(2, DJIO_A_IRQ_N(irq - DJIO_IRQ_BASE));
+	outb(DJIO_A_IRQ_GLOBAL_ENABLE, DJIO_A_IRQ_GLOBAL);
+	local_irq_restore(flags);
+
+	return IRQ_HANDLED;
+}
+
+
+int usb_gadget_register_driver (struct usb_gadget_driver *driver)
+{
+	struct djcf_udc	*udc = &controller;
+	int		retval;
+
+	if (!driver
+			|| driver->speed < USB_SPEED_FULL
+			|| !driver->bind
+			|| !driver->setup) {
+		DBG("bad parameter.\n");
+		return -EINVAL;
+	}
+
+	if (udc->driver) {
+		DBG("UDC already has a gadget driver\n");
+		return -EBUSY;
+	}
+
+	udc->driver = driver;
+	udc->gadget.dev.driver = &driver->driver;
+	udc->gadget.dev.driver_data = &driver->driver;
+	udc->enabled = 1;
+	udc->selfpowered = 1;
+
+	udc_reinit(udc);
+	udc->clocked = 1;
+	udc->suspended = 1;
+	djcf_wakeup(&udc->gadget);
+	udc->clocked = 0;
+	udc->suspended = 0;
+
+	retval = driver->bind(&udc->gadget);
+	if (retval) {
+		DBG("driver->bind() returned %d\n", retval);
+		udc->driver = NULL;
+		udc->gadget.dev.driver = NULL;
+		udc->gadget.dev.driver_data = NULL;
+		udc->enabled = 0;
+		udc->selfpowered = 0;
+		return retval;
+	}
+
+	DBG("bound to %s\n", driver->driver.name);
+
+	/* IRQ will fire to start us up */
+	outb(0xff,0x1fff11f);
+	outb(0xff,0x1fff11e);
+
+	return 0;
+}
+EXPORT_SYMBOL (usb_gadget_register_driver);
+
+int usb_gadget_unregister_driver (struct usb_gadget_driver *driver)
+{
+	struct djcf_udc *udc = &controller;
+
+	if (!driver || driver != udc->driver || !driver->unbind)
+		return -EINVAL;
+
+	local_irq_disable();
+	udc->enabled = 0;
+	local_irq_enable();
+
+	driver->unbind(&udc->gadget);
+	udc->gadget.dev.driver = NULL;
+	udc->gadget.dev.driver_data = NULL;
+	udc->driver = NULL;
+
+	djcf_wakeup(&controller.gadget);
+	outb(0xff,0x1fff11f); /* IRQ will fire to start us up */
+
+	DBG("unbound from %s\n", driver->driver.name);
+	return 0;
+}
+EXPORT_SYMBOL (usb_gadget_unregister_driver);
+
+static struct irqaction djcf_udc_irqaction = {
+  .name    = "usb_udc",
+  .flags   = IRQF_DISABLED,
+  .handler = djcf_udc_irq,
+};
+
+static int __init udc_init_module(void)
+{
+
+  if (0) {
+    int i;
+    u16 tmp;
+    u8 foo[18] = { 0x12, 1, 0, 1, 0, 0, 0, 8, 0x25, 0x25, 0x25, 0x25, 0, 1, 1, 2, 3, 1 };
+    u8 bar[8];
+    struct djcf_request req;
+
+    outb(1,0x1fff10c);
+    outw(1, DJIO_A_UIFP_USBOLD_CTL2);
+    outw(1, DJIO_A_UIFP_USBOLD_CTL1);
+
+    tmp = inw(0x1ffe714) & 0xffc0; /* chipset revision -- needs header defs */
+    /* Need to work on this chipset version stuff */
+    if (1 || ((tmp & 0x0c) && (tmp >= 0x0600) && (tmp <= 0x08c0))) {
+      outw(0,DJIO_A_UIFP_USBOLD_CTL2);
+      tmp = inw(DJIO_A_UIFP_USBNEW_CTL1) | 1;
+      outw(tmp,DJIO_A_UIFP_USBNEW_CTL1);
+    }
+    outb(11,0x1fff108);
+    outb(11,0x1fff109);
+    outb(11,0x1fff10a);
+    outb(11,0x1fff10b);
+    outb(3,0x1fff108);
+    outb(3,0x1fff109);
+    outb(3,0x1fff10a);
+    outb(3,0x1fff10b);
+    outb(0x1f,0x1fff11e);
+  again:
+    for (i = 0; i < 20; i++) {
+      tmp = inb(0x1fff100) & 1;
+      if (!tmp) break;
+      printk("*");
+      udelay(100000);
+    }
+    printk("\n");
+    for (i = 0; i < 8; i++) {
+      tmp = inw(0x1fe0000);
+      printk("%x ",tmp);
+    }
+    printk("\n");
+    outb(11,0x1fff108);
+    outb(3,0x1fff108);
+    for (i = 0; i < 20; i++) {
+      tmp = inb(0x1fff101) & 1;
+      if (tmp) break;
+      printk("wnready\n");
+      udelay(100000);
+    }
+    outb(8,0x1fff109);
+    outb(1,0x1fff109);
+    for (i = 0; i < 18; i++) {
+      outb(foo[i],0x1fe0002);
+    }
+    outb(0,0x1fff115);
+    outb(3,0x1fff109);
+    outb(11,0x1fff108);
+    outb(3,0x1fff108);
+    for (i = 0; i < 20; i++) {
+      tmp = inb(0x1fff100) & 1;
+      if (!tmp) break;
+      printk("notready\n");
+      udelay(100000);
+    }
+    for (i = 0; i < 8; i++) {
+      tmp = inw(0x1fe0000);
+      printk("%x ",tmp);
+    }
+    //    outb(11,0x1fff109);
+    outb(8,0x1fff109);
+    for (i = 0; i < 20; i++) {
+      tmp = inb(0x1fff100) & 1;
+      if (!tmp) break;
+      printk("notready\n");
+      udelay(100000);
+    }
+    for (i = 0; i < 8; i++) {
+      tmp = inw(0x1fe0000);
+      printk("%x ",tmp);
+    }
+    printk("\n");
+    outb(11,0x1fff108);
+    outb(3,0x1fff108);
+    outb(8,0x1fff109);
+    outb(1,0x1fff109);
+    for (i = 0; i < 20; i++) {
+      tmp = inb(0x1fff101) & 1;
+      if (tmp) break;
+      printk("wnready\n");
+    }
+    outb(1,0x1fff109);
+    for (i = 0; i < 18; i++) {
+      printk("%x ", inb(0x1fff101));
+      outb(foo[i],0x1fe0002);
+    }
+	printk("\n");
+    outb(0,0x1fff115);
+    //outb(11,0x1fff108);
+    outb(3,0x1fff109);
+    outb(11,0x1fff108);
+    outb(3,0x1fff108);
+    goto again;
+    i = 0;
+    while(1) {
+      //      if (!(i++ % 25)) printk("\n");
+      //printk("%d ", inw(0x1fff110));
+    }
+
+
+  } else {
+  setup_irq(DJIO_IRQ_BASE + DJIO_A_USB_IRQA_LINE, &djcf_udc_irqaction);
+  device_register(&controller.gadget.dev);
+
+  }
+  return 0;
+}
+module_init(udc_init_module);
+
+static void __exit udc_exit_module(void)
+{
+
+}
+module_exit(udc_exit_module);
+
+MODULE_DESCRIPTION("DJCF udc driver");
+MODULE_AUTHOR("Thomas Rathbone, David Brownell");
+MODULE_LICENSE("GPL");
+MODULE_ALIAS("platform:djcf_udc");
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/gadget_chips.h uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/gadget_chips.h
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/gadget_chips.h	2009-03-24 21:13:02.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/gadget_chips.h	2010-02-06 10:48:01.000000000 -0500
@@ -164,4 +164,12 @@
 #endif
 
+/* HP Deskjet Coldfire ASIC support */
+
+#ifdef CONFIG_USB_GADGET_DJCF
+#define gadget_is_djcf(g)	(!strcmp("djcf_udc", (g)->name))
+#else
+#define gadget_is_djcf(g)	0
+#endif
+
 // CONFIG_USB_GADGET_SX2
 // CONFIG_USB_GADGET_AU1X00
@@ -232,4 +240,6 @@
 	else if (gadget_is_ci13xxx(gadget))
 		return 0x23;
+	else if (gadget_is_djcf(gadget))
+		return 0x24;
 	return -ENOENT;
 }
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/Kconfig uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/Kconfig
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/Kconfig	2010-02-16 12:02:16.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/Kconfig	2010-01-30 10:37:16.000000000 -0500
@@ -357,4 +357,16 @@
 	   NET_IP_ALIGN to 4.
 
+config USB_GADGET_DJCF
+	boolean "HP Deskjet USB port"
+	depends on DJ895C_ASIC
+	help
+	   Support for USB port on Deskjets 895c, ???
+
+config USB_DJCF
+	tristate
+	depends on USB_GADGET_DJCF
+	default USB_GADGET
+	select USB_GADGET_SELECTED
+
 #
 # Controllers available only in discrete form (and all PCI controllers)
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/Makefile uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/Makefile
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/Makefile	2009-03-24 21:13:02.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/Makefile	2010-01-30 10:29:51.000000000 -0500
@@ -22,4 +22,5 @@
 obj-$(CONFIG_USB_FSL_QE)	+= fsl_qe_udc.o
 obj-$(CONFIG_USB_CI13XXX)	+= ci13xxx_udc.o
+obj-$(CONFIG_USB_DJCF)		+= djcf_udc.o
 
 #
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/serial.c uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/serial.c
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/serial.c	2010-02-16 12:02:17.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/serial.c	2010-02-14 13:43:58.000000000 -0500
@@ -124,5 +124,5 @@
 MODULE_LICENSE("GPL");
 
-static int use_acm = true;
+static int use_acm = false;
 module_param(use_acm, bool, 0);
 MODULE_PARM_DESC(use_acm, "Use CDC ACM, default=yes");
@@ -168,4 +168,5 @@
 	int			status;
 
+
 	status = gserial_setup(cdev->gadget, n_ports);
 	if (status < 0)
@@ -188,12 +189,13 @@
 
 	status = usb_string_id(cdev);
+
 	if (status < 0)
 		goto fail;
 	strings_dev[STRING_PRODUCT_IDX].id = status;
-
 	device_desc.iProduct = status;
 
 	/* config description */
 	status = usb_string_id(cdev);
+
 	if (status < 0)
 		goto fail;
@@ -204,4 +206,5 @@
 	/* set up other descriptors */
 	gcnum = usb_gadget_controller_number(gadget);
+
 	if (gcnum >= 0)
 		device_desc.bcdDevice = cpu_to_le16(GS_VERSION_NUM | gcnum);
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/u_serial.c uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/u_serial.c
--- uClinux-dist-20091129/linux-2.6.x/drivers/usb/gadget/u_serial.c	2010-02-16 12:02:17.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/drivers/usb/gadget/u_serial.c	2010-02-16 22:20:21.000000000 -0500
@@ -1123,5 +1123,4 @@
 	for (i = 0; i < count; i++) {
 		struct device	*tty_dev;
-
 		tty_dev = tty_register_device(gs_tty_driver, i, &g->dev);
 		if (IS_ERR(tty_dev))
@@ -1130,6 +1129,6 @@
 	}
 
-	pr_debug("%s: registered %d ttyGS* device%s\n", __func__,
-			count, (count == 1) ? "" : "s");
+	pr_debug("%s: registered %d ttyGS* device%s major%i\n", __func__,
+	       count, (count == 1) ? "" : "s", gs_tty_driver->major);
 
 	return status;
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/fs/binfmt_flat.c uClinux-dist-20091129-dj/linux-2.6.x/fs/binfmt_flat.c
--- uClinux-dist-20091129/linux-2.6.x/fs/binfmt_flat.c	2010-02-16 12:02:26.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/fs/binfmt_flat.c	2010-01-27 20:40:41.000000000 -0500
@@ -388,5 +388,5 @@
 	
 	r.value = rl;
-#if defined(CONFIG_COLDFIRE)
+#if defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ)
 	ptr = (unsigned long *) (current->mm->start_code + r.reloc.offset);
 #else
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/include/linux/compiler-gcc4.h uClinux-dist-20091129-dj/linux-2.6.x/include/linux/compiler-gcc4.h
--- uClinux-dist-20091129/linux-2.6.x/include/linux/compiler-gcc4.h	2010-02-16 12:02:34.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/include/linux/compiler-gcc4.h	2010-01-27 23:16:08.000000000 -0500
@@ -5,7 +5,9 @@
 /* GCC 4.1.[01] miscompiles __weak */
 #ifdef __KERNEL__
+/*
 # if __GNUC_MINOR__ == 1 && __GNUC_PATCHLEVEL__ <= 1
 #  error Your version of gcc miscompiles the __weak directive
 # endif
+*/
 #endif
 
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/include/linux/flat.h uClinux-dist-20091129-dj/linux-2.6.x/include/linux/flat.h
--- uClinux-dist-20091129/linux-2.6.x/include/linux/flat.h	2003-06-03 00:46:44.000000000 -0400
+++ uClinux-dist-20091129-dj/linux-2.6.x/include/linux/flat.h	2010-01-27 20:47:54.000000000 -0500
@@ -78,5 +78,5 @@
 	unsigned long	value;
 	struct {
-# if defined(mc68000) && !defined(CONFIG_COLDFIRE)
+# if defined(mc68000) && !(defined(CONFIG_COLDFIRE) || defined(CONFIG_DJ))
 		signed long offset : 30;
 		unsigned long type : 2;
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/init/main.c uClinux-dist-20091129-dj/linux-2.6.x/init/main.c
--- uClinux-dist-20091129/linux-2.6.x/init/main.c	2010-02-16 12:02:42.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/init/main.c	2010-02-16 22:22:54.000000000 -0500
@@ -803,4 +803,5 @@
 	__releases(kernel_lock)
 {
+  //  int i;
 	/* need to finish all async __init code before freeing the memory */
 	async_synchronize_full();
@@ -811,4 +812,11 @@
 	numa_default_policy();
 
+	
+	//	for (i=0; i<25; i++) {
+	//  set_current_state(TASK_UNINTERRUPTIBLE);
+	//  schedule_timeout(100);
+	//  printk("Waiting....\n");
+	//}
+
 	if (sys_open((const char __user *) "/dev/console", O_RDWR, 0) < 0)
 		printk(KERN_WARNING "Warning: unable to open an initial console.\n");
diff -N -U2 -r uClinux-dist-20091129/linux-2.6.x/kernel/printk.c uClinux-dist-20091129-dj/linux-2.6.x/kernel/printk.c
--- uClinux-dist-20091129/linux-2.6.x/kernel/printk.c	2010-02-16 12:02:42.000000000 -0500
+++ uClinux-dist-20091129-dj/linux-2.6.x/kernel/printk.c	2010-02-16 23:07:28.000000000 -0500
@@ -37,4 +37,6 @@
 #include <asm/uaccess.h>
 
+#include <asm/dj_p1284.h>
+
 /*
  * Architectures can override it:
@@ -693,4 +695,5 @@
 	 */
 	for (p = printk_buf; *p; p++) {
+	  //dj_p1284_console_write(NULL, p,1);
 		if (new_text_line) {
 			/* If a token, set current_log_level and skip over */
diff -N -U2 -r uClinux-dist-20091129/Makefile uClinux-dist-20091129-dj/Makefile
--- uClinux-dist-20091129/Makefile	2010-02-16 12:03:01.000000000 -0500
+++ uClinux-dist-20091129-dj/Makefile	2010-02-06 14:42:41.000000000 -0500
@@ -269,9 +269,9 @@
 
 .PHONY: linux
+#. $(LINUXDIR)/.config; if [ "$$CONFIG_INITRAMFS_SOURCE" != "" ]; then \
+#	mkdir -p `dirname $$CONFIG_INITRAMFS_SOURCE`; \
+#	touch $$CONFIG_INITRAMFS_SOURCE || exit 1; \
+#fi
 linux linux%_only:
-	. $(LINUXDIR)/.config; if [ "$$CONFIG_INITRAMFS_SOURCE" != "" ]; then \
-		mkdir -p `dirname $$CONFIG_INITRAMFS_SOURCE`; \
-		touch $$CONFIG_INITRAMFS_SOURCE || exit 1; \
-	fi
 	@if expr "$(LINUXDIR)" : 'linux-2\.[0-4].*' > /dev/null && \
 			 [ ! -f $(LINUXDIR)/.depend ] ; then \
Binary files uClinux-dist-20091129/user/net-tools/mii-tool and uClinux-dist-20091129-dj/user/net-tools/mii-tool differ
Binary files uClinux-dist-20091129/user/net-tools/mii-tool.gdb and uClinux-dist-20091129-dj/user/net-tools/mii-tool.gdb differ
diff -N -U2 -r uClinux-dist-20091129/user/net-tools/version.h uClinux-dist-20091129-dj/user/net-tools/version.h
--- uClinux-dist-20091129/user/net-tools/version.h	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/user/net-tools/version.h	2010-01-27 23:50:10.000000000 -0500
@@ -0,0 +1 @@
+#define RELEASE "net-tools 1.60"
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.arch uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.arch
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.arch	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.arch	2010-02-16 15:59:53.000000000 -0500
@@ -0,0 +1,23 @@
+.EXPORT_ALL_VARIABLES:
+############################################################################
+#
+# Vendor specific settings
+#
+
+CONSOLE_BAUD_RATE = 19200
+
+############################################################################
+
+CPUFLAGS      = -m5200 -DCONFIG_COLDFIRE
+VENDOR_CFLAGS =
+# DISABLE_XIP := 1
+# DISABLE_MOVE_RODATA := 1
+# DISABLE_SHARED_LIBS := 1
+# LOPT := -Os
+# UOPT := -Os
+
+############################################################################
+
+include $(ROOTDIR)/vendors/config/m68knommu/config.arch
+
+############################################################################
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.linux-2.0.x uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.linux-2.0.x
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.linux-2.0.x	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.linux-2.0.x	2010-01-27 21:24:12.000000000 -0500
@@ -0,0 +1,243 @@
+#
+# Automatically generated make config: don't edit
+#
+CONFIG_UCLINUX=y
+
+#
+# Code maturity level options
+#
+CONFIG_EXPERIMENTAL=y
+
+#
+# Loadable module support
+#
+# CONFIG_MODULES is not set
+
+#
+# Platform dependant setup
+#
+# CONFIG_M68000 is not set
+# CONFIG_M68EN302 is not set
+# CONFIG_M68328 is not set
+# CONFIG_M68EZ328 is not set
+# CONFIG_M68332 is not set
+# CONFIG_M68360 is not set
+# CONFIG_M68376 is not set
+# CONFIG_M5204 is not set
+# CONFIG_M5206 is not set
+CONFIG_M5206e=y
+# CONFIG_M5249 is not set
+# CONFIG_M5272 is not set
+# CONFIG_M5307 is not set
+# CONFIG_M5407 is not set
+CONFIG_COLDFIRE=y
+# CONFIG_CLOCK_AUTO is not set
+# CONFIG_CLOCK_11MHz is not set
+# CONFIG_CLOCK_16MHz is not set
+# CONFIG_CLOCK_20MHz is not set
+# CONFIG_CLOCK_24MHz is not set
+# CONFIG_CLOCK_25MHz is not set
+# CONFIG_CLOCK_33MHz is not set
+# CONFIG_CLOCK_40MHz is not set
+# CONFIG_CLOCK_45MHz is not set
+# CONFIG_CLOCK_48MHz is not set
+# CONFIG_CLOCK_50MHz is not set
+CONFIG_CLOCK_54MHz=y
+# CONFIG_CLOCK_60MHz is not set
+# CONFIG_CLOCK_64MHz is not set
+# CONFIG_CLOCK_66MHz is not set
+# CONFIG_CLOCK_70MHz is not set
+# CONFIG_CLOCK_140MHz is not set
+
+#
+# Platform
+#
+CONFIG_M5206eC3=y
+# CONFIG_ELITE is not set
+# CONFIG_TELOS is not set
+# CONFIG_CFV240 is not set
+# CONFIG_NETtel is not set
+# CONFIG_SNAPGEAR is not set
+# CONFIG_ROMFS_FROM_ROM is not set
+CONFIG_MOTOROLA=y
+CONFIG_RAMAUTO=y
+# CONFIG_RAM05MB is not set
+# CONFIG_RAM1MB is not set
+# CONFIG_RAM2MB is not set
+# CONFIG_RAM4MB is not set
+# CONFIG_RAM8MB is not set
+# CONFIG_RAM16MB is not set
+# CONFIG_RAM32MB is not set
+# CONFIG_RAM64MB is not set
+CONFIG_AUTOBIT=y
+# CONFIG_RAM8BIT is not set
+# CONFIG_RAM16BIT is not set
+# CONFIG_RAM32bit is not set
+CONFIG_RAMKERNEL=y
+# CONFIG_ROMKERNEL is not set
+
+#
+# General setup
+#
+# CONFIG_PCI is not set
+CONFIG_NET=y
+# CONFIG_SYSVIPC is not set
+CONFIG_REDUCED_MEMORY=y
+CONFIG_BINFMT_FLAT=y
+# CONFIG_BINFMT_ZFLAT is not set
+CONFIG_KERNEL_ELF=y
+# CONFIG_CONSOLE is not set
+
+#
+# Floppy, IDE, and other block devices
+#
+CONFIG_BLK_DEV_BLKMEM=y
+CONFIG_NOFLASH=y
+# CONFIG_AMDFLASH is not set
+# CONFIG_INTELFLASH is not set
+# CONFIG_BLK_DEV_IDE is not set
+
+#
+# Additional Block/FLASH Devices
+#
+# CONFIG_BLK_DEV_LOOP is not set
+# CONFIG_BLK_DEV_MD is not set
+CONFIG_BLK_DEV_RAM=y
+# CONFIG_RD_RELEASE_BLOCKS is not set
+# CONFIG_BLK_DEV_INITRD is not set
+# CONFIG_DEV_FLASH is not set
+# CONFIG_BLK_DEV_NFA is not set
+
+#
+# Networking options
+#
+CONFIG_FIREWALL=y
+# CONFIG_NET_ALIAS is not set
+CONFIG_INET=y
+CONFIG_IP_FORWARD=y
+# CONFIG_IP_MULTICAST is not set
+# CONFIG_SYN_COOKIES is not set
+CONFIG_IP_FIREWALL=y
+# CONFIG_IP_FIREWALL_VERBOSE is not set
+CONFIG_IP_MASQUERADE=y
+
+#
+# Protocol-specific masquerading support will be built as modules.
+#
+# CONFIG_IP_MASQUERADE_IPAUTOFW is not set
+# CONFIG_IP_MASQUERADE_IPPORTFW is not set
+CONFIG_IP_MASQUERADE_PPTP=y
+CONFIG_IP_MASQUERADE_PPTP_MULTICLIENT=y
+# DEBUG_IP_MASQUERADE_PPTP is not set
+CONFIG_IP_MASQUERADE_IPSEC=y
+CONFIG_IP_MASQUERADE_IPSEC_EXPIRE=30
+# CONFIG_IP_MASQUERADE_IPSEC_NOGUESS is not set
+# DEBUG_IP_MASQUERADE_IPSEC is not set
+CONFIG_IP_MASQUERADE_ICMP=y
+# CONFIG_IP_TRANSPARENT_PROXY is not set
+CONFIG_IP_ALWAYS_DEFRAG=y
+# CONFIG_IP_ACCT is not set
+CONFIG_IP_ROUTER=y
+# CONFIG_NET_IPIP is not set
+
+#
+# (it is safe to leave these untouched)
+#
+# CONFIG_INET_PCTCP is not set
+# CONFIG_INET_RARP is not set
+# CONFIG_NO_PATH_MTU_DISCOVERY is not set
+# CONFIG_IP_NOSR is not set
+# CONFIG_SKB_LARGE is not set
+
+#
+#  
+#
+# CONFIG_IPX is not set
+# CONFIG_ATALK is not set
+# CONFIG_AX25 is not set
+# CONFIG_BRIDGE is not set
+# CONFIG_NETLINK is not set
+# CONFIG_IPSEC is not set
+
+#
+# Network device support
+#
+CONFIG_NETDEVICES=y
+# CONFIG_DUMMY is not set
+CONFIG_SLIP=y
+CONFIG_SLIP_COMPRESSED=y
+# CONFIG_SLIP_SMART is not set
+# CONFIG_SLIP_MODE_SLIP6 is not set
+CONFIG_PPP=y
+
+#
+# CCP compressors for PPP are only built as modules.
+#
+# CONFIG_EQUALIZER is not set
+# CONFIG_UCCS8900 is not set
+# CONFIG_SMC9194 is not set
+# CONFIG_SMC91111 is not set
+CONFIG_NE2000=y
+# CONFIG_FEC is not set
+
+#
+# Filesystems
+#
+# CONFIG_QUOTA is not set
+# CONFIG_MINIX_FS is not set
+# CONFIG_EXT_FS is not set
+CONFIG_EXT2_FS=y
+# CONFIG_XIA_FS is not set
+# CONFIG_NLS is not set
+CONFIG_PROC_FS=y
+CONFIG_NFS_FS=y
+# CONFIG_ROOT_NFS is not set
+CONFIG_SMB_FS=y
+# CONFIG_SMB_WIN95 is not set
+# CONFIG_HPFS_FS is not set
+# CONFIG_SYSV_FS is not set
+# CONFIG_AUTOFS_FS is not set
+# CONFIG_AFFS_FS is not set
+CONFIG_ROMFS_FS=y
+# CONFIG_JFFS_FS is not set
+# CONFIG_UFS_FS is not set
+
+#
+# Character devices
+#
+CONFIG_COLDFIRE_SERIAL=y
+# CONFIG_SERIAL is not set
+# CONFIG_MCF_MBUS is not set
+# CONFIG_MCF_QSPI is not set
+# CONFIG_LCDTXT is not set
+# CONFIG_KEYPAD is not set
+# CONFIG_KEY is not set
+# CONFIG_LCDDMA is not set
+# CONFIG_DAC0800 is not set
+# CONFIG_DACI2S is not set
+# CONFIG_T6963 is not set
+# CONFIG_LEDMAN is not set
+# CONFIG_LIRC_INTR is not set
+# CONFIG_IDETEST is not set
+# CONFIG_RESETSWITCH is not set
+# CONFIG_DS1302 is not set
+# CONFIG_EXP is not set
+# CONFIG_WATCHDOG is not set
+# CONFIG_DS1743 is not set
+
+#
+# Sound support
+#
+# CONFIG_M5249AUDIO is not set
+# CONFIG_AD1845 is not set
+
+#
+# Kernel hacking
+#
+# CONFIG_FULLDEBUG is not set
+# CONFIG_ALLOC2 is not set
+# CONFIG_PROFILE is not set
+# CONFIG_MAGIC_SYSRQ is not set
+# CONFIG_DUMPTOFLASH is not set
+# CONFIG_MEMORY_PROTECT is not set
+# CONFIG_BDM_DISABLE is not set
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.linux-2.4.x uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.linux-2.4.x
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.linux-2.4.x	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.linux-2.4.x	2010-01-27 21:24:12.000000000 -0500
@@ -0,0 +1,671 @@
+#
+# Automatically generated make config: don't edit
+#
+CONFIG_UCLINUX=y
+CONFIG_UID16=y
+CONFIG_RWSEM_GENERIC_SPINLOCK=y
+# CONFIG_RWSEM_XCHGADD_ALGORITHM is not set
+
+#
+# Code maturity level options
+#
+CONFIG_EXPERIMENTAL=y
+
+#
+# Loadable module support
+#
+# CONFIG_MODULES is not set
+
+#
+# Processor type and features
+#
+# CONFIG_M68000 is not set
+# CONFIG_M68EN302 is not set
+# CONFIG_M68328 is not set
+# CONFIG_M68EZ328 is not set
+# CONFIG_M68VZ328 is not set
+# CONFIG_M68332 is not set
+# CONFIG_M68360 is not set
+# CONFIG_M5204 is not set
+# CONFIG_M5206 is not set
+CONFIG_M5206e=y
+# CONFIG_M5208 is not set
+# CONFIG_M5235 is not set
+# CONFIG_M5249 is not set
+# CONFIG_M5271 is not set
+# CONFIG_M5272 is not set
+# CONFIG_M5275 is not set
+# CONFIG_M5280 is not set
+# CONFIG_M5282 is not set
+# CONFIG_M5307 is not set
+# CONFIG_M5407 is not set
+# CONFIG_M547x is not set
+CONFIG_COLDFIRE=y
+# CONFIG_CLOCK_AUTO is not set
+# CONFIG_CLOCK_11MHz is not set
+# CONFIG_CLOCK_16MHz is not set
+# CONFIG_CLOCK_20MHz is not set
+# CONFIG_CLOCK_24MHz is not set
+# CONFIG_CLOCK_25MHz is not set
+# CONFIG_CLOCK_29_5MHz is not set
+# CONFIG_CLOCK_33MHz is not set
+# CONFIG_CLOCK_40MHz is not set
+# CONFIG_CLOCK_45MHz is not set
+# CONFIG_CLOCK_48MHz is not set
+# CONFIG_CLOCK_50MHz is not set
+CONFIG_CLOCK_54MHz=y
+# CONFIG_CLOCK_59MHz is not set
+# CONFIG_CLOCK_60MHz is not set
+# CONFIG_CLOCK_62_5MHz is not set
+# CONFIG_CLOCK_64MHz is not set
+# CONFIG_CLOCK_66MHz is not set
+# CONFIG_CLOCK_70MHz is not set
+# CONFIG_CLOCK_80MHz is not set
+# CONFIG_CLOCK_100MHz is not set
+# CONFIG_CLOCK_140MHz is not set
+# CONFIG_CLOCK_150MHz is not set
+# CONFIG_CLOCK_166MHz is not set
+
+#
+# Platform
+#
+CONFIG_M5206eC3=y
+# CONFIG_ELITE is not set
+# CONFIG_TELOS is not set
+# CONFIG_CFV240 is not set
+# CONFIG_NETtel is not set
+# CONFIG_SNAPGEAR is not set
+# CONFIG_ROMFS_FROM_ROM is not set
+CONFIG_MOTOROLA=y
+CONFIG_RAMAUTO=y
+# CONFIG_RAM4MB is not set
+# CONFIG_RAM8MB is not set
+# CONFIG_RAM16MB is not set
+# CONFIG_RAM32MB is not set
+# CONFIG_RAM64MB is not set
+CONFIG_AUTOBIT=y
+# CONFIG_RAM8BIT is not set
+# CONFIG_RAM16BIT is not set
+# CONFIG_RAM32bit is not set
+CONFIG_RAMKERNEL=y
+# CONFIG_ROMKERNEL is not set
+# CONFIG_HIMEMKERNEL is not set
+
+#
+# General setup
+#
+CONFIG_NET=y
+# CONFIG_PCI is not set
+# CONFIG_HOTPLUG is not set
+# CONFIG_PCMCIA is not set
+# CONFIG_SYSVIPC is not set
+# CONFIG_BSD_PROCESS_ACCT is not set
+# CONFIG_SYSCTL is not set
+# CONFIG_KCORE_ELF is not set
+CONFIG_KCORE_AOUT=y
+CONFIG_BINFMT_FLAT=y
+# CONFIG_BINFMT_ZFLAT is not set
+# CONFIG_BINFMT_SHARED_FLAT is not set
+# CONFIG_BINFMT_AOUT is not set
+# CONFIG_BINFMT_ELF is not set
+# CONFIG_BINFMT_MISC is not set
+# CONFIG_PM is not set
+# CONFIG_ACPI is not set
+# CONFIG_APM is not set
+
+#
+# Memory Technology Devices (MTD)
+#
+# CONFIG_MTD is not set
+
+#
+# Parallel port support
+#
+# CONFIG_PARPORT is not set
+
+#
+# Plug and Play configuration
+#
+# CONFIG_PNP is not set
+# CONFIG_ISAPNP is not set
+
+#
+# Block devices
+#
+# CONFIG_BLK_DEV_FD is not set
+# CONFIG_BLK_DEV_XD is not set
+# CONFIG_PARIDE is not set
+# CONFIG_BLK_CPQ_DA is not set
+# CONFIG_BLK_CPQ_CISS_DA is not set
+# CONFIG_CISS_SCSI_TAPE is not set
+# CONFIG_CISS_MONITOR_THREAD is not set
+# CONFIG_BLK_DEV_DAC960 is not set
+# CONFIG_BLK_DEV_UMEM is not set
+# CONFIG_BLK_DEV_SX8 is not set
+# CONFIG_BLK_DEV_LOOP is not set
+# CONFIG_BLK_DEV_NBD is not set
+CONFIG_BLK_DEV_RAM=y
+CONFIG_BLK_DEV_RAM_SIZE=4096
+# CONFIG_BLK_DEV_INITRD is not set
+# CONFIG_BLK_DEV_RAMDISK_DATA is not set
+CONFIG_BLK_DEV_BLKMEM=y
+CONFIG_NOFLASH=y
+# CONFIG_AMDFLASH is not set
+# CONFIG_INTELFLASH is not set
+# CONFIG_BLK_STATS is not set
+
+#
+# Networking options
+#
+CONFIG_PACKET=y
+# CONFIG_PACKET_MMAP is not set
+# CONFIG_NETLINK_DEV is not set
+# CONFIG_NETFILTER is not set
+# CONFIG_FILTER is not set
+# CONFIG_NET_NEIGH_DEBUG is not set
+# CONFIG_NET_RESTRICTED_REUSE is not set
+CONFIG_UNIX=y
+CONFIG_INET=y
+# CONFIG_IP_MULTICAST is not set
+# CONFIG_IP_ADVANCED_ROUTER is not set
+# CONFIG_IP_PNP is not set
+# CONFIG_NET_ARP_LIMIT is not set
+# CONFIG_NET_IPIP is not set
+# CONFIG_NET_IPGRE is not set
+# CONFIG_ARPD is not set
+# CONFIG_INET_ECN is not set
+# CONFIG_SYN_COOKIES is not set
+# CONFIG_IPV6 is not set
+# CONFIG_KHTTPD is not set
+
+#
+#    SCTP Configuration (EXPERIMENTAL)
+#
+# CONFIG_IP_SCTP is not set
+# CONFIG_ATM is not set
+# CONFIG_VLAN_8021Q is not set
+
+#
+#  
+#
+# CONFIG_IPX is not set
+# CONFIG_ATALK is not set
+# CONFIG_DECNET is not set
+# CONFIG_BRIDGE is not set
+# CONFIG_X25 is not set
+# CONFIG_LAPB is not set
+# CONFIG_LLC is not set
+# CONFIG_NET_DIVERT is not set
+# CONFIG_ECONET is not set
+# CONFIG_WAN_ROUTER is not set
+# CONFIG_NET_FASTROUTE is not set
+# CONFIG_NET_HW_FLOWCONTROL is not set
+
+#
+# QoS and/or fair queueing
+#
+# CONFIG_NET_SCHED is not set
+# CONFIG_IPSEC is not set
+# CONFIG_KLIPS is not set
+
+#
+# Network testing
+#
+# CONFIG_NET_PKTGEN is not set
+# CONFIG_IPSEC_NAT_TRAVERSAL is not set
+
+#
+# Telephony Support
+#
+# CONFIG_PHONE is not set
+# CONFIG_PHONE_IXJ is not set
+# CONFIG_PHONE_IXJ_PCMCIA is not set
+
+#
+# ATA/IDE/MFM/RLL support
+#
+# CONFIG_IDE is not set
+# CONFIG_BLK_DEV_HD is not set
+
+#
+# SCSI support
+#
+# CONFIG_SCSI is not set
+
+#
+# IEEE 1394 (FireWire) support (EXPERIMENTAL)
+#
+# CONFIG_IEEE1394 is not set
+
+#
+# I2O device support
+#
+# CONFIG_I2O is not set
+# CONFIG_I2O_BLOCK is not set
+# CONFIG_I2O_LAN is not set
+# CONFIG_I2O_SCSI is not set
+# CONFIG_I2O_PROC is not set
+
+#
+# Network device support
+#
+CONFIG_NETDEVICES=y
+
+#
+# ARCnet devices
+#
+# CONFIG_ARCNET is not set
+# CONFIG_DUMMY is not set
+# CONFIG_BONDING is not set
+# CONFIG_EQUALIZER is not set
+
+#
+# IMQ needs CONFIG_NETFILTER enabled
+#
+# CONFIG_TUN is not set
+# CONFIG_ETHERTAP is not set
+
+#
+# Ethernet (10 or 100Mbit)
+#
+CONFIG_NET_ETHERNET=y
+# CONFIG_SUNLANCE is not set
+# CONFIG_SUNBMAC is not set
+# CONFIG_SUNQE is not set
+# CONFIG_SUNGEM is not set
+# CONFIG_NET_VENDOR_3COM is not set
+# CONFIG_LANCE is not set
+# CONFIG_NET_VENDOR_SMC is not set
+# CONFIG_NET_VENDOR_RACAL is not set
+CONFIG_NET_ISA=y
+# CONFIG_E2100 is not set
+# CONFIG_EWRK3 is not set
+# CONFIG_EEXPRESS is not set
+# CONFIG_EEXPRESS_PRO is not set
+# CONFIG_HPLAN_PLUS is not set
+# CONFIG_HPLAN is not set
+# CONFIG_LP486E is not set
+# CONFIG_ETH16I is not set
+CONFIG_NE2000=y
+# CONFIG_NET_PCI is not set
+# CONFIG_NET_POCKET is not set
+# CONFIG_CNXT_EMAC is not set
+# CONFIG_FEC is not set
+# CONFIG_CS89x0 is not set
+# CONFIG_UCCS8900 is not set
+# CONFIG_AX88796 is not set
+# CONFIG_DM9000 is not set
+
+#
+# Ethernet (1000 Mbit)
+#
+# CONFIG_ACENIC is not set
+# CONFIG_DL2K is not set
+# CONFIG_E1000 is not set
+# CONFIG_MYRI_SBUS is not set
+# CONFIG_NS83820 is not set
+# CONFIG_HAMACHI is not set
+# CONFIG_YELLOWFIN is not set
+# CONFIG_R8169 is not set
+# CONFIG_SK98LIN is not set
+# CONFIG_TIGON3 is not set
+# CONFIG_FDDI is not set
+# CONFIG_HIPPI is not set
+# CONFIG_PLIP is not set
+CONFIG_PPP=y
+# CONFIG_PPP_MULTILINK is not set
+# CONFIG_PPP_FILTER is not set
+# CONFIG_PPP_ASYNC is not set
+# CONFIG_PPP_SYNC_TTY is not set
+# CONFIG_PPP_DEFLATE is not set
+# CONFIG_PPP_BSDCOMP is not set
+# CONFIG_PPP_MPPE is not set
+# CONFIG_PPPOE is not set
+# CONFIG_SLIP is not set
+
+#
+# Wireless LAN (non-hamradio)
+#
+# CONFIG_NET_RADIO is not set
+
+#
+# Token Ring devices
+#
+# CONFIG_TR is not set
+# CONFIG_NET_FC is not set
+# CONFIG_RCPCI is not set
+# CONFIG_SHAPER is not set
+
+#
+# Wan interfaces
+#
+# CONFIG_WAN is not set
+
+#
+# Amateur Radio support
+#
+# CONFIG_HAMRADIO is not set
+
+#
+# IrDA (infrared) support
+#
+# CONFIG_IRDA is not set
+
+#
+# ISDN subsystem
+#
+# CONFIG_ISDN is not set
+
+#
+# Old CD-ROM drivers (not SCSI, not IDE)
+#
+# CONFIG_CD_NO_IDESCSI is not set
+
+#
+# Character devices
+#
+# CONFIG_COLDFIRE_USB is not set
+CONFIG_COLDFIRE_SERIAL=y
+# CONFIG_MCF_MBUS is not set
+# CONFIG_MCF_QSPI is not set
+# CONFIG_LCDTXT is not set
+# CONFIG_LCDDMA is not set
+# CONFIG_DAC0800 is not set
+# CONFIG_M5249AUDIO is not set
+# CONFIG_M5272AUDIO is not set
+# CONFIG_DACI2S is not set
+# CONFIG_T6963 is not set
+# CONFIG_EXP is not set
+# CONFIG_RESETSWITCH is not set
+# CONFIG_MCFWATCHDOG is not set
+# CONFIG_LEDMAN is not set
+# CONFIG_SNAPDOG is not set
+# CONFIG_FAST_TIMER is not set
+# CONFIG_DS1302 is not set
+# CONFIG_M41T11M6 is not set
+# CONFIG_VT is not set
+# CONFIG_SERIAL is not set
+# CONFIG_SERIAL_EXTENDED is not set
+# CONFIG_SERIAL_NONSTANDARD is not set
+
+#
+# Serial drivers
+#
+# CONFIG_SERIAL_8250 is not set
+# CONFIG_SERIAL_8250_CONSOLE is not set
+# CONFIG_SERIAL_8250_EXTENDED is not set
+# CONFIG_SERIAL_8250_MANY_PORTS is not set
+# CONFIG_SERIAL_8250_SHARE_IRQ is not set
+# CONFIG_SERIAL_8250_DETECT_IRQ is not set
+# CONFIG_SERIAL_8250_MULTIPORT is not set
+# CONFIG_SERIAL_8250_HUB6 is not set
+# CONFIG_UNIX98_PTYS is not set
+
+#
+# SPI support
+#
+# CONFIG_SPI is not set
+
+#
+# I2C support
+#
+# CONFIG_I2C is not set
+
+#
+# Mice
+#
+# CONFIG_BUSMOUSE is not set
+# CONFIG_MOUSE is not set
+# CONFIG_EDB7312_TS is not set
+
+#
+# Joysticks
+#
+# CONFIG_INPUT_GAMEPORT is not set
+# CONFIG_INPUT_NS558 is not set
+# CONFIG_INPUT_LIGHTNING is not set
+# CONFIG_INPUT_PCIGAME is not set
+# CONFIG_INPUT_CS461X is not set
+# CONFIG_INPUT_EMU10K1 is not set
+# CONFIG_INPUT_SERIO is not set
+# CONFIG_INPUT_SERPORT is not set
+
+#
+# Joysticks
+#
+# CONFIG_INPUT_ANALOG is not set
+# CONFIG_INPUT_A3D is not set
+# CONFIG_INPUT_ADI is not set
+# CONFIG_INPUT_COBRA is not set
+# CONFIG_INPUT_GF2K is not set
+# CONFIG_INPUT_GRIP is not set
+# CONFIG_INPUT_INTERACT is not set
+# CONFIG_INPUT_TMDC is not set
+# CONFIG_INPUT_SIDEWINDER is not set
+# CONFIG_INPUT_IFORCE_USB is not set
+# CONFIG_INPUT_IFORCE_232 is not set
+# CONFIG_INPUT_WARRIOR is not set
+# CONFIG_INPUT_MAGELLAN is not set
+# CONFIG_INPUT_SPACEORB is not set
+# CONFIG_INPUT_SPACEBALL is not set
+# CONFIG_INPUT_STINGER is not set
+# CONFIG_INPUT_DB9 is not set
+# CONFIG_INPUT_GAMECON is not set
+# CONFIG_INPUT_TURBOGRAFX is not set
+# CONFIG_QIC02_TAPE is not set
+# CONFIG_IPMI_HANDLER is not set
+# CONFIG_IPMI_PANIC_EVENT is not set
+# CONFIG_IPMI_DEVICE_INTERFACE is not set
+# CONFIG_IPMI_KCS is not set
+# CONFIG_IPMI_WATCHDOG is not set
+
+#
+# Controller Area Network Cards/Chips
+#
+# CONFIG_CAN4LINUX is not set
+
+#
+# Watchdog Cards
+#
+# CONFIG_WATCHDOG is not set
+# CONFIG_SCx200 is not set
+# CONFIG_SCx200_GPIO is not set
+# CONFIG_AMD_PM768 is not set
+# CONFIG_NVRAM is not set
+# CONFIG_RTC is not set
+# CONFIG_DTLK is not set
+# CONFIG_R3964 is not set
+# CONFIG_APPLICOM is not set
+
+#
+# Ftape, the floppy tape device driver
+#
+# CONFIG_FTAPE is not set
+# CONFIG_AGP is not set
+
+#
+# Direct Rendering Manager (XFree86 DRI support)
+#
+# CONFIG_DRM is not set
+
+#
+# File systems
+#
+# CONFIG_QUOTA is not set
+# CONFIG_QFMT_V2 is not set
+# CONFIG_AUTOFS_FS is not set
+# CONFIG_AUTOFS4_FS is not set
+# CONFIG_REISERFS_FS is not set
+# CONFIG_REISERFS_CHECK is not set
+# CONFIG_REISERFS_PROC_INFO is not set
+# CONFIG_ADFS_FS is not set
+# CONFIG_ADFS_FS_RW is not set
+# CONFIG_AFFS_FS is not set
+# CONFIG_HFS_FS is not set
+# CONFIG_HFSPLUS_FS is not set
+# CONFIG_BEFS_FS is not set
+# CONFIG_BEFS_DEBUG is not set
+# CONFIG_BFS_FS is not set
+# CONFIG_EXT3_FS is not set
+# CONFIG_JBD is not set
+# CONFIG_JBD_DEBUG is not set
+CONFIG_FAT_FS=y
+# CONFIG_MSDOS_FS is not set
+# CONFIG_UMSDOS_FS is not set
+# CONFIG_VFAT_FS is not set
+# CONFIG_EFS_FS is not set
+# CONFIG_JFFS_FS is not set
+# CONFIG_JFFS2_FS is not set
+# CONFIG_YAFFS_FS is not set
+# CONFIG_CRAMFS is not set
+# CONFIG_SQUASHFS is not set
+# CONFIG_TMPFS is not set
+CONFIG_RAMFS=y
+# CONFIG_ISO9660_FS is not set
+# CONFIG_JOLIET is not set
+# CONFIG_ZISOFS is not set
+# CONFIG_JFS_FS is not set
+# CONFIG_JFS_DEBUG is not set
+# CONFIG_JFS_STATISTICS is not set
+# CONFIG_MINIX_FS is not set
+# CONFIG_VXFS_FS is not set
+# CONFIG_NTFS_FS is not set
+# CONFIG_NTFS_RW is not set
+# CONFIG_HPFS_FS is not set
+CONFIG_PROC_FS=y
+CONFIG_PROC_NDYNAMIC=4096
+# CONFIG_DEVFS_FS is not set
+# CONFIG_DEVFS_MOUNT is not set
+# CONFIG_DEVFS_DEBUG is not set
+# CONFIG_DEVPTS_FS is not set
+# CONFIG_QNX4FS_FS is not set
+# CONFIG_QNX4FS_RW is not set
+CONFIG_ROMFS_FS=y
+CONFIG_EXT2_FS=y
+# CONFIG_SYSV_FS is not set
+# CONFIG_UDF_FS is not set
+# CONFIG_UDF_RW is not set
+# CONFIG_UFS_FS is not set
+# CONFIG_UFS_FS_WRITE is not set
+# CONFIG_XFS_FS is not set
+# CONFIG_XFS_QUOTA is not set
+# CONFIG_XFS_RT is not set
+# CONFIG_XFS_TRACE is not set
+# CONFIG_XFS_DEBUG is not set
+
+#
+# Network File Systems
+#
+# CONFIG_CODA_FS is not set
+# CONFIG_INTERMEZZO_FS is not set
+# CONFIG_NFS_FS is not set
+# CONFIG_NFS_V3 is not set
+# CONFIG_NFS_DIRECTIO is not set
+# CONFIG_ROOT_NFS is not set
+# CONFIG_NFSD is not set
+# CONFIG_NFSD_V3 is not set
+# CONFIG_NFSD_TCP is not set
+# CONFIG_SUNRPC is not set
+# CONFIG_LOCKD is not set
+# CONFIG_SMB_FS is not set
+# CONFIG_NCP_FS is not set
+# CONFIG_NCPFS_PACKET_SIGNING is not set
+# CONFIG_NCPFS_IOCTL_LOCKING is not set
+# CONFIG_NCPFS_STRONG is not set
+# CONFIG_NCPFS_NFS_NS is not set
+# CONFIG_NCPFS_OS2_NS is not set
+# CONFIG_NCPFS_SMALLDOS is not set
+# CONFIG_NCPFS_NLS is not set
+# CONFIG_NCPFS_EXTRAS is not set
+# CONFIG_ZISOFS_FS is not set
+# CONFIG_COREDUMP_PRINTK is not set
+
+#
+# Partition Types
+#
+# CONFIG_PARTITION_ADVANCED is not set
+# CONFIG_SMB_NLS is not set
+CONFIG_NLS=y
+
+#
+# Native Language Support
+#
+CONFIG_NLS_DEFAULT="iso8859-1"
+CONFIG_NLS_CODEPAGE_437=y
+# CONFIG_NLS_CODEPAGE_737 is not set
+# CONFIG_NLS_CODEPAGE_775 is not set
+# CONFIG_NLS_CODEPAGE_850 is not set
+# CONFIG_NLS_CODEPAGE_852 is not set
+# CONFIG_NLS_CODEPAGE_855 is not set
+# CONFIG_NLS_CODEPAGE_857 is not set
+# CONFIG_NLS_CODEPAGE_860 is not set
+# CONFIG_NLS_CODEPAGE_861 is not set
+# CONFIG_NLS_CODEPAGE_862 is not set
+# CONFIG_NLS_CODEPAGE_863 is not set
+# CONFIG_NLS_CODEPAGE_864 is not set
+# CONFIG_NLS_CODEPAGE_865 is not set
+# CONFIG_NLS_CODEPAGE_866 is not set
+# CONFIG_NLS_CODEPAGE_869 is not set
+# CONFIG_NLS_CODEPAGE_936 is not set
+# CONFIG_NLS_CODEPAGE_950 is not set
+# CONFIG_NLS_CODEPAGE_932 is not set
+# CONFIG_NLS_CODEPAGE_949 is not set
+# CONFIG_NLS_CODEPAGE_874 is not set
+# CONFIG_NLS_ISO8859_8 is not set
+# CONFIG_NLS_CODEPAGE_1250 is not set
+# CONFIG_NLS_CODEPAGE_1251 is not set
+# CONFIG_NLS_ISO8859_1 is not set
+# CONFIG_NLS_ISO8859_2 is not set
+# CONFIG_NLS_ISO8859_3 is not set
+# CONFIG_NLS_ISO8859_4 is not set
+# CONFIG_NLS_ISO8859_5 is not set
+# CONFIG_NLS_ISO8859_6 is not set
+# CONFIG_NLS_ISO8859_7 is not set
+# CONFIG_NLS_ISO8859_9 is not set
+# CONFIG_NLS_ISO8859_13 is not set
+# CONFIG_NLS_ISO8859_14 is not set
+# CONFIG_NLS_ISO8859_15 is not set
+# CONFIG_NLS_KOI8_R is not set
+# CONFIG_NLS_KOI8_U is not set
+# CONFIG_NLS_UTF8 is not set
+
+#
+# Sound
+#
+# CONFIG_SOUND is not set
+
+#
+# USB support
+#
+# CONFIG_USB is not set
+
+#
+# Support for USB gadgets
+#
+# CONFIG_USB_GADGET is not set
+
+#
+# Kernel hacking
+#
+CONFIG_FULLDEBUG=y
+# CONFIG_MAGIC_SYSRQ is not set
+# CONFIG_CONTIGUOUS_PAGE_ALLOC is not set
+# CONFIG_MEM_MAP is not set
+# CONFIG_NO_MMU_LARGE_ALLOCS is not set
+# CONFIG_PROFILE is not set
+# CONFIG_DUMPTOFLASH is not set
+CONFIG_NO_KERNEL_MSG=y
+# CONFIG_SMALL_TASKS is not set
+# CONFIG_BOOTPARAM is not set
+
+#
+# Cryptographic options
+#
+# CONFIG_CRYPTO is not set
+
+#
+# Library routines
+#
+# CONFIG_CRC32 is not set
+# CONFIG_ZLIB_INFLATE is not set
+# CONFIG_ZLIB_DEFLATE is not set
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.linux-2.6.x uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.linux-2.6.x
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.linux-2.6.x	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.linux-2.6.x	2010-02-16 21:25:19.000000000 -0500
@@ -0,0 +1,438 @@
+#
+# Automatically generated make config: don't edit
+# Linux kernel version: 2.6.30.4-uc0
+#
+CONFIG_M68K=y
+# CONFIG_MMU is not set
+CONFIG_NO_DMA=y
+# CONFIG_FPU is not set
+# CONFIG_ZONE_DMA is not set
+CONFIG_RWSEM_GENERIC_SPINLOCK=y
+# CONFIG_RWSEM_XCHGADD_ALGORITHM is not set
+# CONFIG_ARCH_HAS_ILOG2_U32 is not set
+# CONFIG_ARCH_HAS_ILOG2_U64 is not set
+CONFIG_GENERIC_FIND_NEXT_BIT=y
+CONFIG_GENERIC_HWEIGHT=y
+CONFIG_GENERIC_HARDIRQS=y
+CONFIG_GENERIC_CALIBRATE_DELAY=y
+CONFIG_GENERIC_TIME=y
+CONFIG_GENERIC_CMOS_UPDATE=y
+CONFIG_TIME_LOW_RES=y
+# CONFIG_GENERIC_CLOCKEVENTS is not set
+CONFIG_NO_IOPORT=y
+CONFIG_DEFCONFIG_LIST="/lib/modules/$UNAME_RELEASE/.config"
+
+#
+# General setup
+#
+CONFIG_EXPERIMENTAL=y
+CONFIG_BROKEN_ON_SMP=y
+CONFIG_INIT_ENV_ARG_LIMIT=32
+CONFIG_LOCALVERSION=""
+# CONFIG_LOCALVERSION_AUTO is not set
+# CONFIG_SYSVIPC is not set
+# CONFIG_BSD_PROCESS_ACCT is not set
+
+#
+# RCU Subsystem
+#
+CONFIG_CLASSIC_RCU=y
+# CONFIG_TREE_RCU is not set
+# CONFIG_PREEMPT_RCU is not set
+# CONFIG_TREE_RCU_TRACE is not set
+# CONFIG_PREEMPT_RCU_TRACE is not set
+# CONFIG_IKCONFIG is not set
+CONFIG_LOG_BUF_SHIFT=14
+# CONFIG_GROUP_SCHED is not set
+# CONFIG_CGROUPS is not set
+# CONFIG_RELAY is not set
+# CONFIG_NAMESPACES is not set
+CONFIG_BLK_DEV_INITRD=y
+CONFIG_INITRAMFS_SOURCE="../romfs"
+CONFIG_INITRAMFS_ROOT_UID=0
+CONFIG_INITRAMFS_ROOT_GID=0
+CONFIG_RD_GZIP=y
+# CONFIG_RD_BZIP2 is not set
+# CONFIG_RD_LZMA is not set
+# CONFIG_INITRAMFS_COMPRESSION_NONE is not set
+CONFIG_INITRAMFS_COMPRESSION_GZIP=y
+# CONFIG_INITRAMFS_COMPRESSION_BZIP2 is not set
+# CONFIG_INITRAMFS_COMPRESSION_LZMA is not set
+# CONFIG_CC_OPTIMIZE_FOR_SIZE is not set
+CONFIG_SYSCTL=y
+CONFIG_ANON_INODES=y
+CONFIG_EMBEDDED=y
+CONFIG_UID16=y
+CONFIG_SYSCTL_SYSCALL=y
+# CONFIG_KALLSYMS is not set
+# CONFIG_STRIP_ASM_SYMS is not set
+# CONFIG_HOTPLUG is not set
+CONFIG_PRINTK=y
+CONFIG_BUG=y
+# CONFIG_ELF_CORE is not set
+# CONFIG_BASE_FULL is not set
+# CONFIG_FUTEX is not set
+# CONFIG_EPOLL is not set
+CONFIG_SIGNALFD=y
+CONFIG_TIMERFD=y
+CONFIG_EVENTFD=y
+# CONFIG_AIO is not set
+# CONFIG_VM_EVENT_COUNTERS is not set
+CONFIG_COMPAT_BRK=y
+# CONFIG_SLAB is not set
+CONFIG_SLUB=y
+# CONFIG_SLOB is not set
+# CONFIG_PROFILING is not set
+# CONFIG_MARKERS is not set
+# CONFIG_SLOW_WORK is not set
+# CONFIG_HAVE_GENERIC_DMA_COHERENT is not set
+CONFIG_BASE_SMALL=1
+# CONFIG_MODULES is not set
+# CONFIG_BLOCK is not set
+# CONFIG_FREEZER is not set
+
+#
+# Processor type and features
+#
+# CONFIG_M68328 is not set
+# CONFIG_M68EZ328 is not set
+# CONFIG_M68VZ328 is not set
+# CONFIG_M68360 is not set
+# CONFIG_M5206 is not set
+# CONFIG_M5206e is not set
+# CONFIG_M520x is not set
+# CONFIG_M523x is not set
+# CONFIG_M5249 is not set
+# CONFIG_M5271 is not set
+# CONFIG_M5272 is not set
+# CONFIG_M5275 is not set
+# CONFIG_M528x is not set
+# CONFIG_M5307 is not set
+# CONFIG_M532x is not set
+# CONFIG_M5407 is not set
+CONFIG_DJ895C=y
+CONFIG_CLOCK_SET=y
+CONFIG_CLOCK_FREQ=10000000
+CONFIG_CLOCK_DIV=1
+
+#
+# Platform
+#
+CONFIG_DJ=y
+CONFIG_DJ895C_ASIC=y
+CONFIG_DJ_INTERACTIVE_BOOT=y
+CONFIG_DJ_P1284=y
+# CONFIG_DJ_P1284_DEV is not set
+# CONFIG_DJ_P1284_4_GADGET is not set
+CONFIG_4KSTACKS=y
+CONFIG_HZ=100
+
+#
+# RAM configuration
+#
+CONFIG_RAMBASE=0x02000000
+CONFIG_RAMSIZE=0x00200000
+CONFIG_VECTORBASE=0x02000000
+CONFIG_KERNELBASE=0x02010000
+CONFIG_RAMAUTOBIT=y
+# CONFIG_RAM8BIT is not set
+# CONFIG_RAM16BIT is not set
+# CONFIG_RAM32BIT is not set
+
+#
+# ROM configuration
+#
+# CONFIG_ROM is not set
+CONFIG_RAMKERNEL=y
+# CONFIG_ROMKERNEL is not set
+CONFIG_SELECT_MEMORY_MODEL=y
+CONFIG_FLATMEM_MANUAL=y
+# CONFIG_DISCONTIGMEM_MANUAL is not set
+# CONFIG_SPARSEMEM_MANUAL is not set
+CONFIG_FLATMEM=y
+CONFIG_FLAT_NODE_MEM_MAP=y
+CONFIG_PAGEFLAGS_EXTENDED=y
+CONFIG_SPLIT_PTLOCK_CPUS=4
+# CONFIG_PHYS_ADDR_T_64BIT is not set
+CONFIG_ZONE_DMA_FLAG=0
+CONFIG_VIRT_TO_BUS=y
+CONFIG_UNEVICTABLE_LRU=y
+CONFIG_DEFAULT_MMAP_MIN_ADDR=4096
+CONFIG_NOMMU_INITIAL_TRIM_EXCESS=1
+
+#
+# Boot configuration
+#
+# CONFIG_UCBOOTLOADER is not set
+# CONFIG_ISA_DMA_API is not set
+
+#
+# Executable file formats
+#
+CONFIG_BINFMT_FLAT=y
+# CONFIG_BINFMT_ZFLAT is not set
+# CONFIG_BINFMT_SHARED_FLAT is not set
+# CONFIG_HAVE_AOUT is not set
+# CONFIG_BINFMT_MISC is not set
+
+#
+# Power management options
+#
+# CONFIG_PM is not set
+# CONFIG_NET is not set
+
+#
+# Device Drivers
+#
+
+#
+# Generic Driver Options
+#
+CONFIG_STANDALONE=y
+CONFIG_PREVENT_FIRMWARE_BUILD=y
+# CONFIG_SYS_HYPERVISOR is not set
+# CONFIG_MTD is not set
+CONFIG_PARPORT=y
+# CONFIG_PARPORT_GSC is not set
+# CONFIG_PARPORT_AX88796 is not set
+# CONFIG_PARPORT_1284 is not set
+CONFIG_MISC_DEVICES=y
+# CONFIG_ENCLOSURE_SERVICES is not set
+# CONFIG_C2PORT is not set
+
+#
+# EEPROM support
+#
+# CONFIG_EEPROM_93CX6 is not set
+CONFIG_HAVE_IDE=y
+
+#
+# SCSI device support
+#
+# CONFIG_SCSI_DMA is not set
+# CONFIG_SCSI_NETLINK is not set
+# CONFIG_PHONE is not set
+
+#
+# Input device support
+#
+# CONFIG_INPUT is not set
+
+#
+# Hardware I/O ports
+#
+# CONFIG_SERIO is not set
+# CONFIG_GAMEPORT is not set
+
+#
+# Character devices
+#
+# CONFIG_VT is not set
+# CONFIG_DEVKMEM is not set
+# CONFIG_SERIAL_NONSTANDARD is not set
+# CONFIG_LEDMAN is not set
+# CONFIG_SNAPDOG is not set
+# CONFIG_SNAPSHOW is not set
+# CONFIG_FAST_TIMER is not set
+# CONFIG_RESETSWITCH is not set
+
+#
+# Serial drivers
+#
+# CONFIG_SERIAL_8250 is not set
+
+#
+# Non-8250 serial port support
+#
+CONFIG_UNIX98_PTYS=y
+# CONFIG_DEVPTS_MULTIPLE_INSTANCES is not set
+# CONFIG_LEGACY_PTYS is not set
+# CONFIG_PRINTER is not set
+# CONFIG_PPDEV is not set
+# CONFIG_IPMI_HANDLER is not set
+# CONFIG_FIPS_RNG is not set
+# CONFIG_HW_RANDOM is not set
+# CONFIG_GEN_RTC is not set
+# CONFIG_R3964 is not set
+# CONFIG_TCG_TPM is not set
+# CONFIG_M41T11M6 is not set
+# CONFIG_SNAPI2C is not set
+# CONFIG_SNAPSPI is not set
+# CONFIG_FIFO_HUB is not set
+# CONFIG_I2C is not set
+# CONFIG_SPI is not set
+# CONFIG_W1 is not set
+# CONFIG_POWER_SUPPLY is not set
+# CONFIG_HWMON is not set
+# CONFIG_THERMAL is not set
+# CONFIG_THERMAL_HWMON is not set
+# CONFIG_WATCHDOG is not set
+
+#
+# Multifunction device drivers
+#
+# CONFIG_MFD_CORE is not set
+# CONFIG_MFD_SM501 is not set
+# CONFIG_HTC_PASIC3 is not set
+# CONFIG_MFD_TMIO is not set
+# CONFIG_REGULATOR is not set
+
+#
+# Multimedia devices
+#
+
+#
+# Multimedia core support
+#
+# CONFIG_VIDEO_DEV is not set
+# CONFIG_VIDEO_MEDIA is not set
+
+#
+# Multimedia drivers
+#
+# CONFIG_DAB is not set
+
+#
+# Graphics support
+#
+# CONFIG_VGASTATE is not set
+# CONFIG_VIDEO_OUTPUT_CONTROL is not set
+# CONFIG_FB is not set
+# CONFIG_BACKLIGHT_LCD_SUPPORT is not set
+
+#
+# Display device support
+#
+# CONFIG_DISPLAY_SUPPORT is not set
+# CONFIG_SOUND is not set
+CONFIG_USB_SUPPORT=y
+# CONFIG_USB_ARCH_HAS_HCD is not set
+# CONFIG_USB_ARCH_HAS_OHCI is not set
+# CONFIG_USB_ARCH_HAS_EHCI is not set
+# CONFIG_USB_OTG_WHITELIST is not set
+# CONFIG_USB_OTG_BLACKLIST_HUB is not set
+# CONFIG_USB_GADGET_MUSB_HDRC is not set
+
+#
+# NOTE: USB_STORAGE depends on SCSI but BLK_DEV_SD may
+#
+CONFIG_USB_GADGET=y
+CONFIG_USB_GADGET_VBUS_DRAW=2
+CONFIG_USB_GADGET_SELECTED=y
+# CONFIG_USB_GADGET_AT91 is not set
+# CONFIG_USB_GADGET_ATMEL_USBA is not set
+# CONFIG_USB_GADGET_FSL_USB2 is not set
+# CONFIG_USB_GADGET_LH7A40X is not set
+# CONFIG_USB_GADGET_OMAP is not set
+# CONFIG_USB_GADGET_PXA25X is not set
+# CONFIG_USB_GADGET_PXA27X is not set
+# CONFIG_USB_GADGET_S3C2410 is not set
+# CONFIG_USB_GADGET_IMX is not set
+# CONFIG_USB_GADGET_M66592 is not set
+CONFIG_USB_GADGET_DJCF=y
+CONFIG_USB_DJCF=y
+# CONFIG_USB_GADGET_AMD5536UDC is not set
+# CONFIG_USB_GADGET_FSL_QE is not set
+# CONFIG_USB_GADGET_CI13XXX is not set
+# CONFIG_USB_GADGET_NET2280 is not set
+# CONFIG_USB_GADGET_GOKU is not set
+# CONFIG_USB_GADGET_DUMMY_HCD is not set
+# CONFIG_USB_GADGET_DUALSPEED is not set
+# CONFIG_USB_ZERO is not set
+# CONFIG_USB_ETH is not set
+# CONFIG_USB_GADGETFS is not set
+# CONFIG_USB_FILE_STORAGE is not set
+CONFIG_USB_G_SERIAL=y
+# CONFIG_USB_MIDI_GADGET is not set
+# CONFIG_USB_G_PRINTER is not set
+# CONFIG_USB_CDC_COMPOSITE is not set
+
+#
+# OTG and related infrastructure
+#
+# CONFIG_NOP_USB_XCEIV is not set
+# CONFIG_MMC is not set
+# CONFIG_MEMSTICK is not set
+# CONFIG_NEW_LEDS is not set
+# CONFIG_ACCESSIBILITY is not set
+# CONFIG_RTC_CLASS is not set
+# CONFIG_AUXDISPLAY is not set
+# CONFIG_UIO is not set
+# CONFIG_STAGING is not set
+
+#
+# File systems
+#
+# CONFIG_FILE_LOCKING is not set
+# CONFIG_DNOTIFY is not set
+# CONFIG_INOTIFY is not set
+# CONFIG_QUOTA is not set
+# CONFIG_AUTOFS_FS is not set
+# CONFIG_AUTOFS4_FS is not set
+# CONFIG_FUSE_FS is not set
+# CONFIG_DIRECTIO is not set
+
+#
+# Caches
+#
+# CONFIG_FSCACHE is not set
+
+#
+# Pseudo filesystems
+#
+# CONFIG_PROC_FS is not set
+# CONFIG_SYSFS is not set
+# CONFIG_TMPFS is not set
+# CONFIG_HUGETLB_PAGE is not set
+# CONFIG_MISC_FILESYSTEMS is not set
+# CONFIG_NLS is not set
+
+#
+# Debug
+#
+# CONFIG_COREDUMP_PRINTK is not set
+
+#
+# Kernel hacking
+#
+# CONFIG_PRINTK_TIME is not set
+# CONFIG_ENABLE_WARN_DEPRECATED is not set
+# CONFIG_ENABLE_MUST_CHECK is not set
+CONFIG_FRAME_WARN=1024
+# CONFIG_MAGIC_SYSRQ is not set
+# CONFIG_UNUSED_SYMBOLS is not set
+# CONFIG_HEADERS_CHECK is not set
+# CONFIG_DEBUG_KERNEL is not set
+# CONFIG_DEBUG_BUGVERBOSE is not set
+# CONFIG_DEBUG_MEMORY_INIT is not set
+# CONFIG_RCU_CPU_STALL_DETECTOR is not set
+# CONFIG_SYSCTL_SYSCALL_CHECK is not set
+# CONFIG_SAMPLES is not set
+# CONFIG_FULLDEBUG is not set
+CONFIG_BOOTPARAM=y
+CONFIG_BOOTPARAM_STRING="console=ttyGS0,9600 init=/bin/init"
+# CONFIG_NO_KERNEL_MSG is not set
+
+#
+# Security options
+#
+# CONFIG_KEYS is not set
+# CONFIG_SECURITYFS is not set
+# CONFIG_SECURITY_FILE_CAPABILITIES is not set
+# CONFIG_CRYPTO is not set
+# CONFIG_BINARY_PRINTF is not set
+
+#
+# Library routines
+#
+CONFIG_GENERIC_FIND_LAST_BIT=y
+# CONFIG_CRC_CCITT is not set
+# CONFIG_CRC16 is not set
+# CONFIG_CRC_T10DIF is not set
+# CONFIG_CRC_ITU_T is not set
+# CONFIG_CRC32 is not set
+# CONFIG_CRC7 is not set
+# CONFIG_LIBCRC32C is not set
+CONFIG_ZLIB_INFLATE=y
+CONFIG_DECOMPRESS_GZIP=y
+CONFIG_HAS_IOMEM=y
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.uClibc uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.uClibc
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.uClibc	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.uClibc	2010-02-16 16:00:46.000000000 -0500
@@ -0,0 +1,180 @@
+#
+# Automatically generated make config: don't edit
+# Sat Feb 13 20:58:23 2010
+#
+# TARGET_alpha is not set
+# TARGET_arm is not set
+# TARGET_bfin is not set
+# TARGET_cris is not set
+# TARGET_e1 is not set
+# TARGET_frv is not set
+# TARGET_h8300 is not set
+# TARGET_hppa is not set
+# TARGET_i386 is not set
+# TARGET_i960 is not set
+# TARGET_ia64 is not set
+TARGET_m68k=y
+# TARGET_microblaze is not set
+# TARGET_mips is not set
+# TARGET_nios is not set
+# TARGET_nios2 is not set
+# TARGET_powerpc is not set
+# TARGET_sh is not set
+# TARGET_sh64 is not set
+# TARGET_sparc is not set
+# TARGET_v850 is not set
+# TARGET_vax is not set
+# TARGET_x86_64 is not set
+
+#
+# Target Architecture Features and Options
+#
+TARGET_ARCH="m68k"
+FORCE_OPTIONS_FOR_ARCH=y
+UCLIBC_HAS_SOFT_FLOAT=y
+TARGET_SUBARCH=""
+# UCLIBC_FORMAT_ELF is not set
+# UCLIBC_FORMAT_FDPIC_ELF is not set
+# UCLIBC_FORMAT_FLAT is not set
+UCLIBC_FORMAT_FLAT_SEP_DATA=y
+# UCLIBC_FORMAT_SHARED_FLAT is not set
+ARCH_BIG_ENDIAN=y
+
+#
+# Using Big Endian
+#
+# ARCH_HAS_MMU is not set
+UCLIBC_HAS_FLOATS=y
+# UCLIBC_HAS_FPU is not set
+DO_C99_MATH=y
+KERNEL_HEADERS="$(ROOTDIR)/include"
+UCLIBC_UCLINUX_BROKEN_MUNMAP=y
+EXCLUDE_BRK=y
+HAVE_DOT_CONFIG=y
+
+#
+# General Library Settings
+#
+# HAVE_NO_PIC is not set
+# DOPIC is not set
+HAVE_NO_SHARED=y
+ARCH_HAS_NO_LDSO=y
+UCLIBC_CTOR_DTOR=y
+# HAS_NO_THREADS is not set
+# UCLIBC_HAS_THREADS is not set
+UCLIBC_HAS_LFS=y
+# MALLOC is not set
+MALLOC_SIMPLE=y
+# MALLOC_STANDARD is not set
+# MALLOC_GLIBC_COMPAT is not set
+UCLIBC_DYNAMIC_ATEXIT=y
+COMPAT_ATEXIT=y
+# UCLIBC_SUSV3_LEGACY is not set
+UCLIBC_SUSV3_LEGACY_MACROS=y
+UCLIBC_HAS_SHADOW=y
+# UCLIBC_HAS_PROGRAM_INVOCATION_NAME is not set
+UCLIBC_HAS___PROGNAME=y
+UNIX98PTY_ONLY=y
+ASSUME_DEVPTS=y
+UCLIBC_HAS_TM_EXTENSIONS=y
+UCLIBC_HAS_TZ_CACHING=y
+UCLIBC_HAS_TZ_FILE=y
+UCLIBC_HAS_TZ_FILE_READ_MANY=y
+UCLIBC_TZ_FILE_PATH="/etc/TZ"
+
+#
+# Advanced Library Settings
+#
+UCLIBC_PWD_BUFFER_SIZE=256
+UCLIBC_GRP_BUFFER_SIZE=256
+
+#
+# Networking Support
+#
+# UCLIBC_HAS_IPV6 is not set
+UCLIBC_HAS_RPC=y
+UCLIBC_HAS_FULL_RPC=y
+# UCLIBC_HAS_REENTRANT_RPC is not set
+# UCLIBC_USE_NETLINK is not set
+# UCLIBC_HAS_BSD_RES_CLOSE is not set
+
+#
+# String and Stdio Support
+#
+UCLIBC_HAS_STRING_GENERIC_OPT=y
+UCLIBC_HAS_STRING_ARCH_OPT=y
+UCLIBC_HAS_CTYPE_TABLES=y
+UCLIBC_HAS_CTYPE_SIGNED=y
+UCLIBC_HAS_CTYPE_UNSAFE=y
+# UCLIBC_HAS_CTYPE_CHECKED is not set
+# UCLIBC_HAS_CTYPE_ENFORCED is not set
+# UCLIBC_HAS_WCHAR is not set
+# UCLIBC_HAS_LOCALE is not set
+# UCLIBC_HAS_HEXADECIMAL_FLOATS is not set
+# UCLIBC_HAS_GLIBC_CUSTOM_PRINTF is not set
+# USE_OLD_VFPRINTF is not set
+UCLIBC_PRINTF_SCANF_POSITIONAL_ARGS=9
+# UCLIBC_HAS_SCANF_GLIBC_A_FLAG is not set
+# UCLIBC_HAS_STDIO_BUFSIZ_NONE is not set
+UCLIBC_HAS_STDIO_BUFSIZ_256=y
+# UCLIBC_HAS_STDIO_BUFSIZ_512 is not set
+# UCLIBC_HAS_STDIO_BUFSIZ_1024 is not set
+# UCLIBC_HAS_STDIO_BUFSIZ_2048 is not set
+# UCLIBC_HAS_STDIO_BUFSIZ_4096 is not set
+# UCLIBC_HAS_STDIO_BUFSIZ_8192 is not set
+UCLIBC_HAS_STDIO_BUILTIN_BUFFER_NONE=y
+# UCLIBC_HAS_STDIO_BUILTIN_BUFFER_4 is not set
+# UCLIBC_HAS_STDIO_BUILTIN_BUFFER_8 is not set
+# UCLIBC_HAS_STDIO_SHUTDOWN_ON_ABORT is not set
+UCLIBC_HAS_STDIO_GETC_MACRO=y
+UCLIBC_HAS_STDIO_PUTC_MACRO=y
+UCLIBC_HAS_STDIO_AUTO_RW_TRANSITION=y
+# UCLIBC_HAS_FOPEN_LARGEFILE_MODE is not set
+# UCLIBC_HAS_FOPEN_EXCLUSIVE_MODE is not set
+# UCLIBC_HAS_GLIBC_CUSTOM_STREAMS is not set
+UCLIBC_HAS_PRINTF_M_SPEC=y
+UCLIBC_HAS_ERRNO_MESSAGES=y
+UCLIBC_HAS_SYS_ERRLIST=y
+UCLIBC_HAS_SIGNUM_MESSAGES=y
+# UCLIBC_HAS_SYS_SIGLIST is not set
+UCLIBC_HAS_GNU_GETOPT=y
+UCLIBC_HAS_GNU_GETSUBOPT=y
+
+#
+# Big and Tall
+#
+UCLIBC_HAS_REGEX=y
+UCLIBC_HAS_REGEX_OLD=y
+UCLIBC_HAS_FNMATCH=y
+UCLIBC_HAS_FNMATCH_OLD=y
+# UCLIBC_HAS_WORDEXP is not set
+# UCLIBC_HAS_FTW is not set
+UCLIBC_HAS_GLOB=y
+# UCLIBC_HAS_GNU_GLOB is not set
+
+#
+# Library Installation Options
+#
+RUNTIME_PREFIX="/usr/$(TARGET_ARCH)-linux-uclibc/"
+DEVEL_PREFIX="/usr/$(TARGET_ARCH)-linux-uclibc"
+
+#
+# Security options
+#
+# UCLIBC_HAS_ARC4RANDOM is not set
+# HAVE_NO_SSP is not set
+# UCLIBC_HAS_SSP is not set
+UCLIBC_BUILD_NOEXECSTACK=y
+
+#
+# uClibc development/debugging options
+#
+CROSS_COMPILER_PREFIX=""
+UCLIBC_EXTRA_CFLAGS=""
+# DODEBUG is not set
+DOSTRIP=y
+# DOASSERTS is not set
+WARNINGS="-Wall"
+# EXTRA_WARNINGS is not set
+# DOMULTI is not set
+# UCLIBC_MJN3_ONLY is not set
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.vendor uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.vendor
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.vendor	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.vendor	2010-02-16 21:24:50.000000000 -0500
@@ -0,0 +1,724 @@
+#
+# Automatically generated make config: don't edit
+# Dist builder
+#
+CONFIG_DISTVERSION="4.0"
+
+#
+# Library Configuration
+#
+
+#
+# Force build (normally built when required)
+#
+# CONFIG_LIB_BITVECTOR is not set
+# CONFIG_LIB_FLEX is not set
+# CONFIG_LIB_BFD is not set
+# CONFIG_LIB_LIBIBERTY is not set
+# CONFIG_LIB_POPT is not set
+# CONFIG_LIB_LIBSSL is not set
+# CONFIG_LIB_LIBGMP is not set
+CONFIG_LIB_LIBG=y
+# CONFIG_LIB_LIBKRB5 is not set
+# CONFIG_LIB_CYRUSSASL is not set
+# CONFIG_LIB_LIBLDAP is not set
+# CONFIG_LIB_LIBLZMA is not set
+# CONFIG_LIB_LIBLZO is not set
+# CONFIG_LIB_LIBNET is not set
+# CONFIG_LIB_LIBNETOLD is not set
+# CONFIG_LIB_LIBPAM is not set
+# CONFIG_LIB_LIBPCAP is not set
+# CONFIG_LIB_LIBPCRE is not set
+# CONFIG_LIB_ZLIB is not set
+# CONFIG_LIB_LIBBZ2 is not set
+# CONFIG_LIB_LIBATM is not set
+# CONFIG_LIB_LIBPNG is not set
+# CONFIG_LIB_LIBJPEG is not set
+# CONFIG_LIB_LIBUPNP is not set
+# CONFIG_LIB_LIBSYSFS is not set
+# CONFIG_LIB_NCURSES is not set
+# CONFIG_LIB_TERMCAP is not set
+# CONFIG_LIB_LIBEFENCE is not set
+# CONFIG_LIB_STLPORT is not set
+# CONFIG_LIB_EXPAT is not set
+# CONFIG_LIB_ADNS is not set
+# CONFIG_LIB_ARES is not set
+# CONFIG_LIB_LIBIDN is not set
+# CONFIG_LIB_LIBNL is not set
+# CONFIG_LIB_NFNETLINK is not set
+# CONFIG_LIB_NETFILTER_CONNTRACK is not set
+# CONFIG_LIB_NETFILTER_LOG is not set
+# CONFIG_LIB_OSIP2 is not set
+# CONFIG_LIB_LIBCURL is not set
+# CONFIG_LIB_LIBCRYPT_OLD is not set
+# CONFIG_LIB_PWLIB is not set
+# CONFIG_LIB_LIBOPENH323 is not set
+# CONFIG_LIB_LIBJUDY is not set
+# CONFIG_LIB_CLASSPATH is not set
+# CONFIG_LIB_LIBFFI is not set
+# CONFIG_LIB_LIBXML2 is not set
+
+#
+# Library Configuration
+#
+# CONFIG_LIB_UC_LIBC_TIMEZONE is not set
+
+#
+# Automake Libraries
+#
+
+#
+# Core Applications
+#
+CONFIG_USER_INIT_INIT=y
+# CONFIG_USER_INIT_CONSOLE_SH is not set
+# CONFIG_USER_INIT_RUN_FIREWALL is not set
+# CONFIG_USER_INIT_CONF is not set
+CONFIG_USER_SASH_SH=y
+# CONFIG_USER_SH_SH is not set
+# CONFIG_USER_NWSH_SH is not set
+# CONFIG_USER_BASH_BASH is not set
+# CONFIG_USER_MSH_SH is not set
+# CONFIG_USER_OTHER_SH is not set
+# CONFIG_USER_SASH_HISTORY is not set
+# CONFIG_USER_SASH_PS is not set
+# CONFIG_USER_SASH_REBOOT is not set
+# CONFIG_USER_SASH_SHUTDOWN is not set
+# CONFIG_USER_INIT_EXPAND is not set
+# CONFIG_USER_VERSION_VERSION is not set
+# CONFIG_USER_LOGIN_LOGIN is not set
+# CONFIG_USER_OLD_PASSWORDS is not set
+# CONFIG_USER_ONLY_ROOT is not set
+# CONFIG_USER_AGETTY_AGETTY is not set
+# CONFIG_USER_GETTYD_GETTYD is not set
+# CONFIG_USER_MGETTY_MGETTY is not set
+# CONFIG_USER_LOGIN_PASSWD is not set
+# CONFIG_USER_CRON_CRON is not set
+
+#
+# Real Time Clock
+#
+# CONFIG_USER_HWCLOCK_HWCLOCK is not set
+# CONFIG_USER_RTC_M41T11 is not set
+# CONFIG_USER_RTC_DS1302 is not set
+
+#
+# USB Root Hub Controller
+#
+# CONFIG_USER_USBHUBCTRL_USBHUBCTRL is not set
+
+#
+# Vixie-cron
+#
+# CONFIG_USER_VIXIECRON_CRON is not set
+# CONFIG_USER_VIXIECRON_CRONTAB is not set
+
+#
+# at
+#
+# CONFIG_USER_AT_AT is not set
+# CONFIG_USER_AT_ATD is not set
+# CONFIG_USER_AT_ATRUN is not set
+
+#
+# OOM killer tinkering
+#
+# CONFIG_USER_NOOOM_NOOOM is not set
+
+#
+# Flash Tools
+#
+# CONFIG_USER_FLASHW_FLASHW is not set
+# CONFIG_USER_SETMAC_SETMAC is not set
+# CONFIG_USER_FCONFIG_FCONFIG is not set
+
+#
+# netflash tool
+#
+# CONFIG_USER_NETFLASH_NETFLASH is not set
+# CONFIG_USER_RECOVER_STATIC_TFTP is not set
+# CONFIG_USER_RECOVER_RECOVER is not set
+# CONFIG_USER_RECOVER_USE_STATIC_SERVER is not set
+
+#
+# Arcturus uCbootloader Apps/Libs
+#
+# CONFIG_USER_BOOTTOOLS_LOADER is not set
+# CONFIG_USER_BOOTTOOLS_HIMEMLOADER is not set
+# CONFIG_USER_BOOTTOOLS_PRINTBENV is not set
+# CONFIG_USER_BOOTTOOLS_SETBENV is not set
+# CONFIG_USER_BOOTTOOLS_RESET is not set
+# CONFIG_USER_BOOTTOOLS_MD5SUM is not set
+# CONFIG_LIB_LIBBSC is not set
+
+#
+# MTD utils
+#
+# CONFIG_USER_MTDUTILS is not set
+
+#
+# Filesystem Applications
+#
+# CONFIG_USER_FLATFSD_FLATFSD is not set
+# CONFIG_USER_MOUNT_MOUNT is not set
+# CONFIG_USER_MOUNT_UMOUNT is not set
+# CONFIG_USER_FDISK_FDISK is not set
+# CONFIG_USER_FDISK_SFDISK is not set
+# CONFIG_USER_HDPARM_HDPARM is not set
+
+#
+# EXT2
+#
+# CONFIG_USER_E2FSPROGS_E2FSCK_E2FSCK is not set
+# CONFIG_USER_E2FSPROGS_MISC_MKE2FS is not set
+# CONFIG_USER_E2FSPROGS_MISC_BADBLOCKS is not set
+# CONFIG_USER_E2FSPROGS_MISC_CHATTR is not set
+# CONFIG_USER_E2FSPROGS_MISC_DUMPE2FS is not set
+# CONFIG_USER_E2FSPROGS_MISC_E2LABEL is not set
+# CONFIG_USER_E2FSPROGS_MISC_FSCK is not set
+# CONFIG_USER_E2FSPROGS_MISC_LSATTR is not set
+# CONFIG_USER_E2FSPROGS_MISC_MKLOST_FOUND is not set
+# CONFIG_USER_E2FSPROGS_MISC_TUNE2FS is not set
+# CONFIG_USER_E2FSPROGS_MISC_UUIDGEN is not set
+
+#
+# RESIERFS
+#
+# CONFIG_USER_REISERFSPROGS is not set
+# CONFIG_USER_REISERFSPROGS_DEBUGRESIERFS is not set
+# CONFIG_USER_REISERFSPROGS_MKREISERFS is not set
+# CONFIG_USER_REISERFSPROGS_REISERFSCK is not set
+# CONFIG_USER_REISERFSPROGS_RESIZE_REISERFS is not set
+# CONFIG_USER_REISERFSPROGS_UNPACK is not set
+
+#
+# SAMBA
+#
+# CONFIG_USER_SAMBA is not set
+
+#
+# SMBFS
+#
+# CONFIG_USER_SMBMOUNT_SMBMOUNT is not set
+# CONFIG_USER_SMBMOUNT_SMBUMOUNT is not set
+
+#
+# CRAMFS
+#
+# CONFIG_USER_CRAMFS_CRAMFSCK is not set
+# CONFIG_USER_CRAMFS_MKCRAMFS is not set
+
+#
+# MSDOS
+#
+# CONFIG_USER_DOSFSTOOLS_MKDOSFS is not set
+# CONFIG_USER_DOSFSTOOLS_DOSFSCK is not set
+# CONFIG_USER_DOSFSTOOLS_DOSFSLABEL is not set
+
+#
+# SquashFS
+#
+# CONFIG_USER_SQUASHFS_MKSQUASHFS is not set
+# CONFIG_USER_SQUASHFS_MKSQUASHFS7Z is not set
+
+#
+# Network Applications
+#
+# CONFIG_USER_APPWEB_APPWEB is not set
+# CONFIG_USER_ASTERISK is not set
+# CONFIG_USER_TRUSTEDSOURCE is not set
+# CONFIG_USER_BIND_BIND is not set
+# CONFIG_USER_FNORD_HTTPD is not set
+# CONFIG_USER_FNORD_PAM is not set
+# CONFIG_USER_BOA_SRC_BOA is not set
+# CONFIG_USER_BPALOGIN_BPALOGIN is not set
+# CONFIG_USER_BR2684CTL_BR2684CTL is not set
+# CONFIG_USER_BRCFG_BRCFG is not set
+# CONFIG_USER_BRCTL_BRCTL is not set
+# CONFIG_USER_CLAMAV_CLAMAV is not set
+# CONFIG_USER_CONNTRACK_CONNTRACK is not set
+# CONFIG_USER_CTORRENT_CTORRENT is not set
+# CONFIG_USER_DHCPCD_DHCPCD is not set
+# CONFIG_USER_DHCPCD_NEW_DHCPCD is not set
+# CONFIG_USER_DHCPD_DHCPD is not set
+# CONFIG_USER_DHCP_ISC_SERVER_DHCPD is not set
+# CONFIG_USER_DHCP_ISC_CLIENT_DHCLIENT is not set
+# CONFIG_USER_DHCP_ISC_RELAY_DHCRELAY is not set
+# CONFIG_USER_DIALD_DIALD is not set
+# CONFIG_USER_DISCARD_DISCARD is not set
+# CONFIG_USER_DISCARD_INETD_ECHO is not set
+# CONFIG_USER_DNSMASQ_DNSMASQ is not set
+# CONFIG_USER_ETHATTACH_ETHATTACH is not set
+# CONFIG_USER_ETHERWAKE is not set
+# CONFIG_USER_ETHTOOL_ETHTOOL is not set
+# CONFIG_USER_EZIPUPDATE_EZIPUPDATE is not set
+# CONFIG_USER_FAKEIDENTD_IDENTD is not set
+# CONFIG_USER_DDNS3_CLIENT_DDNS3 is not set
+# CONFIG_USER_EBTABLES_EBTABLES is not set
+# CONFIG_USER_FERRET_FERRET is not set
+# CONFIG_USER_FTP_FTP_FTP is not set
+# CONFIG_USER_FTPD_FTPD is not set
+# CONFIG_USER_FROX_FROX is not set
+# CONFIG_USER_FREESWAN is not set
+# CONFIG_USER_OPENSWAN is not set
+# CONFIG_USER_GNUGK_GNUGK is not set
+# CONFIG_USER_HPING_HPING is not set
+# CONFIG_USER_HTTPD_HTTPD is not set
+# CONFIG_USER_HTTPTUNNEL_CLIENT is not set
+# CONFIG_USER_HTTPTUNNEL_SERVER is not set
+# CONFIG_USER_IFATTACH_IFATTACH is not set
+# CONFIG_USER_INETD_INETD is not set
+# CONFIG_USER_IPCHAINS_IPCHAINS is not set
+# CONFIG_USER_IPERF_IPERF is not set
+# CONFIG_USER_IPFWADM_IPFWADM is not set
+# CONFIG_USER_IPMASQADM_IPMASQADM is not set
+# CONFIG_USER_IPPORTFW_IPPORTFW is not set
+# CONFIG_USER_IPREDIR_IPREDIR is not set
+# CONFIG_USER_IPROUTE2 is not set
+# CONFIG_USER_IPSENTINEL_IPSENTINEL is not set
+# CONFIG_USER_IPSET_IPSET is not set
+# CONFIG_USER_IPTABLES_IPTABLES is not set
+# CONFIG_USER_IPTABLES_IP6TABLES is not set
+# CONFIG_USER_IPUTILS_IPUTILS is not set
+# CONFIG_USER_KENDIN_CONFIG is not set
+# CONFIG_USER_KLAXON_KLAXON is not set
+# CONFIG_USER_LANBYPASS_LANBYPASS is not set
+# CONFIG_USER_L2TPD_L2TPD is not set
+# CONFIG_USER_LINUXIGD_LINUXIGD is not set
+# CONFIG_USER_MINIUPNPD is not set
+# CONFIG_USER_LOATTACH_LOATTACH is not set
+# CONFIG_USER_LRPSTAT_LRPSTAT is not set
+# CONFIG_USER_SMTP_SMTPCLIENT is not set
+# CONFIG_USER_MAIL_MAIL_IP is not set
+# CONFIG_USER_MARADNS_MARADNS is not set
+# CONFIG_USER_MINI_HTTPD_MINI_HTTPD is not set
+# CONFIG_USER_MSNTP_MSNTP is not set
+# CONFIG_USER_NESSUS is not set
+# CONFIG_USER_NESSUS_NASL is not set
+# CONFIG_USER_NESSUS_CORE is not set
+# CONFIG_USER_NESSUS_PLUGINS is not set
+# CONFIG_USER_NESSUS_LIBRARIES is not set
+# CONFIG_USER_NETCAT_NETCAT is not set
+# CONFIG_USER_NETPERF_NETPERF is not set
+# CONFIG_USER_NETPERF_NETSERVER is not set
+# CONFIG_USER_NETPIPE_NETPIPE is not set
+# CONFIG_USER_NETSTAT_NAT_NETSTAT_NAT is not set
+# CONFIG_USER_NETSNMP_SNMPD is not set
+# CONFIG_USER_MARADNS_ZONESERVER is not set
+# CONFIG_USER_NMAP_NMAP is not set
+# CONFIG_USER_NTPCLIENT_NTPCLIENT is not set
+# CONFIG_USER_NTPCLIENT_ADJTIMEX is not set
+# CONFIG_USER_NTPD_NTPD is not set
+# CONFIG_USER_NTPD_NTPDATE is not set
+# CONFIG_USER_NTPD_NTPQ is not set
+# CONFIG_USER_OPENSSL_APPS is not set
+# CONFIG_USER_OPENVPN_OPENVPN is not set
+# CONFIG_USER_SSCEP is not set
+# CONFIG_USER_PING_PING is not set
+# CONFIG_USER_PLUG_PLUG is not set
+# CONFIG_USER_POP3PROXY_POP3PROXY is not set
+# CONFIG_USER_PORTMAP_PORTMAP is not set
+# CONFIG_USER_PPPD_PPPD_PPPD is not set
+# CONFIG_USER_PPTPD_PPTPCTRL is not set
+# CONFIG_USER_PPTPD_PPTPD is not set
+# CONFIG_USER_PPTP_PPTP is not set
+# CONFIG_USER_PPTP_CLIENT_PPTP is not set
+# CONFIG_USER_PPTP_CLIENT_PPTP_CALLMGR is not set
+# CONFIG_USER_PROFTPD_PROFTPD is not set
+# CONFIG_USER_QUAGGA_ZEBRA_ZEBRA is not set
+# CONFIG_USER_RADVD_RADVD is not set
+# CONFIG_USER_RADAUTH_RADAUTH is not set
+# CONFIG_USER_RDATE_RDATE is not set
+# CONFIG_USER_ROUTED_ROUTED is not set
+# CONFIG_USER_RP_PPPOE_PPPOE is not set
+# CONFIG_USER_RSYNC_RSYNC is not set
+# CONFIG_USER_RSYSLOG_RSYSLOGD is not set
+# CONFIG_USER_RSYSLOGD_RSYSLOGD is not set
+# CONFIG_USER_LOGROTATE_LOGROTATE is not set
+# CONFIG_USER_SENDIP_SENDIP is not set
+# CONFIG_USER_SER_SER is not set
+# CONFIG_USER_SETHDLC_SETHDLC is not set
+# CONFIG_USER_SIPROXD_SIPROXD is not set
+# CONFIG_USER_SLATTACH_SLATTACH is not set
+# CONFIG_USER_SNMPD_SNMPD is not set
+# CONFIG_USER_SNORT_SNORT is not set
+# CONFIG_USER_SPEEDTOUCH_MODEM_RUN is not set
+# CONFIG_USER_STUNNEL_STUNNEL is not set
+# CONFIG_USER_SSLWRAP_SSLWRAP is not set
+# CONFIG_USER_SQUID_SQUID is not set
+# CONFIG_USER_SSH_SSH is not set
+# CONFIG_USER_SSH_SSHD is not set
+# CONFIG_USER_SSH_SSHKEYGEN is not set
+# CONFIG_USER_STP_STP is not set
+# CONFIG_USER_TCPWRAP_TCPD is not set
+# CONFIG_USER_TCPBLAST_TCPBLAST is not set
+# CONFIG_USER_TCPDUMP_TCPDUMP is not set
+# CONFIG_USER_TELNETD_TELNETD is not set
+# CONFIG_USER_TELNET_TELNET is not set
+# CONFIG_USER_TFTP_TFTP is not set
+# CONFIG_USER_TFTPD_TFTPD is not set
+# CONFIG_USER_THTTPD_THTTPD is not set
+# CONFIG_USER_TINYPROXY_TINYPROXY is not set
+# CONFIG_USER_TRACEROUTE_TRACEROUTE is not set
+# CONFIG_USER_UDEV is not set
+# CONFIG_USER_ULOGD_ULOGD is not set
+# CONFIG_USER_ULOGD2_ULOGD is not set
+# CONFIG_USER_VCONFIG_VCONFIG is not set
+# CONFIG_USER_VPNLED_VPNLED is not set
+# CONFIG_USER_WGET is not set
+# CONFIG_USER_XL2TPD_XL2TPD is not set
+# CONFIG_USER_ZEBRA_ZEBRA_ZEBRA is not set
+
+#
+# Net-tools
+#
+# CONFIG_USER_NET_TOOLS_ARP is not set
+# CONFIG_USER_NET_TOOLS_HOSTNAME is not set
+# CONFIG_USER_NET_TOOLS_IFCONFIG is not set
+# CONFIG_USER_NET_TOOLS_NAMEIF is not set
+# CONFIG_USER_NET_TOOLS_NETSTAT is not set
+# CONFIG_USER_NET_TOOLS_PLIPCONFIG is not set
+# CONFIG_USER_NET_TOOLS_RARP is not set
+# CONFIG_USER_NET_TOOLS_ROUTE is not set
+# CONFIG_USER_NET_TOOLS_SLATTACH is not set
+# CONFIG_USER_NET_TOOLS_MII_TOOL is not set
+# CONFIG_USER_NET_TOOLS_MII_TOOL_FEC is not set
+
+#
+# Wireless-tools
+#
+# CONFIG_USER_WIRELESS_TOOLS is not set
+# CONFIG_USER_HOSTAP_HOSTAP is not set
+# CONFIG_USER_WLAN_NG is not set
+
+#
+# Miscellaneous Applications
+#
+# CONFIG_USER_P7ZIP_7ZA is not set
+# CONFIG_USER_LANG_A60 is not set
+# CONFIG_USER_ARJ_ARJ is not set
+# CONFIG_USER_BZIP2_BZIP2 is not set
+# CONFIG_USER_CAL_CAL is not set
+# CONFIG_USER_CAN_EXAMPLES is not set
+# CONFIG_USER_CHAT_CHAT is not set
+# CONFIG_USER_CKSUM_CKSUM is not set
+# CONFIG_USER_CLOCK_CLOCK is not set
+# CONFIG_USER_CPU_CPU is not set
+# CONFIG_USER_CRYPTO_TOOLS_CRYPTOTEST is not set
+# CONFIG_USER_CRYPTO_TOOLS_CRYPTOKEYTEST is not set
+# CONFIG_USER_CAL_DATE is not set
+# CONFIG_USER_DE2TSCAL_DE2TSCAL is not set
+# CONFIG_USER_EXPAT_EXAMPLES is not set
+# CONFIG_USER_EXPECT_EXPECT is not set
+# CONFIG_USER_TCL_LIBTCL is not set
+# CONFIG_USER_FLTHDR_FLTHDR is not set
+# CONFIG_USER_FROB_LED_FROB_LED is not set
+# CONFIG_USER_GDB_GDBREPLAY is not set
+# CONFIG_USER_GDB_GDBSERVER is not set
+# CONFIG_USER_GDB_TARGET is not set
+# CONFIG_USER_GDB_HOST is not set
+# CONFIG_USER_GDBSERVER_GDBREPLAY is not set
+# CONFIG_USER_GDBSERVER_GDBSERVER is not set
+# CONFIG_USER_DEBUG_DEBUG is not set
+# CONFIG_USER_GREP_GREP is not set
+# CONFIG_USER_HASERL_HASERL is not set
+# CONFIG_USER_HD_HD is not set
+# CONFIG_USER_LOAD_LOAD is not set
+# CONFIG_USER_CAN_HORCH is not set
+# CONFIG_USER_JAMVM_JAMVM is not set
+# CONFIG_USER_KEXEC_KEXEC is not set
+# CONFIG_USER_SGUTOOL_SGUTOOL is not set
+# CONFIG_USER_LCD_LCD is not set
+# CONFIG_USER_LEDCON_LEDCON is not set
+# CONFIG_USER_LHA_LHA is not set
+# CONFIG_USER_LILO_LILO is not set
+# CONFIG_USER_LISSA_LISSA is not set
+# CONFIG_USER_LPR is not set
+# CONFIG_USER_LSOF_LSOF is not set
+# CONFIG_USER_LUA_LUA is not set
+# CONFIG_USER_USBCBI_USBCBI is not set
+# CONFIG_USER_USBISO_USBISO is not set
+# CONFIG_USER_MATH_TEST is not set
+# CONFIG_USER_MAWK_AWK is not set
+# CONFIG_USER_MYSQL is not set
+# CONFIG_USER_NULL_NULL is not set
+# CONFIG_USER_OPROFILE is not set
+# CONFIG_USER_PALMBOT_PALMBOT is not set
+# CONFIG_USER_PCMCIA_CS is not set
+# CONFIG_USER_PERL_PERL is not set
+# CONFIG_USER_POTRACE_POTRACE is not set
+# CONFIG_USER_PYTHON_PYTHON is not set
+# CONFIG_USER_READPROFILE_READPROFILE is not set
+# CONFIG_USER_ROOTLOADER_ROOTLOADER is not set
+# CONFIG_USER_RRDTOOL_RRDTOOL is not set
+# CONFIG_USER_SETSERIAL_SETSERIAL is not set
+# CONFIG_USER_SHADOW_UTILS is not set
+# CONFIG_USER_TRIPWIRE_SIGGEN is not set
+# CONFIG_USER_STRACE_STRACE is not set
+# CONFIG_USER_STTY_STTY is not set
+# CONFIG_USER_TCSH_TCSH is not set
+# CONFIG_USER_TINYTCL_TCLSH is not set
+# CONFIG_LIB_TINYTCL is not set
+# CONFIG_USER_THREADDEMOS_THREADDEMOS is not set
+# CONFIG_USER_TIP_TIP is not set
+# CONFIG_USER_TRIPWIRE_TRIPWIRE is not set
+# CONFIG_USER_UNRAR_UNRAR is not set
+# CONFIG_USER_UNZIP_UNZIP is not set
+# CONFIG_USER_UNZOO_UNZOO is not set
+# CONFIG_USER_WATCHDOGD is not set
+# CONFIG_USER_LRZSZ_LRZSZ is not set
+
+#
+# Benchmarks
+#
+# CONFIG_USER_DHRYSTONE_DHRYSTONE is not set
+# CONFIG_USER_NBENCH_NBENCH is not set
+# CONFIG_USER_WHETSTONE_WHETSTONE is not set
+
+#
+# LIRC
+#
+# CONFIG_USER_LIRC is not set
+
+#
+# LM SENSORS
+#
+# CONFIG_USER_LM_SENSORS is not set
+
+#
+# QSPI
+#
+# CONFIG_MCF_QSPI is not set
+
+#
+# Editors
+#
+# CONFIG_USER_LEVEE_VI is not set
+# CONFIG_USER_ELVISTINY_VI is not set
+
+#
+# Audio tools
+#
+# CONFIG_USER_MP3PLAY_MP3PLAY is not set
+# CONFIG_USER_OGGPLAY_OGGPLAY is not set
+# CONFIG_USER_OGGPLAY_EXAMPLE is not set
+# CONFIG_USER_MUSICBOX_MUSICBOX is not set
+# CONFIG_USER_PLAY_PLAY is not set
+# CONFIG_USER_PLAY_TONE is not set
+# CONFIG_USER_VPLAY_VPLAY is not set
+# CONFIG_USER_VPLAY_VREC is not set
+# CONFIG_USER_VPLAY_MIXER is not set
+# CONFIG_USER_PLAYRT_PLAYRT is not set
+
+#
+# Video tools
+#
+# CONFIG_USER_CAMSERV is not set
+# CONFIG_USER_JPEGVIEW_JPEGVIEW is not set
+# CONFIG_USER_W3CAM_VIDCAT is not set
+# CONFIG_USER_W3CAM_W3CAMD is not set
+
+#
+# Fileutils tools
+#
+# CONFIG_USER_FILEUTILS_CAT is not set
+# CONFIG_USER_FILEUTILS_CHGRP is not set
+# CONFIG_USER_FILEUTILS_CHMOD is not set
+# CONFIG_USER_FILEUTILS_CHOWN is not set
+# CONFIG_USER_FILEUTILS_CMP is not set
+# CONFIG_USER_FILEUTILS_CP is not set
+# CONFIG_USER_FILEUTILS_DD is not set
+# CONFIG_USER_FILEUTILS_GREP is not set
+# CONFIG_USER_FILEUTILS_L is not set
+# CONFIG_USER_FILEUTILS_LN is not set
+# CONFIG_USER_FILEUTILS_LS is not set
+# CONFIG_USER_FILEUTILS_MKDIR is not set
+# CONFIG_USER_FILEUTILS_MKFIFO is not set
+# CONFIG_USER_FILEUTILS_MKNOD is not set
+# CONFIG_USER_FILEUTILS_MORE is not set
+# CONFIG_USER_FILEUTILS_MV is not set
+# CONFIG_USER_FILEUTILS_RM is not set
+# CONFIG_USER_FILEUTILS_RMDIR is not set
+# CONFIG_USER_FILEUTILS_SYNC is not set
+# CONFIG_USER_FILEUTILS_TOUCH is not set
+
+#
+# Shutils tools
+#
+# CONFIG_USER_SHUTILS_BASENAME is not set
+# CONFIG_USER_SHUTILS_DATE is not set
+# CONFIG_USER_SHUTILS_DIRNAME is not set
+# CONFIG_USER_SHUTILS_ECHO is not set
+# CONFIG_USER_SHUTILS_FALSE is not set
+# CONFIG_USER_SHUTILS_LOGNAME is not set
+# CONFIG_USER_SHUTILS_PRINTENV is not set
+# CONFIG_USER_SHUTILS_PWD is not set
+# CONFIG_USER_SHUTILS_TRUE is not set
+# CONFIG_USER_SHUTILS_UNAME is not set
+# CONFIG_USER_SHUTILS_WHICH is not set
+# CONFIG_USER_SHUTILS_WHOAMI is not set
+# CONFIG_USER_SHUTILS_YES is not set
+
+#
+# Sysutils tools
+#
+# CONFIG_USER_SYSUTILS_REBOOT is not set
+# CONFIG_USER_SYSUTILS_SHUTDOWN is not set
+# CONFIG_USER_SYSUTILS_DF is not set
+# CONFIG_USER_SYSUTILS_FREE is not set
+# CONFIG_USER_SYSUTILS_HOSTNAME is not set
+# CONFIG_USER_SYSUTILS_KILL is not set
+# CONFIG_USER_SYSUTILS_PS is not set
+
+#
+# Procps tools
+#
+# CONFIG_USER_PROCPS_FREE is not set
+# CONFIG_USER_PROCPS_KILL is not set
+# CONFIG_USER_PROCPS_PGREP is not set
+# CONFIG_USER_PROCPS_PKILL is not set
+# CONFIG_USER_PROCPS_PS is not set
+# CONFIG_USER_PROCPS_SNICE is not set
+# CONFIG_USER_PROCPS_SYSCTL is not set
+# CONFIG_USER_PROCPS_TLOAD is not set
+# CONFIG_USER_PROCPS_TOP is not set
+# CONFIG_USER_PROCPS_UPTIME is not set
+# CONFIG_USER_PROCPS_VMSTAT is not set
+# CONFIG_USER_PROCPS_W is not set
+# CONFIG_USER_PROCPS_WATCH is not set
+# CONFIG_USER_PROCPS_PMAP is not set
+# CONFIG_USER_PROCPS_SLABTOP is not set
+# CONFIG_USER_PROCPS_PWDX is not set
+
+#
+# PCI utilities
+#
+# CONFIG_USER_PCIUTILS_LSPCI is not set
+# CONFIG_USER_PCIUTILS_SETPCI is not set
+
+#
+# Test Applications
+#
+# CONFIG_USER_CXXTEST_CXXTEST is not set
+
+#
+# BusyBox
+#
+# CONFIG_USER_BUSYBOX_BUSYBOX is not set
+
+#
+# Tinylogin
+#
+CONFIG_USER_TINYLOGIN_TINYLOGIN=y
+
+#
+# Applets
+#
+# CONFIG_USER_TINYLOGIN_ADDUSER is not set
+# CONFIG_USER_TINYLOGIN_ADDGROUP is not set
+# CONFIG_USER_TINYLOGIN_DELUSER is not set
+# CONFIG_USER_TINYLOGIN_DELGROUP is not set
+CONFIG_USER_TINYLOGIN_LOGIN=y
+# CONFIG_USER_TINYLOGIN_SECURETTY is not set
+# CONFIG_USER_TINYLOGIN_SU is not set
+# CONFIG_USER_TINYLOGIN_SULOGIN is not set
+# CONFIG_USER_TINYLOGIN_PASSWD is not set
+CONFIG_USER_TINYLOGIN_GETTY=y
+
+#
+# Features
+#
+# CONFIG_USER_TINYLOGIN_SHADOWPASSWDS is not set
+# CONFIG_USER_TINYLOGIN_MD5_PASSWORDS is not set
+# CONFIG_USER_TINYLOGIN_SHA1_PASSWORDS is not set
+# CONFIG_USER_TINYLOGIN_TRIVIAL_HELP is not set
+
+#
+# MicroWindows
+#
+# CONFIG_USER_MICROWIN is not set
+
+#
+# Compiling Options
+#
+
+#
+# Libraries
+#
+
+#
+# Demos
+#
+
+#
+# Applications
+#
+
+#
+# Settings
+#
+
+#
+# Display Config
+#
+
+#
+# Mouse/Touch Screen
+#
+
+#
+# Keyboard
+#
+
+#
+# Install These Applications
+#
+
+#
+# Games
+#
+# CONFIG_USER_GAMES_ADVENT4 is not set
+# CONFIG_USER_GAMES_DUNGEON is not set
+# CONFIG_USER_GAMES_RUBIK is not set
+# CONFIG_USER_GAMES_TAMA is not set
+
+#
+# Miscellaneous Configuration
+#
+CONFIG_USER_RAMIMAGE_NONE=y
+# CONFIG_USER_RAMIMAGE_RAMFS64 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS128 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS256 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS512 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS1024 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS2048 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS8192 is not set
+# CONFIG_USER_CGI_GENERIC is not set
+# CONFIG_USER_CGIHTML is not set
+# CONFIG_USER_DEMO_BUTTON is not set
+# CONFIG_USER_DEMO_LATCH is not set
+# CONFIG_USER_DEMO_MORSE is not set
+# CONFIG_USER_DEMO_R2100 is not set
+# CONFIG_POOR_ENTROPY is not set
+
+#
+# Debug Builds
+#
+# CONFIG_LIB_DEBUG is not set
+# CONFIG_USER_DEBUG is not set
+
+#
+# Debug tools
+#
+# CONFIG_USER_TIMEPEG_TPT is not set
+
+#
+# Debug libraries
+#
+# CONFIG_LIB_LIBCCMALLOC is not set
+
+#
+# Automake Applications
+#
+# CONFIG_USER_FREERADIUS is not set
+# CONFIG_USER_SNORT_BARNYARD is not set
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/config.vendor-2.4.x uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.vendor-2.4.x
--- uClinux-dist-20091129/vendors/HP/DJ895C/config.vendor-2.4.x	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/config.vendor-2.4.x	2010-01-27 21:24:12.000000000 -0500
@@ -0,0 +1,778 @@
+#
+# Automatically generated make config: don't edit
+# Dist builder
+#
+CONFIG_DISTVERSION="4.0"
+
+#
+# Library Configuration
+#
+
+#
+# Force build (normally built when required)
+#
+# CONFIG_LIB_BITVECTOR is not set
+# CONFIG_LIB_FLEX is not set
+# CONFIG_LIB_BFD is not set
+# CONFIG_LIB_LIBIBERTY is not set
+# CONFIG_LIB_POPT is not set
+# CONFIG_LIB_LIBSSL is not set
+# CONFIG_LIB_LIBGMP is not set
+CONFIG_LIB_LIBG=y
+# CONFIG_LIB_LIBLDAP is not set
+# CONFIG_LIB_LIBLZMA is not set
+# CONFIG_LIB_LIBLZO is not set
+# CONFIG_LIB_LIBNET is not set
+# CONFIG_LIB_LIBNETOLD is not set
+# CONFIG_LIB_LIBPAM is not set
+# CONFIG_LIB_LIBPCAP is not set
+# CONFIG_LIB_LIBPCRE is not set
+# CONFIG_LIB_ZLIB is not set
+# CONFIG_LIB_LIBBZ2 is not set
+# CONFIG_LIB_LIBATM is not set
+# CONFIG_LIB_LIBPNG is not set
+# CONFIG_LIB_LIBJPEG is not set
+# CONFIG_LIB_LIBUPNP is not set
+# CONFIG_LIB_LIBSYSFS is not set
+# CONFIG_LIB_NCURSES is not set
+# CONFIG_LIB_TERMCAP is not set
+# CONFIG_LIB_LIBEFENCE is not set
+# CONFIG_LIB_STLPORT is not set
+# CONFIG_LIB_EXPAT is not set
+# CONFIG_LIB_ADNS is not set
+# CONFIG_LIB_ARES is not set
+# CONFIG_LIB_LIBIDN is not set
+# CONFIG_LIB_LIBNL is not set
+# CONFIG_LIB_NFNETLINK is not set
+# CONFIG_LIB_NETFILTER_CONNTRACK is not set
+# CONFIG_LIB_NETFILTER_LOG is not set
+# CONFIG_LIB_OSIP2 is not set
+# CONFIG_LIB_LIBCURL is not set
+# CONFIG_LIB_LIBCRYPT_OLD is not set
+# CONFIG_LIB_PWLIB is not set
+# CONFIG_LIB_LIBOPENH323 is not set
+# CONFIG_LIB_LIBJUDY is not set
+# CONFIG_LIB_CLASSPATH is not set
+# CONFIG_LIB_LIBFFI is not set
+# CONFIG_LIB_LIBXML2 is not set
+
+#
+# Library Configuration
+#
+# CONFIG_LIB_UC_LIBC_TIMEZONE is not set
+
+#
+# Automake Libraries
+#
+
+#
+# SnapGear Apps/Libs
+#
+# CONFIG_USER_CGI_NO_COM2 is not set
+# CONFIG_USER_CGI_COM2_MODEM is not set
+# CONFIG_USER_CGI_NO_DIALIN is not set
+# CONFIG_USER_FIREWALL_TOOLS is not set
+# CONFIG_USER_AES_PERF is not set
+# CONFIG_USER_BR_BR is not set
+# CONFIG_USER_DESTEST_DESPERF is not set
+# CONFIG_USER_EMCTEST_EMCECHO is not set
+# CONFIG_USER_EMCTEST_EMCTEST is not set
+# CONFIG_USER_FACTORY_FACTTEST is not set
+# CONFIG_USER_GRE_GRE is not set
+# CONFIG_USER_IDB_IDB is not set
+# CONFIG_USER_IPSEC_CONFIGURATOR is not set
+# CONFIG_USER_REDIALER_REDIALER is not set
+# CONFIG_USER_PKTDELAY_PKTDELAY is not set
+# CONFIG_USER_PROTECT is not set
+# CONFIG_USER_SETKEY_SETKEY is not set
+# CONFIG_USER_IOD is not set
+# CONFIG_USER_SWTEST_SWCONFIG is not set
+# CONFIG_USER_SWTEST_SWTEST is not set
+# CONFIG_USER_MGMT_MGMT is not set
+# CONFIG_USER_SGSNMPD_UDP is not set
+# CONFIG_USER_SGSNMPD_AGENT is not set
+# CONFIG_USER_TQRECV_TQRECV is not set
+# CONFIG_USER_UPNPD is not set
+# CONFIG_USER_WINSD_WS is not set
+# CONFIG_USER_TRUSTEDSOURCE_V2 is not set
+
+#
+# Supported Languages
+#
+# CONFIG_LANG_ENGLISH is not set
+# CONFIG_LANG_ENGLISH_CONTROL4 is not set
+# CONFIG_LANG_ENGLISH_EICON is not set
+# CONFIG_LANG_ENGLISH_ONIETA is not set
+# CONFIG_LANG_ENGLISH_PROCERA is not set
+# CONFIG_LANG_ENGLISH_SECURECOMPUTING is not set
+# CONFIG_LANG_ENGLISH_SERVGATE is not set
+# CONFIG_LANG_ENGLISH_TAMS is not set
+# CONFIG_LANG_ENGLISH_TELCOTECH is not set
+# CONFIG_LANG_ENGLISH_TELTRONICS is not set
+# CONFIG_LANG_MAROCTELECOM is not set
+# CONFIG_LANG_CHINESE is not set
+# CONFIG_LANG_JAPANESE is not set
+# CONFIG_LANG_DEBUG is not set
+
+#
+# SnapGear Device Settings
+#
+CONFIG_SIZE_VAR_PART=0
+CONFIG_SIZE_CONFIG_PART=0
+CONFIG_SIZE_SYSLOG_MAXSIZE=16
+
+#
+# Core Applications
+#
+CONFIG_USER_INIT_INIT=y
+CONFIG_USER_INIT_CONSOLE_SH=y
+# CONFIG_USER_INIT_RUN_FIREWALL is not set
+# CONFIG_USER_INIT_CONF is not set
+CONFIG_USER_SASH_SH=y
+# CONFIG_USER_SH_SH is not set
+# CONFIG_USER_NWSH_SH is not set
+# CONFIG_USER_BASH_BASH is not set
+# CONFIG_USER_MSH_SH is not set
+# CONFIG_USER_OTHER_SH is not set
+# CONFIG_USER_SASH_HISTORY is not set
+CONFIG_USER_SASH_PS=y
+CONFIG_USER_SASH_REBOOT=y
+CONFIG_USER_SASH_SHUTDOWN=y
+CONFIG_USER_INIT_EXPAND=y
+# CONFIG_USER_INIT_EXPAND_NOZEROES is not set
+# CONFIG_USER_VERSION_VERSION is not set
+# CONFIG_USER_LOGIN_LOGIN is not set
+# CONFIG_USER_OLD_PASSWORDS is not set
+# CONFIG_USER_ONLY_ROOT is not set
+# CONFIG_USER_AGETTY_AGETTY is not set
+# CONFIG_USER_GETTYD_GETTYD is not set
+# CONFIG_USER_MGETTY_MGETTY is not set
+# CONFIG_USER_LOGIN_PASSWD is not set
+# CONFIG_USER_CRON_CRON is not set
+
+#
+# Real Time Clock
+#
+# CONFIG_USER_HWCLOCK_HWCLOCK is not set
+# CONFIG_USER_RTC_M41T11 is not set
+# CONFIG_USER_RTC_DS1302 is not set
+
+#
+# USB Root Hub Controller
+#
+# CONFIG_USER_USBHUBCTRL_USBHUBCTRL is not set
+
+#
+# Vixie-cron
+#
+# CONFIG_USER_VIXIECRON_CRON is not set
+# CONFIG_USER_VIXIECRON_CRONTAB is not set
+
+#
+# at
+#
+# CONFIG_USER_AT_AT is not set
+# CONFIG_USER_AT_ATD is not set
+# CONFIG_USER_AT_ATRUN is not set
+
+#
+# OOM killer tinkering
+#
+# CONFIG_USER_NOOOM_NOOOM is not set
+
+#
+# Flash Tools
+#
+# CONFIG_USER_FLASHW_FLASHW is not set
+# CONFIG_USER_SETMAC_SETMAC is not set
+# CONFIG_USER_FCONFIG_FCONFIG is not set
+
+#
+# netflash tool
+#
+# CONFIG_USER_NETFLASH_NETFLASH is not set
+# CONFIG_USER_RECOVER_STATIC_TFTP is not set
+# CONFIG_USER_RECOVER_RECOVER is not set
+# CONFIG_USER_RECOVER_USE_STATIC_SERVER is not set
+
+#
+# Arcturus uCbootloader Apps/Libs
+#
+# CONFIG_USER_BOOTTOOLS_LOADER is not set
+# CONFIG_USER_BOOTTOOLS_HIMEMLOADER is not set
+# CONFIG_USER_BOOTTOOLS_PRINTBENV is not set
+# CONFIG_USER_BOOTTOOLS_SETBENV is not set
+# CONFIG_USER_BOOTTOOLS_RESET is not set
+# CONFIG_USER_BOOTTOOLS_MD5SUM is not set
+# CONFIG_LIB_LIBBSC is not set
+
+#
+# MTD utils
+#
+# CONFIG_USER_MTDUTILS is not set
+
+#
+# Filesystem Applications
+#
+# CONFIG_USER_FLATFSD_FLATFSD is not set
+# CONFIG_USER_MOUNT_MOUNT is not set
+# CONFIG_USER_MOUNT_UMOUNT is not set
+# CONFIG_USER_FDISK_FDISK is not set
+# CONFIG_USER_FDISK_SFDISK is not set
+
+#
+# EXT2
+#
+# CONFIG_USER_E2FSPROGS_E2FSCK_E2FSCK is not set
+# CONFIG_USER_E2FSPROGS_MISC_MKE2FS is not set
+# CONFIG_USER_E2FSPROGS_MISC_BADBLOCKS is not set
+# CONFIG_USER_E2FSPROGS_MISC_CHATTR is not set
+# CONFIG_USER_E2FSPROGS_MISC_DUMPE2FS is not set
+# CONFIG_USER_E2FSPROGS_MISC_E2LABEL is not set
+# CONFIG_USER_E2FSPROGS_MISC_FSCK is not set
+# CONFIG_USER_E2FSPROGS_MISC_LSATTR is not set
+# CONFIG_USER_E2FSPROGS_MISC_MKLOST_FOUND is not set
+# CONFIG_USER_E2FSPROGS_MISC_TUNE2FS is not set
+# CONFIG_USER_E2FSPROGS_MISC_UUIDGEN is not set
+
+#
+# RESIERFS
+#
+# CONFIG_USER_REISERFSPROGS is not set
+# CONFIG_USER_REISERFSPROGS_DEBUGRESIERFS is not set
+# CONFIG_USER_REISERFSPROGS_MKREISERFS is not set
+# CONFIG_USER_REISERFSPROGS_REISERFSCK is not set
+# CONFIG_USER_REISERFSPROGS_RESIZE_REISERFS is not set
+# CONFIG_USER_REISERFSPROGS_UNPACK is not set
+
+#
+# SAMBA
+#
+# CONFIG_USER_SAMBA is not set
+
+#
+# SMBFS
+#
+# CONFIG_USER_SMBMOUNT_SMBMOUNT is not set
+# CONFIG_USER_SMBMOUNT_SMBUMOUNT is not set
+
+#
+# CRAMFS
+#
+# CONFIG_USER_CRAMFS_CRAMFSCK is not set
+# CONFIG_USER_CRAMFS_MKCRAMFS is not set
+
+#
+# MSDOS
+#
+# CONFIG_USER_DOSFSTOOLS_MKDOSFS is not set
+# CONFIG_USER_DOSFSTOOLS_DOSFSCK is not set
+
+#
+# SquashFS
+#
+# CONFIG_USER_SQUASHFS_MKSQUASHFS is not set
+# CONFIG_USER_SQUASHFS_MKSQUASHFS7Z is not set
+
+#
+# Network Applications
+#
+# CONFIG_USER_APPWEB_APPWEB is not set
+# CONFIG_USER_ASTERISK is not set
+# CONFIG_USER_TRUSTEDSOURCE is not set
+# CONFIG_USER_BIND_BIND is not set
+# CONFIG_USER_FNORD_HTTPD is not set
+# CONFIG_USER_FNORD_PAM is not set
+CONFIG_USER_BOA_SRC_BOA=y
+# CONFIG_USER_BOA_WITH_SSL is not set
+# CONFIG_USER_BOA_EMERG is not set
+# CONFIG_USER_BOA_LOGGING is not set
+# CONFIG_USER_BPALOGIN_BPALOGIN is not set
+# CONFIG_USER_BR2684CTL_BR2684CTL is not set
+# CONFIG_USER_BRCFG_BRCFG is not set
+# CONFIG_USER_BRCTL_BRCTL is not set
+# CONFIG_USER_CLAMAV_CLAMAV is not set
+# CONFIG_USER_CONNTRACK_CONNTRACK is not set
+# CONFIG_USER_CTORRENT_CTORRENT is not set
+CONFIG_USER_DHCPCD_DHCPCD=y
+# CONFIG_USER_DHCPCD_LLIP is not set
+# CONFIG_USER_DHCPCD_NEW_DHCPCD is not set
+# CONFIG_USER_DHCPD_DHCPD is not set
+# CONFIG_USER_DHCP_ISC_SERVER_DHCPD is not set
+# CONFIG_USER_DHCP_ISC_CLIENT_DHCLIENT is not set
+# CONFIG_USER_DHCP_ISC_RELAY_DHCRELAY is not set
+CONFIG_USER_DIALD_DIALD=y
+CONFIG_USER_DISCARD_DISCARD=y
+# CONFIG_USER_DISCARD_NO_INSTALL is not set
+# CONFIG_USER_DISCARD_INETD_ECHO is not set
+# CONFIG_USER_DNSMASQ_DNSMASQ is not set
+# CONFIG_USER_DROPBEAR_DROPBEAR is not set
+# CONFIG_USER_ETHATTACH_ETHATTACH is not set
+# CONFIG_USER_ETHERWAKE is not set
+# CONFIG_USER_ETHTOOL_ETHTOOL is not set
+# CONFIG_USER_EZIPUPDATE_EZIPUPDATE is not set
+# CONFIG_USER_FAKEIDENTD_IDENTD is not set
+# CONFIG_USER_DDNS3_CLIENT_DDNS3 is not set
+# CONFIG_USER_FERRET_FERRET is not set
+# CONFIG_USER_FTP_FTP_FTP is not set
+# CONFIG_USER_FTPD_FTPD is not set
+# CONFIG_USER_FROX_FROX is not set
+# CONFIG_USER_FREESWAN is not set
+# CONFIG_USER_OPENSWAN is not set
+# CONFIG_USER_GNUGK_GNUGK is not set
+# CONFIG_USER_HPING_HPING is not set
+# CONFIG_USER_HTTPD_HTTPD is not set
+# CONFIG_USER_HTTPTUNNEL_CLIENT is not set
+# CONFIG_USER_HTTPTUNNEL_SERVER is not set
+# CONFIG_USER_IFATTACH_IFATTACH is not set
+CONFIG_USER_INETD_INETD=y
+# CONFIG_USER_IPCHAINS_IPCHAINS is not set
+# CONFIG_USER_IPERF_IPERF is not set
+# CONFIG_USER_IPFWADM_IPFWADM is not set
+# CONFIG_USER_IPMASQADM_IPMASQADM is not set
+# CONFIG_USER_IPPORTFW_IPPORTFW is not set
+# CONFIG_USER_IPREDIR_IPREDIR is not set
+# CONFIG_USER_IPROUTE2 is not set
+# CONFIG_USER_IPSENTINEL_IPSENTINEL is not set
+# CONFIG_USER_IPSET_IPSET is not set
+# CONFIG_USER_IPTABLES_IPTABLES is not set
+# CONFIG_USER_IPTABLES_IP6TABLES is not set
+# CONFIG_USER_IPUTILS_IPUTILS is not set
+# CONFIG_USER_KENDIN_CONFIG is not set
+# CONFIG_USER_KLAXON_KLAXON is not set
+# CONFIG_USER_L2TPD_L2TPD is not set
+# CONFIG_USER_LINUXIGD_LINUXIGD is not set
+# CONFIG_USER_MINIUPNPD is not set
+# CONFIG_USER_LOATTACH_LOATTACH is not set
+# CONFIG_USER_LRPSTAT_LRPSTAT is not set
+# CONFIG_USER_SMTP_SMTPCLIENT is not set
+# CONFIG_USER_MAIL_MAIL_IP is not set
+# CONFIG_USER_MARADNS_MARADNS is not set
+# CONFIG_USER_MINI_HTTPD_MINI_HTTPD is not set
+# CONFIG_USER_MSNTP_MSNTP is not set
+# CONFIG_USER_NESSUS is not set
+# CONFIG_USER_NESSUS_NASL is not set
+# CONFIG_USER_NESSUS_CORE is not set
+# CONFIG_USER_NESSUS_PLUGINS is not set
+# CONFIG_USER_NESSUS_LIBRARIES is not set
+# CONFIG_USER_NETCAT_NETCAT is not set
+# CONFIG_USER_NETPERF_NETPERF is not set
+# CONFIG_USER_NETPERF_NETSERVER is not set
+# CONFIG_USER_NETPIPE_NETPIPE is not set
+# CONFIG_USER_NETSTAT_NAT_NETSTAT_NAT is not set
+# CONFIG_USER_NETSNMP_SNMPD is not set
+# CONFIG_USER_MARADNS_ZONESERVER is not set
+# CONFIG_USER_NMAP_NMAP is not set
+# CONFIG_USER_NTPCLIENT_NTPCLIENT is not set
+# CONFIG_USER_NTPCLIENT_ADJTIMEX is not set
+# CONFIG_USER_NTPD_NTPD is not set
+# CONFIG_USER_NTPD_NTPDATE is not set
+# CONFIG_USER_NTPD_NTPQ is not set
+# CONFIG_USER_OPENSSL_APPS is not set
+# CONFIG_USER_OPENVPN_OPENVPN is not set
+# CONFIG_USER_SSCEP is not set
+CONFIG_USER_PING_PING=y
+# CONFIG_USER_PLUG_PLUG is not set
+# CONFIG_USER_POP3PROXY_POP3PROXY is not set
+# CONFIG_USER_PORTMAP_PORTMAP is not set
+CONFIG_USER_PPPD_PPPD_PPPD=y
+# CONFIG_USER_PPPD_WITH_DYNAMIC_PLUGINS is not set
+# CONFIG_USER_PPPD_WITH_IPV6 is not set
+# CONFIG_USER_PPPD_WITH_PAM is not set
+# CONFIG_USER_PPPD_WITH_MPPE is not set
+# CONFIG_USER_PPPD_WITH_TACACS is not set
+# CONFIG_USER_PPPD_WITH_RADIUS is not set
+# CONFIG_USER_PPPD_WITH_PPPOE is not set
+# CONFIG_USER_PPPD_WITH_PPPOA is not set
+# CONFIG_USER_PPPD_NO_AT_REDIRECTION is not set
+# CONFIG_USER_PPPD_WITH_MINCONN is not set
+# CONFIG_USER_PPPD_WITH_PASSPROMPT is not set
+# CONFIG_USER_PPPD_WITH_PASSWORDFD is not set
+# CONFIG_USER_PPPD_WITH_WINBIND is not set
+# CONFIG_USER_PPTPD_PPTPCTRL is not set
+# CONFIG_USER_PPTPD_PPTPD is not set
+# CONFIG_USER_PPTP_PPTP is not set
+# CONFIG_USER_PPTP_CLIENT_PPTP is not set
+# CONFIG_USER_PPTP_CLIENT_PPTP_CALLMGR is not set
+# CONFIG_USER_PROFTPD_PROFTPD is not set
+# CONFIG_USER_QUAGGA_ZEBRA_ZEBRA is not set
+# CONFIG_USER_RADVD_RADVD is not set
+# CONFIG_USER_RADAUTH_RADAUTH is not set
+# CONFIG_USER_RDATE_RDATE is not set
+# CONFIG_USER_ROUTED_ROUTED is not set
+# CONFIG_USER_RP_PPPOE_PPPOE is not set
+# CONFIG_USER_RSYNC_RSYNC is not set
+# CONFIG_USER_RSYSLOG_RSYSLOGD is not set
+# CONFIG_USER_RSYSLOGD_RSYSLOGD is not set
+# CONFIG_USER_LOGROTATE_LOGROTATE is not set
+# CONFIG_USER_SENDIP_SENDIP is not set
+# CONFIG_USER_SER_SER is not set
+# CONFIG_USER_SETHDLC_SETHDLC is not set
+# CONFIG_USER_SIPROXD_SIPROXD is not set
+# CONFIG_USER_SLATTACH_SLATTACH is not set
+# CONFIG_USER_SNMPD_SNMPD is not set
+# CONFIG_USER_SNORT_SNORT is not set
+# CONFIG_USER_SPEEDTOUCH_MODEM_RUN is not set
+# CONFIG_USER_STUNNEL_STUNNEL is not set
+# CONFIG_USER_SSLWRAP_SSLWRAP is not set
+# CONFIG_USER_SQUID_SQUID is not set
+# CONFIG_USER_SSH_SSH is not set
+# CONFIG_USER_SSH_SSHD is not set
+# CONFIG_USER_SSH_SSHKEYGEN is not set
+# CONFIG_USER_STP_STP is not set
+# CONFIG_USER_TCPWRAP_TCPD is not set
+# CONFIG_USER_TCPBLAST_TCPBLAST is not set
+# CONFIG_USER_TCPDUMP_TCPDUMP is not set
+CONFIG_USER_TELNETD_TELNETD=y
+CONFIG_USER_TELNETD_DOES_NOT_USE_OPENPTY=y
+CONFIG_USER_TELNET_TELNET=y
+# CONFIG_USER_TFTP_TFTP is not set
+# CONFIG_USER_TFTPD_TFTPD is not set
+# CONFIG_USER_THTTPD_THTTPD is not set
+# CONFIG_USER_TINYPROXY_TINYPROXY is not set
+# CONFIG_USER_TRACEROUTE_TRACEROUTE is not set
+# CONFIG_USER_UDEV is not set
+# CONFIG_USER_ULOGD_ULOGD is not set
+# CONFIG_USER_ULOGD2_ULOGD is not set
+# CONFIG_USER_VCONFIG_VCONFIG is not set
+# CONFIG_USER_VPNLED_VPNLED is not set
+# CONFIG_USER_WGET is not set
+# CONFIG_USER_ZEBRA_ZEBRA_ZEBRA is not set
+
+#
+# Net-tools
+#
+# CONFIG_USER_NET_TOOLS_ARP is not set
+# CONFIG_USER_NET_TOOLS_HOSTNAME is not set
+CONFIG_USER_NET_TOOLS_IFCONFIG=y
+# CONFIG_USER_NET_TOOLS_NAMEIF is not set
+# CONFIG_USER_NET_TOOLS_NETSTAT is not set
+# CONFIG_USER_NET_TOOLS_PLIPCONFIG is not set
+# CONFIG_USER_NET_TOOLS_RARP is not set
+CONFIG_USER_NET_TOOLS_ROUTE=y
+# CONFIG_USER_NET_TOOLS_SLATTACH is not set
+CONFIG_USER_NET_TOOLS_MII_TOOL=y
+# CONFIG_USER_NET_TOOLS_MII_TOOL_FEC is not set
+
+#
+# Wireless-tools
+#
+# CONFIG_USER_WIRELESS_TOOLS is not set
+# CONFIG_USER_HOSTAP_HOSTAP is not set
+# CONFIG_USER_WLAN_NG is not set
+
+#
+# Miscellaneous Applications
+#
+# CONFIG_USER_P7ZIP_7ZA is not set
+# CONFIG_USER_LANG_A60 is not set
+# CONFIG_USER_ARJ_ARJ is not set
+# CONFIG_USER_BZIP2_BZIP2 is not set
+# CONFIG_USER_CAL_CAL is not set
+# CONFIG_USER_CAN_EXAMPLES is not set
+CONFIG_USER_CHAT_CHAT=y
+# CONFIG_USER_CHAT_CHAT_NETWORK is not set
+# CONFIG_USER_CKSUM_CKSUM is not set
+# CONFIG_USER_CLOCK_CLOCK is not set
+# CONFIG_USER_CPU_CPU is not set
+# CONFIG_USER_CRYPTO_TOOLS_CRYPTOTEST is not set
+# CONFIG_USER_CRYPTO_TOOLS_CRYPTOKEYTEST is not set
+# CONFIG_USER_CAL_DATE is not set
+# CONFIG_USER_DE2TSCAL_DE2TSCAL is not set
+# CONFIG_USER_EXPAT_EXAMPLES is not set
+# CONFIG_USER_EXPECT_EXPECT is not set
+# CONFIG_USER_TCL_LIBTCL is not set
+# CONFIG_USER_FLTHDR_FLTHDR is not set
+# CONFIG_USER_FROB_LED_FROB_LED is not set
+# CONFIG_USER_GDB_GDBREPLAY is not set
+# CONFIG_USER_GDB_GDBSERVER is not set
+# CONFIG_USER_GDB_TARGET is not set
+# CONFIG_USER_GDB_HOST is not set
+# CONFIG_USER_GDBSERVER_GDBREPLAY is not set
+CONFIG_USER_GDBSERVER_GDBSERVER=y
+# CONFIG_USER_DEBUG_DEBUG is not set
+# CONFIG_USER_GREP_GREP is not set
+# CONFIG_USER_HASERL_HASERL is not set
+# CONFIG_USER_HD_HD is not set
+# CONFIG_USER_CAN_HORCH is not set
+# CONFIG_USER_JAMVM_JAMVM is not set
+# CONFIG_USER_KEXEC_KEXEC is not set
+# CONFIG_USER_SGUTOOL_SGUTOOL is not set
+# CONFIG_USER_LCD_LCD is not set
+# CONFIG_USER_LEDCON_LEDCON is not set
+# CONFIG_USER_LHA_LHA is not set
+# CONFIG_USER_LILO_LILO is not set
+# CONFIG_USER_LISSA_LISSA is not set
+# CONFIG_USER_LPR is not set
+# CONFIG_USER_LSOF_LSOF is not set
+# CONFIG_USER_LUA_LUA is not set
+# CONFIG_USER_USBCBI_USBCBI is not set
+# CONFIG_USER_USBISO_USBISO is not set
+# CONFIG_USER_MATH_TEST is not set
+# CONFIG_USER_MAWK_AWK is not set
+# CONFIG_USER_MYSQL is not set
+# CONFIG_USER_NULL_NULL is not set
+# CONFIG_USER_OPROFILE is not set
+# CONFIG_USER_PALMBOT_PALMBOT is not set
+# CONFIG_USER_PCMCIA_CS is not set
+# CONFIG_USER_PERL_PERL is not set
+# CONFIG_USER_POTRACE_POTRACE is not set
+# CONFIG_USER_PYTHON_PYTHON is not set
+# CONFIG_USER_READPROFILE_READPROFILE is not set
+# CONFIG_USER_ROOTLOADER_ROOTLOADER is not set
+# CONFIG_USER_RRDTOOL_RRDTOOL is not set
+# CONFIG_USER_SETSERIAL_SETSERIAL is not set
+# CONFIG_USER_SHADOW_UTILS is not set
+# CONFIG_USER_TRIPWIRE_SIGGEN is not set
+# CONFIG_USER_STRACE_STRACE is not set
+# CONFIG_USER_STTY_STTY is not set
+# CONFIG_USER_TCSH_TCSH is not set
+# CONFIG_USER_TINYTCL_TCLSH is not set
+# CONFIG_LIB_TINYTCL is not set
+# CONFIG_USER_THREADDEMOS_THREADDEMOS is not set
+CONFIG_USER_TIP_TIP=y
+# CONFIG_USER_TRIPWIRE_TRIPWIRE is not set
+# CONFIG_USER_UNRAR_UNRAR is not set
+# CONFIG_USER_UNZIP_UNZIP is not set
+# CONFIG_USER_UNZOO_UNZOO is not set
+# CONFIG_USER_WATCHDOGD is not set
+# CONFIG_USER_LRZSZ_LRZSZ is not set
+
+#
+# Benchmarks
+#
+# CONFIG_USER_DHRYSTONE_DHRYSTONE is not set
+# CONFIG_USER_NBENCH_NBENCH is not set
+# CONFIG_USER_WHETSTONE_WHETSTONE is not set
+
+#
+# LIRC
+#
+# CONFIG_USER_LIRC is not set
+
+#
+# LM SENSORS
+#
+# CONFIG_USER_LM_SENSORS is not set
+
+#
+# QSPI
+#
+# CONFIG_MCF_QSPI is not set
+
+#
+# Editors
+#
+CONFIG_USER_LEVEE_VI=y
+# CONFIG_USER_ELVISTINY_VI is not set
+
+#
+# Audio tools
+#
+# CONFIG_USER_MP3PLAY_MP3PLAY is not set
+# CONFIG_USER_OGGPLAY_OGGPLAY is not set
+# CONFIG_USER_OGGPLAY_EXAMPLE is not set
+# CONFIG_USER_MUSICBOX_MUSICBOX is not set
+# CONFIG_USER_PLAY_PLAY is not set
+# CONFIG_USER_PLAY_TONE is not set
+# CONFIG_USER_VPLAY_VPLAY is not set
+# CONFIG_USER_VPLAY_VREC is not set
+# CONFIG_USER_VPLAY_MIXER is not set
+# CONFIG_USER_PLAYRT_PLAYRT is not set
+
+#
+# Video tools
+#
+# CONFIG_USER_CAMSERV is not set
+# CONFIG_USER_JPEGVIEW_JPEGVIEW is not set
+# CONFIG_USER_W3CAM_VIDCAT is not set
+# CONFIG_USER_W3CAM_W3CAMD is not set
+
+#
+# Fileutils tools
+#
+# CONFIG_USER_FILEUTILS_CAT is not set
+# CONFIG_USER_FILEUTILS_CHGRP is not set
+# CONFIG_USER_FILEUTILS_CHMOD is not set
+# CONFIG_USER_FILEUTILS_CHOWN is not set
+# CONFIG_USER_FILEUTILS_CMP is not set
+# CONFIG_USER_FILEUTILS_CP is not set
+# CONFIG_USER_FILEUTILS_DD is not set
+# CONFIG_USER_FILEUTILS_GREP is not set
+# CONFIG_USER_FILEUTILS_L is not set
+# CONFIG_USER_FILEUTILS_LN is not set
+# CONFIG_USER_FILEUTILS_LS is not set
+# CONFIG_USER_FILEUTILS_MKDIR is not set
+# CONFIG_USER_FILEUTILS_MKFIFO is not set
+# CONFIG_USER_FILEUTILS_MKNOD is not set
+# CONFIG_USER_FILEUTILS_MORE is not set
+# CONFIG_USER_FILEUTILS_MV is not set
+# CONFIG_USER_FILEUTILS_RM is not set
+# CONFIG_USER_FILEUTILS_RMDIR is not set
+# CONFIG_USER_FILEUTILS_SYNC is not set
+# CONFIG_USER_FILEUTILS_TOUCH is not set
+
+#
+# Shutils tools
+#
+# CONFIG_USER_SHUTILS_BASENAME is not set
+# CONFIG_USER_SHUTILS_DATE is not set
+# CONFIG_USER_SHUTILS_DIRNAME is not set
+# CONFIG_USER_SHUTILS_ECHO is not set
+# CONFIG_USER_SHUTILS_FALSE is not set
+# CONFIG_USER_SHUTILS_LOGNAME is not set
+# CONFIG_USER_SHUTILS_PRINTENV is not set
+# CONFIG_USER_SHUTILS_PWD is not set
+# CONFIG_USER_SHUTILS_TRUE is not set
+# CONFIG_USER_SHUTILS_UNAME is not set
+# CONFIG_USER_SHUTILS_WHICH is not set
+# CONFIG_USER_SHUTILS_WHOAMI is not set
+# CONFIG_USER_SHUTILS_YES is not set
+
+#
+# Sysutils tools
+#
+# CONFIG_USER_SYSUTILS_REBOOT is not set
+# CONFIG_USER_SYSUTILS_SHUTDOWN is not set
+# CONFIG_USER_SYSUTILS_DF is not set
+# CONFIG_USER_SYSUTILS_FREE is not set
+# CONFIG_USER_SYSUTILS_HOSTNAME is not set
+# CONFIG_USER_SYSUTILS_KILL is not set
+# CONFIG_USER_SYSUTILS_PS is not set
+
+#
+# Procps tools
+#
+# CONFIG_USER_PROCPS_FREE is not set
+# CONFIG_USER_PROCPS_KILL is not set
+# CONFIG_USER_PROCPS_PGREP is not set
+# CONFIG_USER_PROCPS_PKILL is not set
+# CONFIG_USER_PROCPS_PS is not set
+# CONFIG_USER_PROCPS_SNICE is not set
+# CONFIG_USER_PROCPS_SYSCTL is not set
+# CONFIG_USER_PROCPS_TLOAD is not set
+# CONFIG_USER_PROCPS_TOP is not set
+# CONFIG_USER_PROCPS_UPTIME is not set
+# CONFIG_USER_PROCPS_VMSTAT is not set
+# CONFIG_USER_PROCPS_W is not set
+# CONFIG_USER_PROCPS_WATCH is not set
+# CONFIG_USER_PROCPS_PMAP is not set
+# CONFIG_USER_PROCPS_SLABTOP is not set
+# CONFIG_USER_PROCPS_PWDX is not set
+
+#
+# PCI utilities
+#
+# CONFIG_USER_PCIUTILS_LSPCI is not set
+# CONFIG_USER_PCIUTILS_SETPCI is not set
+
+#
+# Test Applications
+#
+# CONFIG_USER_CXXTEST_CXXTEST is not set
+
+#
+# BusyBox
+#
+# CONFIG_USER_BUSYBOX_BUSYBOX is not set
+
+#
+# Tinylogin
+#
+# CONFIG_USER_TINYLOGIN_TINYLOGIN is not set
+
+#
+# Applets
+#
+
+#
+# Features
+#
+
+#
+# MicroWindows
+#
+# CONFIG_USER_MICROWIN is not set
+
+#
+# Compiling Options
+#
+
+#
+# Libraries
+#
+
+#
+# Demos
+#
+
+#
+# Applications
+#
+
+#
+# Settings
+#
+
+#
+# Display Config
+#
+
+#
+# Mouse/Touch Screen
+#
+
+#
+# Keyboard
+#
+
+#
+# Install These Applications
+#
+
+#
+# Games
+#
+# CONFIG_USER_GAMES_ADVENT4 is not set
+# CONFIG_USER_GAMES_DUNGEON is not set
+# CONFIG_USER_GAMES_RUBIK is not set
+# CONFIG_USER_GAMES_TAMA is not set
+
+#
+# Miscellaneous Configuration
+#
+# CONFIG_USER_RAMIMAGE_NONE is not set
+# CONFIG_USER_RAMIMAGE_RAMFS64 is not set
+CONFIG_USER_RAMIMAGE_RAMFS128=y
+# CONFIG_USER_RAMIMAGE_RAMFS256 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS512 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS1024 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS2048 is not set
+# CONFIG_USER_RAMIMAGE_RAMFS8192 is not set
+# CONFIG_USER_CGI_GENERIC is not set
+# CONFIG_USER_CGIHTML is not set
+# CONFIG_USER_DEMO_BUTTON is not set
+# CONFIG_USER_DEMO_LATCH is not set
+# CONFIG_USER_DEMO_MORSE is not set
+# CONFIG_USER_DEMO_R2100 is not set
+# CONFIG_POOR_ENTROPY is not set
+
+#
+# Debug Builds
+#
+# CONFIG_LIB_DEBUG is not set
+# CONFIG_USER_DEBUG is not set
+
+#
+# Debug tools
+#
+# CONFIG_USER_TIMEPEG_TPT is not set
+
+#
+# Debug libraries
+#
+# CONFIG_LIB_LIBCCMALLOC is not set
+
+#
+# Automake Applications
+#
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/group.vendor uClinux-dist-20091129-dj/vendors/HP/DJ895C/group.vendor
--- uClinux-dist-20091129/vendors/HP/DJ895C/group.vendor	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/group.vendor	2010-02-16 19:46:51.000000000 -0500
@@ -0,0 +1 @@
+root::0:
\ No newline at end of file
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/inittab.vendor uClinux-dist-20091129-dj/vendors/HP/DJ895C/inittab.vendor
--- uClinux-dist-20091129/vendors/HP/DJ895C/inittab.vendor	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/inittab.vendor	2010-02-16 00:53:39.000000000 -0500
@@ -0,0 +1,4 @@
+inet:unknown:/bin/inetd
+boa:unknown:/bin/boa
+getty:unknown:/bin/getty ttyGS0 9600
+
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/Makefile uClinux-dist-20091129-dj/vendors/HP/DJ895C/Makefile
--- uClinux-dist-20091129/vendors/HP/DJ895C/Makefile	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/Makefile	2010-02-16 19:47:45.000000000 -0500
@@ -0,0 +1,108 @@
+#
+#	Makefile -- Build instructions for Motorola/M5206eC3
+#
+
+# romfs imagenot actually used.  No rom. 
+ROMFSIMG = $(IMAGEDIR)/romfs.img
+
+IMAGE    = $(IMAGEDIR)/image.bin
+
+# Not used.
+ELFIMAGE = $(IMAGEDIR)/image.elf
+
+DIRS = 
+
+# romfs structure is still built, loaded into ramfs by 2.6 kernel config
+ROMFS_DIRS = bin dev dev/flash etc etc/config etc/default home lib mnt proc \
+             usr var home/httpd home/httpd/cgi-bin
+
+DEVICES = \
+	tty,c,5,0	console,c,5,1	cua0,c,5,64	cua1,c,5,65 \
+	mem,c,1,1	kmem,c,1,2	null,c,1,3 \
+	\
+	ram0,b,1,0	ram1,b,1,1	ram2,b,1,2	ram3,b,1,3 \
+	\
+	ptyp0,c,2,0	ptyp1,c,2,1	ptyp2,c,2,2	ptyp3,c,2,3 \
+	ptyp4,c,2,4	ptyp5,c,2,5	ptyp6,c,2,6	ptyp7,c,2,7 \
+	ptyp8,c,2,8	ptyp9,c,2,9	ptypa,c,2,10	ptypb,c,2,11 \
+	ptypc,c,2,12	ptypd,c,2,13	ptype,c,2,14	ptypf,c,2,15 \
+	\
+	rom0,b,31,0	rom1,b,31,1	rom2,b,31,2	rom3,b,31,3 \
+	rom4,b,31,4	rom5,b,31,5	rom6,b,31,6	rom7,b,31,7 \
+	rom8,b,31,8	rom9,b,31,9 \
+	\
+	tty0,c,4,0	tty1,c,4,1	tty2,c,4,2	tty3,c,4,3 \
+	ttyS0,c,4,64	ttyS1,c,4,65    ttyGS0,c,254,0 \
+	\
+	ttyp0,c,3,0	ttyp1,c,3,1	ttyp2,c,3,2	ttyp3,c,3,3 \
+	ttyp4,c,3,4	ttyp5,c,3,5	ttyp6,c,3,6	ttyp7,c,3,7 \
+	ttyp8,c,3,8	ttyp9,c,3,9	ttypa,c,3,10	ttypb,c,3,11 \
+	ttypc,c,3,12	ttypd,c,3,13	ttype,c,3,14	ttypf,c,3,15 \
+	\
+	zero,c,1,5	random,c,1,8	urandom,c,1,9 \
+	\
+	ipsec,c,36,10 \
+	ppp,c,108,0
+
+# We'll have to figure out how to point this at the original HP ROM
+FLASH_DEVICES = \
+	image,b,31,2
+
+all:
+	dirs=$(DIRS) ; \
+	for i in $$dirs ; do  make -C $$i || exit $? ; done
+
+clean:
+	-dirs=$(DIRS) ; \
+	for i in $$dirs; do [ ! -d $$i ] || make -C $$i clean; done
+
+romfs:
+	[ -d $(ROMFSDIR)/$$i ] || mkdir -p $(ROMFSDIR)
+	for i in $(ROMFS_DIRS); do \
+		[ -d $(ROMFSDIR)/$$i ] || mkdir -p $(ROMFSDIR)/$$i; \
+	done
+	# explode these now... we need real nodes for ramfs
+	for i in $(DEVICES); do \
+        DEVN=`echo $$i | sed -e 's/,.*//' -e 's,.*/,,'`; \
+	MIN=`echo $$i | sed -e 's/.*,//'`; \
+	DEVT=`echo $$i | sed -e 's:[^/,]*,:: ' -e 's/,.*//'`; \
+	MAJ=`echo $$i | sed -e 's:[^/,]*,:: ' -e 's:[^/,]*,:: ' -e 's/,.*//'`; \
+	rm $(ROMFSDIR)/dev/$$DEVN ;\
+	mknod $(ROMFSDIR)/dev/$$DEVN $$DEVT $$MAJ $$MIN; \
+	done
+	# these permissions are needed for openpty and family to work
+	# on non-ptmx ptys
+	chmod 620 $(ROMFSDIR)/dev/[pt]ty[pqrsPQRS][0-9a-f]
+	for i in $(FLASH_DEVICES); do \
+		touch $(ROMFSDIR)/dev/flash/@$$i; \
+	done
+	dirs=$(DIRS) ; \
+	for i in $$dirs; do make -C $$i romfs || exit $? ; done
+	$(ROMFSINST) -s /var/tmp /tmp
+	$(ROMFSINST) ../../Generic/romfs /
+	$(ROMFSINST) ./inittab.vendor /etc/inittab
+	$(ROMFSINST) ./rc.vendor /etc/rc
+	$(ROMFSINST) ./passwd.vendor /etc/passwd
+	$(ROMFSINST) ./group.vendor /etc/group
+	if [ $(CONFIG_BLK_DEV_INITRD) = "y" ]; then \
+		ln -sf bin/init $(ROMFSDIR)/linuxrc; \
+	fi
+	echo "$(VERSIONSTR) -- " `date` > $(ROMFSDIR)/etc/version
+
+image:
+	[ -d $(IMAGEDIR) ] || mkdir -p $(IMAGEDIR)
+	genromfs -v -V "ROMdisk" -f $(ROMFSIMG) -d $(ROMFSDIR)
+	$(CROSS)objcopy -O binary $(ROOTDIR)/$(LINUXDIR)/linux \
+	  $(IMAGEDIR)/linux.bin
+	cat $(IMAGEDIR)/linux.bin $(ROMFSIMG) > $(IMAGE)
+	$(ROOTDIR)/tools/cksum -b -o 2 $(IMAGE) >> $(IMAGE)
+	[ -n "$(NO_BUILD_INTO_TFTPBOOT)" ] || cp $(IMAGE) /tftpboot
+	BSS=`$(CROSS)objdump --headers $(ROOTDIR)/$(LINUXDIR)/linux | \
+	  grep .bss` ; \
+	ADDR=`set -- $${BSS} ; echo 0x$${4}` ; \
+	$(CROSS)objcopy --add-section=.romfs=$(ROMFSIMG) \
+	  --adjust-section-vma=.romfs=$${ADDR} --no-adjust-warnings \
+	  --set-section-flags=.romfs=alloc,load,data   \
+	  $(ROOTDIR)/$(LINUXDIR)/linux $(ELFIMAGE) 2> /dev/null
+
+
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/passwd.vendor uClinux-dist-20091129-dj/vendors/HP/DJ895C/passwd.vendor
--- uClinux-dist-20091129/vendors/HP/DJ895C/passwd.vendor	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/passwd.vendor	2010-02-16 19:46:38.000000000 -0500
@@ -0,0 +1,2 @@
+root::0:0::/:/bin/sh
+
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/pphack.c uClinux-dist-20091129-dj/vendors/HP/DJ895C/pphack.c
--- uClinux-dist-20091129/vendors/HP/DJ895C/pphack.c	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/pphack.c	2010-02-16 23:41:38.000000000 -0500
@@ -0,0 +1,55 @@
+
+#include <sys/io.h>
+#include <errno.h>
+#include <unistd.h>
+#include <stdio.h>
+#include <stdlib.h>
+
+int main(void) {
+  int tmp;
+  int i;
+
+  tmp = ioperm(0x378, 16, 1);
+  if (tmp) { 
+    fprintf(stderr,"Failed to get IO permission (errno = 0x%x)\n", errno);
+    exit(-1);
+  }
+  while(1) {
+    while(1) {
+      tmp = inb(0x379);
+      /*    fprintf(stderr, "Want 0xf8 [0x379] == 0x%x  \n", tmp); */
+      if (tmp == 0xf8) break;
+    }
+    /*  fprintf(stderr, "starting read\n"); */
+    outb(38,0x37a);
+    while(1) {
+      tmp = inb(0x378);
+      /*    fprintf(stderr, "[0x378] == 0x%x  ", tmp); */
+      tmp = inb(0x379);
+      /*    fprintf(stderr, "Want 0xf0 [0x379] == 0x%x  \n", tmp); */
+      if ((tmp == 0xf0) || (tmp == 0x30)) break;
+    }
+    /*  fprintf(stderr, "step 2\n"); */
+    outb(34,0x37a);
+    while(1) {
+      tmp = inb(0x379);
+      /* fprintf(stderr, "Want 0x90 [0x379] == 0x%x  \n", tmp); */
+      if (tmp == 0x90) break;
+    }
+    tmp = inb(0x378);
+    fprintf(stdout, "%c", tmp);
+    outb(32,0x37a);
+    while(1) {
+      tmp = inb(0x379);
+      /* fprintf(stderr, "Want 0xd0 [0x379] == 0x%x  \n", tmp); */
+      if (tmp == 0xd0) break;
+    }
+    outb(02,0x37a);
+    outb(06,0x37a);
+    while(1) {
+      tmp = inb(0x379);
+      /* fprintf(stderr, "Want 0xf8 [0x379] == 0x%x  \n", tmp); */
+      if ((tmp == 0xf8) || (tmp == 0x38)) break;
+    }
+  }  
+}
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/rc.vendor uClinux-dist-20091129-dj/vendors/HP/DJ895C/rc.vendor
--- uClinux-dist-20091129/vendors/HP/DJ895C/rc.vendor	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/rc.vendor	2010-02-15 22:02:18.000000000 -0500
@@ -0,0 +1,9 @@
+hostname uClinux
+mount -t proc proc /proc
+mkdir /var/tmp
+mkdir /var/log
+mkdir /var/run
+mkdir /var/lock
+mkdir /var/empty
+echo YADAYADAYADA > /dev/ttyGS0
+cat /etc/motd > /dev/ttyGS0
diff -N -U2 -r uClinux-dist-20091129/vendors/HP/DJ895C/runkernel uClinux-dist-20091129-dj/vendors/HP/DJ895C/runkernel
--- uClinux-dist-20091129/vendors/HP/DJ895C/runkernel	1969-12-31 19:00:00.000000000 -0500
+++ uClinux-dist-20091129-dj/vendors/HP/DJ895C/runkernel	2010-02-16 23:47:59.000000000 -0500
@@ -0,0 +1,8 @@
+#!/bin/sh
+modprobe lp
+sleep 1
+srec_cat images/linux.bin -Binary -offset 0x2010000 -Output image.srec -Motorola
+cat image.srec > /dev/lp0
+echo S70502010000F7 > /dev/lp0
+rmmod lp
+#vendors/HP/DJ865C/pphack
